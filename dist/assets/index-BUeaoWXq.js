var fi=Object.defineProperty;var hi=(n,e,t)=>e in n?fi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Nn=(n,e,t)=>hi(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}})();function oe(){}const rn=n=>n;function Dl(n){return n()}function vo(){return Object.create(null)}function je(n){n.forEach(Dl)}function Pe(n){return typeof n=="function"}function Re(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let bn;function Bo(n,e){return n===e?!0:(bn||(bn=document.createElement("a")),bn.href=e,n===bn.href)}function gi(n){return Object.keys(n).length===0}function El(n,...e){if(n==null){for(const o of e)o(void 0);return oe}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function qt(n){let e;return El(n,t=>e=t)(),e}function Ml(n,e,t){n.$$.on_destroy.push(El(e,t))}function To(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const Al=typeof window<"u";let Bn=Al?()=>window.performance.now():()=>Date.now(),Zn=Al?n=>requestAnimationFrame(n):oe;const Ht=new Set;function Ll(n){Ht.forEach(e=>{e.c(n)||(Ht.delete(e),e.f())}),Ht.size!==0&&Zn(Ll)}function Tn(n){let e;return Ht.size===0&&Zn(Ll),{promise:new Promise(t=>{Ht.add(e={c:n,f:t})}),abort(){Ht.delete(e)}}}function k(n,e){n.appendChild(e)}function Ol(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function mi(n){const e=S("style");return e.textContent="/* empty */",bi(Ol(n),e),e.sheet}function bi(n,e){return k(n.head||n,e),e.sheet}function Q(n,e,t){n.insertBefore(e,t||null)}function V(n){n.parentNode&&n.parentNode.removeChild(n)}function ki(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function S(n){return document.createElement(n)}function ot(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ke(n){return document.createTextNode(n)}function R(){return ke(" ")}function qe(){return ke("")}function X(n,e,t,o){return n.addEventListener(e,t,o),()=>n.removeEventListener(e,t,o)}function pi(n){return function(e){return e.preventDefault(),n.call(this,e)}}function _i(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function c(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function wi(n){return Array.from(n.childNodes)}function De(n,e){e=""+e,n.data!==e&&(n.data=e)}function Rt(n,e){n.value=e??""}function it(n,e,t,o){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function Fo(n,e,t){for(let o=0;o<n.options.length;o+=1){const l=n.options[o];if(l.__value===e){l.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function yi(n){const e=n.querySelector(":checked");return e&&e.__value}function ve(n,e,t){n.classList.toggle(e,!!t)}function Pl(n,e,{bubbles:t=!1,cancelable:o=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:o})}const In=new Map;let vn=0;function Si(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function Ci(n,e){const t={stylesheet:mi(e),rules:{}};return In.set(n,t),t}function nn(n,e,t,o,l,r,s,i=0){const a=16.666/o;let u=`{
`;for(let _=0;_<=1;_+=a){const C=e+(t-e)*r(_);u+=_*100+`%{${s(C,1-C)}}
`}const f=u+`100% {${s(t,1-t)}}
}`,g=`__svelte_${Si(f)}_${i}`,h=Ol(n),{stylesheet:m,rules:b}=In.get(h)||Ci(h,n);b[g]||(b[g]=!0,m.insertRule(`@keyframes ${g} ${f}`,m.cssRules.length));const p=n.style.animation||"";return n.style.animation=`${p?`${p}, `:""}${g} ${o}ms linear ${l}ms 1 both`,vn+=1,g}function on(n,e){const t=(n.style.animation||"").split(", "),o=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),l=t.length-o.length;l&&(n.style.animation=o.join(", "),vn-=l,vn||Ii())}function Ii(){Zn(()=>{vn||(In.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&V(e)}),In.clear())})}function vi(n,e,t,o){if(!e)return oe;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return oe;const{delay:r=0,duration:s=300,easing:i=rn,start:a=Bn()+r,end:u=a+s,tick:f=oe,css:g}=t(n,{from:e,to:l},o);let h=!0,m=!1,b;function p(){g&&(b=nn(n,0,1,s,r,i,g)),r||(m=!0)}function _(){g&&on(n,b),h=!1}return Tn(C=>{if(!m&&C>=a&&(m=!0),m&&C>=u&&(f(1,0),_()),!h)return!1;if(m){const T=C-a,O=0+1*i(T/s);f(O,1-O)}return!0}),p(),f(0,1),_}function Bi(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:o}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=o,jl(n,l)}}function jl(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const o=getComputedStyle(n),l=o.transform==="none"?"":o.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let ln;function tn(n){ln=n}function Ul(){if(!ln)throw new Error("Function called outside component initialization");return ln}function Rl(n){Ul().$$.on_mount.push(n)}function Nl(){const n=Ul();return(e,t,{cancelable:o=!1}={})=>{const l=n.$$.callbacks[e];if(l){const r=Pl(e,t,{cancelable:o});return l.slice().forEach(s=>{s.call(n,r)}),!r.defaultPrevented}return!0}}function Ti(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(o=>o.call(this,e))}const Ut=[],lt=[];let Gt=[];const Do=[],Hl=Promise.resolve();let Wn=!1;function Gl(){Wn||(Wn=!0,Hl.then(zl))}function xn(){return Gl(),Hl}function at(n){Gt.push(n)}const Hn=new Set;let Ot=0;function zl(){if(Ot!==0)return;const n=ln;do{try{for(;Ot<Ut.length;){const e=Ut[Ot];Ot++,tn(e),Fi(e.$$)}}catch(e){throw Ut.length=0,Ot=0,e}for(tn(null),Ut.length=0,Ot=0;lt.length;)lt.pop()();for(let e=0;e<Gt.length;e+=1){const t=Gt[e];Hn.has(t)||(Hn.add(t),t())}Gt.length=0}while(Ut.length);for(;Do.length;)Do.pop()();Wn=!1,Hn.clear(),tn(n)}function Fi(n){if(n.fragment!==null){n.update(),je(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(at)}}function Di(n){const e=[],t=[];Gt.forEach(o=>n.indexOf(o)===-1?e.push(o):t.push(o)),t.forEach(o=>o()),Gt=e}let Xt;function $n(){return Xt||(Xt=Promise.resolve(),Xt.then(()=>{Xt=null})),Xt}function Ft(n,e,t){n.dispatchEvent(Pl(`${e?"intro":"outro"}${t}`))}const yn=new Set;let st;function Ge(){st={r:0,c:[],p:st}}function ze(){st.r||je(st.c),st=st.p}function $(n,e){n&&n.i&&(yn.delete(n),n.i(e))}function ne(n,e,t,o){if(n&&n.o){if(yn.has(n))return;yn.add(n),st.c.push(()=>{yn.delete(n),o&&(t&&n.d(1),o())}),n.o(e)}else o&&o()}const eo={duration:0};function Ei(n,e,t){const o={direction:"in"};let l=e(n,t,o),r=!1,s,i,a=0;function u(){s&&on(n,s)}function f(){const{delay:h=0,duration:m=300,easing:b=rn,tick:p=oe,css:_}=l||eo;_&&(s=nn(n,0,1,m,h,b,_,a++)),p(0,1);const C=Bn()+h,T=C+m;i&&i.abort(),r=!0,at(()=>Ft(n,!0,"start")),i=Tn(O=>{if(r){if(O>=T)return p(1,0),Ft(n,!0,"end"),u(),r=!1;if(O>=C){const j=b((O-C)/m);p(j,1-j)}}return r})}let g=!1;return{start(){g||(g=!0,on(n),Pe(l)?(l=l(o),$n().then(f)):f())},invalidate(){g=!1},end(){r&&(u(),r=!1)}}}function Mi(n,e,t){const o={direction:"out"};let l=e(n,t,o),r=!0,s;const i=st;i.r+=1;let a;function u(){const{delay:f=0,duration:g=300,easing:h=rn,tick:m=oe,css:b}=l||eo;b&&(s=nn(n,1,0,g,f,h,b));const p=Bn()+f,_=p+g;at(()=>Ft(n,!1,"start")),"inert"in n&&(a=n.inert,n.inert=!0),Tn(C=>{if(r){if(C>=_)return m(0,1),Ft(n,!1,"end"),--i.r||je(i.c),!1;if(C>=p){const T=h((C-p)/g);m(1-T,T)}}return r})}return Pe(l)?$n().then(()=>{l=l(o),u()}):u(),{end(f){f&&"inert"in n&&(n.inert=a),f&&l.tick&&l.tick(1,0),r&&(s&&on(n,s),r=!1)}}}function kn(n,e,t,o){let r=e(n,t,{direction:"both"}),s=o?0:1,i=null,a=null,u=null,f;function g(){u&&on(n,u)}function h(b,p){const _=b.b-s;return p*=Math.abs(_),{a:s,b:b.b,d:_,duration:p,start:b.start,end:b.start+p,group:b.group}}function m(b){const{delay:p=0,duration:_=300,easing:C=rn,tick:T=oe,css:O}=r||eo,j={start:Bn()+p,b};b||(j.group=st,st.r+=1),"inert"in n&&(b?f!==void 0&&(n.inert=f):(f=n.inert,n.inert=!0)),i||a?a=j:(O&&(g(),u=nn(n,s,b,_,p,C,O)),b&&T(0,1),i=h(j,_),at(()=>Ft(n,b,"start")),Tn(F=>{if(a&&F>a.start&&(i=h(a,_),a=null,Ft(n,i.b,"start"),O&&(g(),u=nn(n,s,i.b,i.duration,0,C,r.css))),i){if(F>=i.end)T(s=i.b,1-s),Ft(n,i.b,"end"),a||(i.b?g():--i.group.r||je(i.group.c)),i=null;else if(F>=i.start){const B=F-i.start;s=i.a+i.d*C(B/i.duration),T(s,1-s)}}return!!(i||a)}))}return{run(b){Pe(r)?$n().then(()=>{r=r({direction:b?"in":"out"}),m(b)}):m(b)},end(){g(),i=a=null}}}function ye(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Wt(n,e){n.d(1),e.delete(n.key)}function Dt(n,e){ne(n,1,1,()=>{e.delete(n.key)})}function Ai(n,e){n.f(),Dt(n,e)}function et(n,e,t,o,l,r,s,i,a,u,f,g){let h=n.length,m=r.length,b=h;const p={};for(;b--;)p[n[b].key]=b;const _=[],C=new Map,T=new Map,O=[];for(b=m;b--;){const A=g(l,r,b),q=t(A);let D=s.get(q);D?O.push(()=>D.p(A,e)):(D=u(q,A),D.c()),C.set(q,_[b]=D),q in p&&T.set(q,Math.abs(b-p[q]))}const j=new Set,F=new Set;function B(A){$(A,1),A.m(i,f),s.set(A.key,A),f=A.first,m--}for(;h&&m;){const A=_[m-1],q=n[h-1],D=A.key,W=q.key;A===q?(f=A.first,h--,m--):C.has(W)?!s.has(D)||j.has(D)?B(A):F.has(W)?h--:T.get(D)>T.get(W)?(F.add(D),B(A)):(j.add(W),h--):(a(q,s),h--)}for(;h--;){const A=n[h];C.has(A.key)||a(A,s)}for(;m;)B(_[m-1]);return je(O),_}function Oe(n){n&&n.c()}function Me(n,e,t){const{fragment:o,after_update:l}=n.$$;o&&o.m(e,t),at(()=>{const r=n.$$.on_mount.map(Dl).filter(Pe);n.$$.on_destroy?n.$$.on_destroy.push(...r):je(r),n.$$.on_mount=[]}),l.forEach(at)}function Ae(n,e){const t=n.$$;t.fragment!==null&&(Di(t.after_update),je(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Li(n,e){n.$$.dirty[0]===-1&&(Ut.push(n),Gl(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Ne(n,e,t,o,l,r,s=null,i=[-1]){const a=ln;tn(n);const u=n.$$={fragment:null,ctx:[],props:r,update:oe,not_equal:l,bound:vo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:vo(),dirty:i,skip_bound:!1,root:e.target||a.$$.root};s&&s(u.root);let f=!1;if(u.ctx=t?t(n,e.props||{},(g,h,...m)=>{const b=m.length?m[0]:h;return u.ctx&&l(u.ctx[g],u.ctx[g]=b)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](b),f&&Li(n,g)),h}):[],u.update(),f=!0,je(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const g=wi(e.target);u.fragment&&u.fragment.l(g),g.forEach(V)}else u.fragment&&u.fragment.c();e.intro&&$(n.$$.fragment),Me(n,e.target,e.anchor),zl()}tn(a)}class He{constructor(){Nn(this,"$$");Nn(this,"$$set")}$destroy(){Ae(this,1),this.$destroy=oe}$on(e,t){if(!Pe(t))return oe;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const l=o.indexOf(t);l!==-1&&o.splice(l,1)}}$set(e){this.$$set&&!gi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Oi="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Oi);const Pt=[];function Pi(n,e=oe){let t;const o=new Set;function l(i){if(Re(n,i)&&(n=i,t)){const a=!Pt.length;for(const u of o)u[1](),Pt.push(u,n);if(a){for(let u=0;u<Pt.length;u+=2)Pt[u][0](Pt[u+1]);Pt.length=0}}}function r(i){l(i(n))}function s(i,a=oe){const u=[i,a];return o.add(u),o.size===1&&(t=e(l,r)||oe),i(n),()=>{o.delete(u),o.size===0&&t&&(t(),t=null)}}return{set:l,update:r,subscribe:s}}const ji={nodesById:{},rootIds:[]},xe=Pi(ji),ql={subscribe:xe.subscribe};function to(n,{includeChildren:e=!1}={}){const t=Array.isArray(n.children),o=t?[...n.children]:[],l=e?o.sort((i,a)=>(i.index??0)-(a.index??0)):[],s=o.filter(i=>!i.url).length>0;return{id:n.id,parentId:n.parentId??null,title:n.title??"",url:n.url??null,index:typeof n.index=="number"?n.index:0,isFolder:!n.url,childrenIds:e?l.map(i=>i.id):[],childrenLoaded:e,hasChildren:!n.url&&(e||t?s:!0)}}function Wl(n){xe.update(e=>{const t={...e.nodesById};let o=[...e.rootIds];for(const l of n){const r=t[l.id];t[l.id]=r?{...r,...l}:l,!l.parentId&&!o.includes(l.id)&&o.push(l.id)}return o.sort((l,r)=>{const s=t[l],i=t[r];return((s==null?void 0:s.index)??0)-((i==null?void 0:i.index)??0)}),{...e,nodesById:t,rootIds:o}})}function Vn(n,e,t){xe.update(o=>{const l={...o.nodesById},r=l[n];if(!r)return o;const s=Array.from(new Set(e));s.sort((a,u)=>{const f=l[a],g=l[u];return((f==null?void 0:f.index)??0)-((g==null?void 0:g.index)??0)});const i=s.some(a=>{var u;return(u=l[a])==null?void 0:u.isFolder});return l[n]={...r,childrenIds:s,childrenLoaded:t?!0:r.childrenLoaded,hasChildren:i},{...o,nodesById:l}})}async function Ui(n){const e=await n.bookmarks.getTree(),t=Array.isArray(e)?e[0]:null,l=((t==null?void 0:t.children)??[]).map(r=>to(r,{includeChildren:!1}));return xe.set({nodesById:Object.fromEntries(l.map(r=>[r.id,r])),rootIds:l.map(r=>r.id)}),l.map(r=>r.id)}async function Ri(n){const e=await n.bookmarks.getTree(),t=Array.isArray(e)?e[0]:null;if(!t)return[];const o=[],l=[];function r(i,a=!1){const g=(Array.isArray(i.children)?[...i.children]:[]).sort((b,p)=>(b.index??0)-(p.index??0)),h=g.filter(b=>!b.url),m={id:i.id,parentId:i.parentId??null,title:i.title??"",url:i.url??null,index:typeof i.index=="number"?i.index:0,isFolder:!i.url,childrenIds:g.map(b=>b.id),childrenLoaded:!0,hasChildren:h.length>0};i.url||(o.push(m),a&&l.push(i.id));for(const b of h)r(b,!1)}const s=t.children??[];for(const i of s)r(i,!0);return xe.set({nodesById:Object.fromEntries(o.map(i=>[i.id,i])),rootIds:l}),l}function _t(){return qt(xe)}function Vl(n){return qt(xe).nodesById[n]}async function Zt(n,e){const t=await n.bookmarks.getSubTree(e),o=Array.isArray(t)?t[0]:null;if(!o)return{folderIds:[]};const l=[o],r=[],s=[];for(;l.length;){const i=l.shift(),a=Array.isArray(i.children),u=to(i,{includeChildren:a});r.push(u),i.url||s.push(i.id),a&&l.push(...i.children)}return Wl(r),r.forEach(i=>{if(i.isFolder&&Vn(i.id,i.childrenIds,!0),i.parentId){const u=qt(xe).nodesById[i.parentId];if(u){const f=u.childrenIds?[...u.childrenIds]:[];f.push(i.id),Vn(i.parentId,f,u.childrenLoaded)}}}),{folderIds:s}}function Sn(n){const e=qt(xe),t=[];let o=e.nodesById[n];for(;o&&(o.title&&t.unshift(o.title),!!o.parentId);)o=e.nodesById[o.parentId];return t}function Ni(n){const e=to(n,{includeChildren:!1});if(Wl([e]),e.parentId){const t=Vl(e.parentId),o=t!=null&&t.childrenIds?[...t.childrenIds]:[];o.splice(e.index??o.length,0,e.id),Vn(e.parentId,o,t==null?void 0:t.childrenLoaded)}}function Hi(n,e){xe.update(t=>{const o=t.nodesById[n];if(!o)return t;const l={...t.nodesById,[n]:{...o,...e}};return{...t,nodesById:l}})}function Gi(n,{parentId:e,oldParentId:t,index:o}){xe.update(l=>{const r={...l.nodesById},s=r[n];if(!s)return l;const i={...s,parentId:e,index:typeof o=="number"?o:s.index};if(r[n]=i,t&&r[t]){const a=r[t],u=(a.childrenIds??[]).filter(g=>g!==n),f=u.some(g=>{var h;return(h=r[g])==null?void 0:h.isFolder});r[t]={...a,childrenIds:u,hasChildren:f}}if(e&&r[e]){const a=r[e],u=[...a.childrenIds??[]];u.includes(n)||u.splice(o??u.length,0,n);const f=u.some(g=>{var h;return(h=r[g])==null?void 0:h.isFolder});r[e]={...a,childrenIds:u,hasChildren:f}}return{...l,nodesById:r}})}function zi(n,{parentId:e}){xe.update(t=>{var i;const o={...t.nodesById},l=new Set([n]),r=[n];for(;r.length;){const a=r.pop(),u=o[a];u&&(i=u.childrenIds)!=null&&i.length&&u.childrenIds.forEach(f=>{l.has(f)||(l.add(f),r.push(f))})}l.forEach(a=>{delete o[a]});let s=t.rootIds;if(s.includes(n)&&(s=s.filter(a=>a!==n)),e&&o[e]){const a=o[e],u=(a.childrenIds??[]).filter(g=>g!==n),f=u.some(g=>{var h;return(h=o[g])==null?void 0:h.isFolder});o[e]={...a,childrenIds:u,hasChildren:f}}return{...t,nodesById:o,rootIds:s}})}function pn(n){var l;const e=qt(xe),t=[],o=[n];for(;o.length;){const r=o.pop(),s=e.nodesById[r];s&&s.isFolder&&(t.push(r),(l=s.childrenIds)!=null&&l.length&&s.childrenIds.forEach(i=>{const a=e.nodesById[i];a!=null&&a.isFolder&&o.push(i)}))}return t}function qi(){const n=qt(xe);return Object.values(n.nodesById).filter(e=>e.isFolder).map(e=>({id:e.id,title:e.title??"",path:Sn(e.id)}))}function Eo(n,e,t){const o=n.slice();return o[26]=e[t],o}function Mo(n){let e,t,o,l,r,s,i,a,u,f,g,h,m,b=(n[12].title||"Untitled folder")+"",p,_,C,T,O,j,F,B=n[11]&&n[15]&&Ao(n);return{c(){var A;e=S("li"),t=S("div"),o=S("button"),l=ot("svg"),r=ot("path"),u=R(),f=S("label"),g=S("input"),h=R(),m=S("span"),p=ke(b),C=R(),B&&B.c(),c(r,"d","M6 4.5 10 8l-4 3.5"),c(r,"fill","none"),c(r,"stroke","currentColor"),c(r,"stroke-width","1.6"),c(r,"stroke-linecap","round"),c(r,"stroke-linejoin","round"),c(l,"viewBox","0 0 16 16"),c(l,"aria-hidden","true"),c(l,"focusable","false"),c(o,"type","button"),c(o,"class","folder-node__expander svelte-ux2jgn"),c(o,"aria-hidden",s=!n[11]),c(o,"aria-label",i=n[15]?"Collapse folder":"Expand folder"),o.disabled=a=!n[11],ve(o,"hidden",!n[11]),c(g,"type","checkbox"),c(g,"class","folder-node__checkbox svelte-ux2jgn"),c(m,"class","folder-node__title svelte-ux2jgn"),c(m,"title",_=n[12].title||"Untitled folder"),c(f,"class","folder-node__label svelte-ux2jgn"),c(t,"class","folder-node__row svelte-ux2jgn"),c(t,"style",n[16]),c(e,"class","folder-node svelte-ux2jgn"),c(e,"data-expanded",n[15]),c(e,"data-depth",n[1]),c(e,"data-match",T=((A=n[5])==null?void 0:A.has(n[0]))??!1)},m(A,q){Q(A,e,q),k(e,t),k(t,o),k(o,l),k(l,r),k(t,u),k(t,f),k(f,g),n[24](g),k(f,h),k(f,m),k(m,p),k(e,C),B&&B.m(e,null),O=!0,j||(F=[X(o,"click",n[17]),X(g,"change",n[18])],j=!0)},p(A,q){var D;(!O||q&2048&&s!==(s=!A[11]))&&c(o,"aria-hidden",s),(!O||q&32768&&i!==(i=A[15]?"Collapse folder":"Expand folder"))&&c(o,"aria-label",i),(!O||q&2048&&a!==(a=!A[11]))&&(o.disabled=a),(!O||q&2048)&&ve(o,"hidden",!A[11]),(!O||q&4096)&&b!==(b=(A[12].title||"Untitled folder")+"")&&De(p,b),(!O||q&4096&&_!==(_=A[12].title||"Untitled folder"))&&c(m,"title",_),A[11]&&A[15]?B?(B.p(A,q),q&34816&&$(B,1)):(B=Ao(A),B.c(),$(B,1),B.m(e,null)):B&&(Ge(),ne(B,1,1,()=>{B=null}),ze()),(!O||q&32768)&&c(e,"data-expanded",A[15]),(!O||q&2)&&c(e,"data-depth",A[1]),(!O||q&33&&T!==(T=((D=A[5])==null?void 0:D.has(A[0]))??!1))&&c(e,"data-match",T)},i(A){O||($(B),O=!0)},o(A){ne(B),O=!1},d(A){A&&V(e),n[24](null),B&&B.d(),j=!1,je(F)}}}function Ao(n){let e,t=[],o=new Map,l,r=ye(n[13]);const s=i=>i[26];for(let i=0;i<r.length;i+=1){let a=Eo(n,r,i),u=s(a);o.set(u,t[i]=Lo(u,a))}return{c(){e=S("ul");for(let i=0;i<t.length;i+=1)t[i].c();c(e,"class","folder-node__children svelte-ux2jgn")},m(i,a){Q(i,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);l=!0},p(i,a){a&9214&&(r=ye(i[13]),Ge(),t=et(t,a,s,1,i,r,o,e,Dt,Lo,null,Eo),ze())},i(i){if(!l){for(let a=0;a<r.length;a+=1)$(t[a]);l=!0}},o(i){for(let a=0;a<t.length;a+=1)ne(t[a]);l=!1},d(i){i&&V(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Lo(n,e){let t,o,l;return o=new Kl({props:{nodeId:e[26],depth:e[1]+1,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[5],selectedIds:e[6],toggleSelection:e[7],toggleExpansion:e[8],getCheckboxState:e[9]}}),{key:n,first:null,c(){t=qe(),Oe(o.$$.fragment),this.first=t},m(r,s){Q(r,t,s),Me(o,r,s),l=!0},p(r,s){e=r;const i={};s&8192&&(i.nodeId=e[26]),s&2&&(i.depth=e[1]+1),s&4&&(i.expandedIds=e[2]),s&8&&(i.loadingIds=e[3]),s&16&&(i.visibleIds=e[4]),s&32&&(i.searchMatches=e[5]),s&64&&(i.selectedIds=e[6]),s&128&&(i.toggleSelection=e[7]),s&256&&(i.toggleExpansion=e[8]),s&512&&(i.getCheckboxState=e[9]),o.$set(i)},i(r){l||($(o.$$.fragment,r),l=!0)},o(r){ne(o.$$.fragment,r),l=!1},d(r){r&&V(t),Ae(o,r)}}}function Wi(n){let e,t,o=n[14]&&Mo(n);return{c(){o&&o.c(),e=qe()},m(l,r){o&&o.m(l,r),Q(l,e,r),t=!0},p(l,[r]){l[14]?o?(o.p(l,r),r&16384&&$(o,1)):(o=Mo(l),o.c(),$(o,1),o.m(e.parentNode,e)):o&&(Ge(),ne(o,1,1,()=>{o=null}),ze())},i(l){t||($(o),t=!0)},o(l){ne(o),t=!1},d(l){l&&V(e),o&&o.d(l)}}}function Vi(n,e,t){let o,l,r,s,i,a,u,f,g,h;Ml(n,ql,x=>t(23,h=x));let{nodeId:m}=e,{depth:b=0}=e,{expandedIds:p}=e,{loadingIds:_}=e,{visibleIds:C}=e,{searchMatches:T}=e,{selectedIds:O}=e,{toggleSelection:j}=e,{toggleExpansion:F}=e,{getCheckboxState:B}=e,A;const q=`--depth: ${b}`;function D(x){x.stopPropagation(),i&&(F==null||F(m))}function W(x){x.stopPropagation(),j==null||j(m)}function Z(x){lt[x?"unshift":"push"](()=>{A=x,t(10,A),t(21,f),t(9,B),t(6,O),t(0,m)})}return n.$$set=x=>{"nodeId"in x&&t(0,m=x.nodeId),"depth"in x&&t(1,b=x.depth),"expandedIds"in x&&t(2,p=x.expandedIds),"loadingIds"in x&&t(3,_=x.loadingIds),"visibleIds"in x&&t(4,C=x.visibleIds),"searchMatches"in x&&t(5,T=x.searchMatches),"selectedIds"in x&&t(6,O=x.selectedIds),"toggleSelection"in x&&t(7,j=x.toggleSelection),"toggleExpansion"in x&&t(8,F=x.toggleExpansion),"getCheckboxState"in x&&t(9,B=x.getCheckboxState)},n.$$.update=()=>{var x,le;n.$$.dirty&8388608&&t(22,o=h),n.$$.dirty&4194305&&t(12,l=(x=o==null?void 0:o.nodesById)==null?void 0:x[m]),n.$$.dirty&4096&&t(20,r=(l==null?void 0:l.isFolder)??!1),n.$$.dirty&4198400&&t(13,s=((le=l==null?void 0:l.childrenIds)==null?void 0:le.filter(de=>{var se;const H=(se=o==null?void 0:o.nodesById)==null?void 0:se[de];return H==null?void 0:H.isFolder}))??[]),n.$$.dirty&1056768&&t(11,i=r&&s.length>0),n.$$.dirty&2053&&t(15,a=i&&(p==null?void 0:p.has(m))),n.$$.dirty&9&&(_==null||_.has(m)),n.$$.dirty&17&&t(19,u=!C||C.has(m)),n.$$.dirty&577&&t(21,f=B&&O?B(m):"none"),n.$$.dirty&2098176&&A&&(f==="partial"?(t(10,A.indeterminate=!0,A),t(10,A.checked=!1,A)):(t(10,A.indeterminate=!1,A),t(10,A.checked=f==="selected",A))),n.$$.dirty&1576960&&t(14,g=!!(l&&r&&u))},[m,b,p,_,C,T,O,j,F,B,A,i,l,s,g,a,q,D,W,u,r,f,o,h,Z]}class Kl extends He{constructor(e){super(),Ne(this,e,Vi,Wi,Re,{nodeId:0,depth:1,expandedIds:2,loadingIds:3,visibleIds:4,searchMatches:5,selectedIds:6,toggleSelection:7,toggleExpansion:8,getCheckboxState:9})}}function Oo(n,e,t){const o=n.slice();return o[22]=e[t],o}function Po(n,e,t){const o=n.slice();return o[25]=e[t],o}function jo(n){let e,t,o,l,r,s,i,a,u,f,g,h,m,b,p,_,C,T,O,j,F,B,A,q,D,W,Z=n[9]===1?"":"s",x,le,de,H,se,U,ee,ie,ge=n[10]===1?"":"s",N,fe,v,J,Te,ue,I,E,G,K,te;const re=[Qi,Ki],pe=[];function L(Fe,we){return Fe[1].length===0?0:1}m=L(n),b=pe[m]=re[m](n);let Se=n[9]>0&&Ro(n);function $e(Fe,we){return Fe[8].length===0?Ji:Yi}let We=$e(n),Be=We(n);return{c(){e=S("div"),t=S("section"),o=S("header"),l=S("div"),l.innerHTML='<h2 id="folder-modal-title">Select bookmark folders</h2> <p class="folder-modal__hint svelte-gn1lpb">Choose one or more folders to show in your new tab. Selecting a folder includes all of its subfolders.</p>',r=R(),s=S("button"),s.textContent="√ó",i=R(),a=S("div"),u=S("input"),f=R(),g=S("div"),h=S("div"),b.c(),p=R(),_=S("aside"),C=S("header"),T=S("h3"),T.textContent="Selected folders",O=R(),Se&&Se.c(),j=R(),Be.c(),F=R(),B=S("footer"),A=S("div"),q=S("span"),D=ke(n[9]),W=ke(" folder"),x=ke(Z),le=ke(" selected"),de=R(),H=S("span"),H.textContent="‚Ä¢",se=R(),U=S("span"),ee=ke(n[10]),ie=ke(" bookmark"),N=ke(ge),fe=R(),v=S("div"),J=S("button"),J.textContent="Cancel",Te=R(),ue=S("button"),I=ke("Confirm selection"),c(s,"type","button"),c(s,"class","folder-modal__close svelte-gn1lpb"),c(s,"aria-label","Close"),c(o,"class","folder-modal__header svelte-gn1lpb"),c(u,"type","search"),c(u,"placeholder","Search folders"),u.value=n[5],c(u,"class","svelte-gn1lpb"),c(a,"class","folder-modal__search svelte-gn1lpb"),c(h,"class","folder-modal__tree svelte-gn1lpb"),c(C,"class","svelte-gn1lpb"),c(_,"class","folder-modal__summary svelte-gn1lpb"),c(g,"class","folder-modal__body svelte-gn1lpb"),c(H,"aria-hidden","true"),c(A,"class","folder-modal__totals svelte-gn1lpb"),c(J,"type","button"),c(J,"class","ghost-button svelte-gn1lpb"),c(ue,"type","button"),c(ue,"class","primary-button svelte-gn1lpb"),ue.disabled=E=n[9]===0,c(v,"class","folder-modal__actions svelte-gn1lpb"),c(B,"class","folder-modal__footer svelte-gn1lpb"),c(t,"class","folder-modal svelte-gn1lpb"),c(t,"role","dialog"),c(t,"aria-modal","true"),c(t,"aria-labelledby","folder-modal-title"),c(e,"class","modal-overlay svelte-gn1lpb"),c(e,"role","presentation")},m(Fe,we){Q(Fe,e,we),k(e,t),k(t,o),k(o,l),k(o,r),k(o,s),k(t,i),k(t,a),k(a,u),n[21](u),k(t,f),k(t,g),k(g,h),pe[m].m(h,null),k(g,p),k(g,_),k(_,C),k(C,T),k(C,O),Se&&Se.m(C,null),k(_,j),Be.m(_,null),k(t,F),k(t,B),k(B,A),k(A,q),k(q,D),k(q,W),k(q,x),k(q,le),k(A,de),k(A,H),k(A,se),k(A,U),k(U,ee),k(U,ie),k(U,N),k(B,fe),k(B,v),k(v,J),k(v,Te),k(v,ue),k(ue,I),G=!0,K||(te=[X(s,"click",function(){Pe(n[14])&&n[14].apply(this,arguments)}),X(u,"input",n[19]),X(J,"click",function(){Pe(n[14])&&n[14].apply(this,arguments)}),X(ue,"click",function(){Pe(n[15])&&n[15].apply(this,arguments)}),X(e,"click",n[18])],K=!0)},p(Fe,we){n=Fe,(!G||we&32&&u.value!==n[5])&&(u.value=n[5]);let Je=m;m=L(n),m===Je?pe[m].p(n,we):(Ge(),ne(pe[Je],1,1,()=>{pe[Je]=null}),ze(),b=pe[m],b?b.p(n,we):(b=pe[m]=re[m](n),b.c()),$(b,1),b.m(h,null)),n[9]>0?Se?Se.p(n,we):(Se=Ro(n),Se.c(),Se.m(C,null)):Se&&(Se.d(1),Se=null),We===(We=$e(n))&&Be?Be.p(n,we):(Be.d(1),Be=We(n),Be&&(Be.c(),Be.m(_,null))),(!G||we&512)&&De(D,n[9]),(!G||we&512)&&Z!==(Z=n[9]===1?"":"s")&&De(x,Z),(!G||we&1024)&&De(ee,n[10]),(!G||we&1024)&&ge!==(ge=n[10]===1?"":"s")&&De(N,ge),(!G||we&512&&E!==(E=n[9]===0))&&(ue.disabled=E)},i(Fe){G||($(b),G=!0)},o(Fe){ne(b),G=!1},d(Fe){Fe&&V(e),n[21](null),pe[m].d(),Se&&Se.d(),Be.d(),K=!1,je(te)}}}function Ki(n){let e,t=[],o=new Map,l,r=ye(n[1]);const s=i=>i[25];for(let i=0;i<r.length;i+=1){let a=Po(n,r,i),u=s(a);o.set(u,t[i]=Uo(u,a))}return{c(){e=S("ul");for(let i=0;i<t.length;i+=1)t[i].c();c(e,"class","folder-tree svelte-gn1lpb")},m(i,a){Q(i,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);l=!0},p(i,a){a&14558&&(r=ye(i[1]),Ge(),t=et(t,a,s,1,i,r,o,e,Dt,Uo,null,Po),ze())},i(i){if(!l){for(let a=0;a<r.length;a+=1)$(t[a]);l=!0}},o(i){for(let a=0;a<t.length;a+=1)ne(t[a]);l=!1},d(i){i&&V(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Qi(n){let e;return{c(){e=S("p"),e.textContent="No bookmark folders available.",c(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,o){Q(t,e,o)},p:oe,i:oe,o:oe,d(t){t&&V(e)}}}function Uo(n,e){let t,o,l;return o=new Kl({props:{nodeId:e[25],depth:0,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[6],selectedIds:e[7],toggleSelection:e[11],toggleExpansion:e[12],getCheckboxState:e[13]}}),{key:n,first:null,c(){t=qe(),Oe(o.$$.fragment),this.first=t},m(r,s){Q(r,t,s),Me(o,r,s),l=!0},p(r,s){e=r;const i={};s&2&&(i.nodeId=e[25]),s&4&&(i.expandedIds=e[2]),s&8&&(i.loadingIds=e[3]),s&16&&(i.visibleIds=e[4]),s&64&&(i.searchMatches=e[6]),s&128&&(i.selectedIds=e[7]),s&2048&&(i.toggleSelection=e[11]),s&4096&&(i.toggleExpansion=e[12]),s&8192&&(i.getCheckboxState=e[13]),o.$set(i)},i(r){l||($(o.$$.fragment,r),l=!0)},o(r){ne(o.$$.fragment,r),l=!1},d(r){r&&V(t),Ae(o,r)}}}function Ro(n){let e,t,o;return{c(){e=S("button"),e.textContent="Clear all",c(e,"type","button"),c(e,"class","summary-clear svelte-gn1lpb")},m(l,r){Q(l,e,r),t||(o=X(e,"click",function(){Pe(n[16])&&n[16].apply(this,arguments)}),t=!0)},p(l,r){n=l},d(l){l&&V(e),t=!1,o()}}}function Yi(n){let e,t=[],o=new Map,l=ye(n[8]);const r=s=>s[22].id;for(let s=0;s<l.length;s+=1){let i=Oo(n,l,s),a=r(i);o.set(a,t[s]=Ho(a,i))}return{c(){e=S("ul");for(let s=0;s<t.length;s+=1)t[s].c();c(e,"class","folder-modal__selection-list svelte-gn1lpb")},m(s,i){Q(s,e,i);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,i){i&256&&(l=ye(s[8]),t=et(t,i,r,1,s,l,o,e,Wt,Ho,null,Oo))},d(s){s&&V(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function Ji(n){let e;return{c(){e=S("p"),e.textContent="Pick folders to see them here.",c(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,o){Q(t,e,o)},p:oe,d(t){t&&V(e)}}}function No(n){let e,t=n[22].count+"",o;return{c(){e=S("span"),o=ke(t),c(e,"class","selection-chip__count svelte-gn1lpb")},m(l,r){Q(l,e,r),k(e,o)},p(l,r){r&256&&t!==(t=l[22].count+"")&&De(o,t)},d(l){l&&V(e)}}}function Ho(n,e){let t,o,l,r=e[22].label+"",s,i,a,u,f=typeof e[22].count=="number"&&No(e);return{key:n,first:null,c(){t=S("li"),o=S("span"),l=S("span"),s=ke(r),i=R(),f&&f.c(),u=R(),c(l,"class","selection-chip__label svelte-gn1lpb"),c(o,"class","selection-chip svelte-gn1lpb"),c(o,"title",a=e[22].fullPath),this.first=t},m(g,h){Q(g,t,h),k(t,o),k(o,l),k(l,s),k(o,i),f&&f.m(o,null),k(t,u)},p(g,h){e=g,h&256&&r!==(r=e[22].label+"")&&De(s,r),typeof e[22].count=="number"?f?f.p(e,h):(f=No(e),f.c(),f.m(o,null)):f&&(f.d(1),f=null),h&256&&a!==(a=e[22].fullPath)&&c(o,"title",a)},d(g){g&&V(t),f&&f.d()}}}function Xi(n){let e,t,o=n[0]&&jo(n);return{c(){o&&o.c(),e=qe()},m(l,r){o&&o.m(l,r),Q(l,e,r),t=!0},p(l,[r]){l[0]?o?(o.p(l,r),r&1&&$(o,1)):(o=jo(l),o.c(),$(o,1),o.m(e.parentNode,e)):o&&(Ge(),ne(o,1,1,()=>{o=null}),ze())},i(l){t||($(o),t=!0)},o(l){ne(o),t=!1},d(l){l&&V(e),o&&o.d(l)}}}function Zi(n,e,t){let{open:o=!1}=e,{rootIds:l=[]}=e,{expandedIds:r}=e,{loadingIds:s}=e,{visibleIds:i}=e,{searchQuery:a=""}=e,{searchMatches:u}=e,{selectedIds:f}=e,{summary:g=[]}=e,{selectedFolderCount:h=0}=e,{totalBookmarkCount:m=0}=e,{toggleSelection:b}=e,{toggleExpansion:p}=e,{getCheckboxState:_}=e,{onSearchChange:C}=e,{onRequestClose:T}=e,{onConfirmSelection:O}=e,{onClearSelection:j}=e,F;function B(D){D.target===D.currentTarget&&(D.preventDefault(),T==null||T())}function A(D){C==null||C(D.target.value)}function q(D){lt[D?"unshift":"push"](()=>{F=D,t(17,F)})}return n.$$set=D=>{"open"in D&&t(0,o=D.open),"rootIds"in D&&t(1,l=D.rootIds),"expandedIds"in D&&t(2,r=D.expandedIds),"loadingIds"in D&&t(3,s=D.loadingIds),"visibleIds"in D&&t(4,i=D.visibleIds),"searchQuery"in D&&t(5,a=D.searchQuery),"searchMatches"in D&&t(6,u=D.searchMatches),"selectedIds"in D&&t(7,f=D.selectedIds),"summary"in D&&t(8,g=D.summary),"selectedFolderCount"in D&&t(9,h=D.selectedFolderCount),"totalBookmarkCount"in D&&t(10,m=D.totalBookmarkCount),"toggleSelection"in D&&t(11,b=D.toggleSelection),"toggleExpansion"in D&&t(12,p=D.toggleExpansion),"getCheckboxState"in D&&t(13,_=D.getCheckboxState),"onSearchChange"in D&&t(20,C=D.onSearchChange),"onRequestClose"in D&&t(14,T=D.onRequestClose),"onConfirmSelection"in D&&t(15,O=D.onConfirmSelection),"onClearSelection"in D&&t(16,j=D.onClearSelection)},n.$$.update=()=>{if(n.$$.dirty&147457&&o){xn().then(()=>{F==null||F.focus(),F==null||F.select()});const D=W=>{W.key==="Escape"&&(W.preventDefault(),T==null||T())};document.addEventListener("keydown",D,{once:!0})}},[o,l,r,s,i,a,u,f,g,h,m,b,p,_,T,O,j,F,B,A,C,q]}class xi extends He{constructor(e){super(),Ne(this,e,Zi,Xi,Re,{open:0,rootIds:1,expandedIds:2,loadingIds:3,visibleIds:4,searchQuery:5,searchMatches:6,selectedIds:7,summary:8,selectedFolderCount:9,totalBookmarkCount:10,toggleSelection:11,toggleExpansion:12,getCheckboxState:13,onSearchChange:20,onRequestClose:14,onConfirmSelection:15,onClearSelection:16})}}function Go(n,e,t){const o=n.slice();return o[18]=e[t],o}function zo(n){let e,t,o,l,r,s,i,a,u,f,g,h,m=[],b=new Map,p,_,C,T,O,j,F,B,A,q,D,W,Z,x,le,de,H,se=ye(n[1]);const U=ee=>ee[18].id;for(let ee=0;ee<se.length;ee+=1){let ie=Go(n,se,ee),ge=U(ie);b.set(ge,m[ee]=Wo(ge,ie))}return{c(){e=S("div"),t=S("section"),o=S("header"),l=S("h2"),l.textContent="Add New Shortcut",r=R(),s=S("button"),s.textContent="√ó",i=R(),a=S("form"),u=S("div"),f=S("label"),f.innerHTML=`Folder
            <span class="form-hint svelte-1xx9qid">Where to save the shortcut</span>`,g=R(),h=S("select");for(let ee=0;ee<m.length;ee+=1)m[ee].c();p=R(),_=S("div"),C=S("label"),C.innerHTML=`URL
            <span class="form-hint svelte-1xx9qid">The website address</span>`,T=R(),O=S("input"),j=R(),F=S("div"),B=S("label"),B.innerHTML=`Title
            <span class="form-hint svelte-1xx9qid">Display name for the shortcut</span>`,A=R(),q=S("input"),D=R(),W=S("div"),Z=S("button"),Z.textContent="Cancel",x=R(),le=S("button"),le.textContent="Add Shortcut",c(l,"id","add-shortcut-modal-title"),c(l,"class","svelte-1xx9qid"),c(s,"type","button"),c(s,"class","add-shortcut-modal__close svelte-1xx9qid"),c(s,"aria-label","Close"),c(o,"class","add-shortcut-modal__header svelte-1xx9qid"),c(f,"for","shortcut-folder"),c(f,"class","svelte-1xx9qid"),c(h,"id","shortcut-folder"),h.required=!0,c(h,"class","svelte-1xx9qid"),n[2]===void 0&&at(()=>n[14].call(h)),c(u,"class","form-group svelte-1xx9qid"),c(C,"for","shortcut-url"),c(C,"class","svelte-1xx9qid"),c(O,"id","shortcut-url"),c(O,"type","url"),c(O,"placeholder","https://example.com"),O.required=!0,c(O,"class","svelte-1xx9qid"),c(_,"class","form-group svelte-1xx9qid"),c(B,"for","shortcut-title"),c(B,"class","svelte-1xx9qid"),c(q,"id","shortcut-title"),c(q,"type","text"),c(q,"placeholder","Example Site"),q.required=!0,c(q,"class","svelte-1xx9qid"),c(F,"class","form-group svelte-1xx9qid"),c(Z,"type","button"),c(Z,"class","button button--secondary svelte-1xx9qid"),c(le,"type","submit"),c(le,"class","button button--primary svelte-1xx9qid"),c(W,"class","add-shortcut-modal__actions svelte-1xx9qid"),c(a,"class","add-shortcut-modal__form svelte-1xx9qid"),c(t,"class","add-shortcut-modal svelte-1xx9qid"),c(t,"role","dialog"),c(t,"aria-modal","true"),c(t,"aria-labelledby","add-shortcut-modal-title"),c(e,"class","modal-overlay svelte-1xx9qid"),c(e,"role","presentation")},m(ee,ie){Q(ee,e,ie),k(e,t),k(t,o),k(o,l),k(o,r),k(o,s),k(t,i),k(t,a),k(a,u),k(u,f),k(u,g),k(u,h);for(let ge=0;ge<m.length;ge+=1)m[ge]&&m[ge].m(h,null);Fo(h,n[2],!0),k(a,p),k(a,_),k(_,C),k(_,T),k(_,O),n[15](O),Rt(O,n[4]),k(a,j),k(a,F),k(F,B),k(F,A),k(F,q),Rt(q,n[5]),k(a,D),k(a,W),k(W,Z),k(W,x),k(W,le),de||(H=[X(s,"click",n[7]),X(h,"change",n[14]),X(O,"input",n[16]),X(O,"blur",n[8]),X(q,"input",n[17]),X(Z,"click",n[7]),X(a,"submit",n[9]),X(e,"click",n[6])],de=!0)},p(ee,ie){ie&2&&(se=ye(ee[1]),m=et(m,ie,U,1,ee,se,b,h,Wt,Wo,null,Go)),ie&6&&Fo(h,ee[2]),ie&16&&O.value!==ee[4]&&Rt(O,ee[4]),ie&32&&q.value!==ee[5]&&Rt(q,ee[5])},d(ee){ee&&V(e);for(let ie=0;ie<m.length;ie+=1)m[ie].d();n[15](null),de=!1,je(H)}}}function qo(n){let e,t=n[18].count+"",o,l;return{c(){e=ke("("),o=ke(t),l=ke(")")},m(r,s){Q(r,e,s),Q(r,o,s),Q(r,l,s)},p(r,s){s&2&&t!==(t=r[18].count+"")&&De(o,t)},d(r){r&&(V(e),V(o),V(l))}}}function Wo(n,e){let t,o=Vo(e[18])+"",l,r,s,i,a=e[18].count!==void 0&&qo(e);return{key:n,first:null,c(){t=S("option"),l=ke(o),r=R(),a&&a.c(),s=R(),t.__value=i=e[18].id,Rt(t,t.__value),this.first=t},m(u,f){Q(u,t,f),k(t,l),k(t,r),a&&a.m(t,null),k(t,s)},p(u,f){e=u,f&2&&o!==(o=Vo(e[18])+"")&&De(l,o),e[18].count!==void 0?a?a.p(e,f):(a=qo(e),a.c(),a.m(t,s)):a&&(a.d(1),a=null),f&2&&i!==(i=e[18].id)&&(t.__value=i,Rt(t,t.__value))},d(u){u&&V(t),a&&a.d()}}}function $i(n){let e,t=n[0]&&zo(n);return{c(){t&&t.c(),e=qe()},m(o,l){t&&t.m(o,l),Q(o,e,l)},p(o,[l]){o[0]?t?t.p(o,l):(t=zo(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:oe,o:oe,d(o){o&&V(e),t&&t.d(o)}}}function Vo(n){return n.fullPath||n.label||"Untitled folder"}function es(n,e,t){let{open:o=!1}=e,{folders:l=[]}=e,{defaultFolderId:r=null}=e,{onConfirm:s=null}=e,{onClose:i=null}=e,a="",u="",f="",g,h=!1;function m(F){F.target===F.currentTarget&&(F.preventDefault(),b())}function b(){i==null||i()}function p(){if(!f&&u)try{const F=new URL(u);t(5,f=F.hostname.replace(/^www\./,""))}catch{}}function _(F){if(F.preventDefault(),!a){alert("Please select a folder.");return}if(!u.trim()){alert("Please enter a URL.");return}if(!f.trim()){alert("Please enter a title.");return}s==null||s({folderId:a,url:u.trim(),title:f.trim()})}function C(){a=yi(this),t(2,a),t(0,o),t(1,l),t(10,r),t(13,h),t(3,g),t(1,l)}function T(F){lt[F?"unshift":"push"](()=>{g=F,t(3,g)})}function O(){u=this.value,t(4,u),t(0,o),t(13,h),t(10,r),t(1,l),t(3,g)}function j(){f=this.value,t(5,f),t(0,o),t(13,h),t(10,r),t(1,l),t(3,g)}return n.$$set=F=>{"open"in F&&t(0,o=F.open),"folders"in F&&t(1,l=F.folders),"defaultFolderId"in F&&t(10,r=F.defaultFolderId),"onConfirm"in F&&t(11,s=F.onConfirm),"onClose"in F&&t(12,i=F.onClose)},n.$$.update=()=>{if(n.$$.dirty&1031&&o&&l.length>0&&(a&&l.some(B=>B.id===a)||t(2,a=r||l[0].id)),n.$$.dirty&9227)if(o&&!h){t(13,h=!0),t(4,u=""),t(5,f=""),t(2,a=r||(l.length>0?l[0].id:"")),xn().then(()=>{g==null||g.focus()});const F=B=>{B.key==="Escape"&&(B.preventDefault(),b())};document.addEventListener("keydown",F,{once:!0})}else!o&&h&&t(13,h=!1)},[o,l,a,g,u,f,m,b,p,_,r,s,i,h,C,T,O,j]}class ts extends He{constructor(e){super(),Ne(this,e,es,$i,Re,{open:0,folders:1,defaultFolderId:10,onConfirm:11,onClose:12})}}function ns(n){let e,t,o,l;return{c(){e=S("img"),Bo(e.src,t=n[8])||c(e,"src",t),c(e,"alt",""),c(e,"loading","lazy")},m(r,s){Q(r,e,s),o||(l=X(e,"error",n[13]),o=!0)},p(r,s){s[0]&256&&!Bo(e.src,t=r[8])&&c(e,"src",t)},d(r){r&&V(e),o=!1,l()}}}function os(n){let e=n[0].initials+"",t;return{c(){t=ke(e)},m(o,l){Q(o,t,l)},p(o,l){l[0]&1&&e!==(e=o[0].initials+"")&&De(t,e)},d(o){o&&V(t)}}}function Ko(n){let e,t,o,l,r,s;return{c(){e=S("div"),t=S("button"),t.textContent="Edit",o=R(),l=S("button"),l.textContent="Remove",c(t,"type","button"),c(t,"role","menuitem"),c(t,"class","tile-menu__item"),c(l,"type","button"),c(l,"role","menuitem"),c(l,"class","tile-menu__item tile-menu__item--danger"),c(e,"class","tile-menu"),c(e,"role","menu")},m(i,a){Q(i,e,a),k(e,t),k(e,o),k(e,l),r||(s=[X(t,"click",n[11]),X(l,"click",n[12])],r=!0)},p:oe,d(i){i&&V(e),r=!1,je(s)}}}function ls(n){let e,t,o,l,r,s,i=n[0].displayTitle+"",a,u,f,g,h,m,b,p,_,C,T,O,j,F;function B(W,Z){return W[0].fallback?os:ns}let A=B(n),q=A(n),D=n[2]&&Ko(n);return{c(){e=S("article"),t=S("a"),o=S("div"),q.c(),r=R(),s=S("div"),a=ke(i),g=R(),h=S("div"),m=S("button"),b=ot("svg"),p=ot("circle"),_=ot("circle"),C=ot("circle"),O=R(),D&&D.c(),c(o,"class","tile-icon"),c(o,"style",l=`--dial-color: ${n[0].palette.background}; --dial-text: ${n[0].palette.text};`),c(o,"aria-hidden","true"),c(s,"class","tile-title"),ve(s,"tile-title--pill",n[1]),c(t,"class","tile-link"),c(t,"href",u=n[0].url||"#!"),c(t,"title",f=n[0].title||n[0].url||"Shortcut"),c(t,"draggable","false"),c(p,"cx","8"),c(p,"cy","3.5"),c(p,"r","1.25"),c(_,"cx","8"),c(_,"cy","8"),c(_,"r","1.25"),c(C,"cx","8"),c(C,"cy","12.5"),c(C,"r","1.25"),c(b,"viewBox","0 0 16 16"),c(b,"aria-hidden","true"),c(b,"focusable","false"),c(m,"class","tile-menu-button"),c(m,"type","button"),c(m,"aria-haspopup","true"),c(m,"aria-expanded",n[2]),c(m,"aria-label",T=`Open options for ${n[7]}`),ve(m,"tile-menu-button--active",n[2]),c(h,"class","tile-actions"),c(e,"class","tile"),c(e,"draggable",n[9]),ve(e,"tile--focused",n[3]),ve(e,"tile--dragging",n[4]),ve(e,"tile--drag-over",n[5]),ve(e,"tile--top-site",n[6])},m(W,Z){Q(W,e,Z),k(e,t),k(t,o),q.m(o,null),k(t,r),k(t,s),k(s,a),k(e,g),k(e,h),k(h,m),k(m,b),k(b,p),k(b,_),k(b,C),k(h,O),D&&D.m(h,null),j||(F=[X(t,"focus",n[15]),X(m,"click",n[10]),X(e,"contextmenu",n[14]),X(e,"dragstart",n[16]),X(e,"dragover",n[17]),X(e,"dragleave",n[18]),X(e,"drop",n[19]),X(e,"dragend",n[20])],j=!0)},p(W,Z){A===(A=B(W))&&q?q.p(W,Z):(q.d(1),q=A(W),q&&(q.c(),q.m(o,null))),Z[0]&1&&l!==(l=`--dial-color: ${W[0].palette.background}; --dial-text: ${W[0].palette.text};`)&&c(o,"style",l),Z[0]&1&&i!==(i=W[0].displayTitle+"")&&De(a,i),Z[0]&2&&ve(s,"tile-title--pill",W[1]),Z[0]&1&&u!==(u=W[0].url||"#!")&&c(t,"href",u),Z[0]&1&&f!==(f=W[0].title||W[0].url||"Shortcut")&&c(t,"title",f),Z[0]&4&&c(m,"aria-expanded",W[2]),Z[0]&128&&T!==(T=`Open options for ${W[7]}`)&&c(m,"aria-label",T),Z[0]&4&&ve(m,"tile-menu-button--active",W[2]),W[2]?D?D.p(W,Z):(D=Ko(W),D.c(),D.m(h,null)):D&&(D.d(1),D=null),Z[0]&512&&c(e,"draggable",W[9]),Z[0]&8&&ve(e,"tile--focused",W[3]),Z[0]&16&&ve(e,"tile--dragging",W[4]),Z[0]&32&&ve(e,"tile--drag-over",W[5]),Z[0]&64&&ve(e,"tile--top-site",W[6])},i:oe,o:oe,d(W){W&&V(e),q.d(),D&&D.d(),j=!1,je(F)}}}function rs(n,e,t){let o,l,r,{bookmark:s}=e,{titleBackdrop:i=!1}=e,{menuOpen:a=!1}=e,{focused:u=!1}=e,{dragging:f=!1}=e,{dragOver:g=!1}=e,{isTopSite:h=!1}=e,{onToggleMenu:m=()=>{}}=e,{onEdit:b=()=>{}}=e,{onRemove:p=()=>{}}=e,{onFallback:_=()=>{}}=e,{onContextMenu:C=()=>{}}=e,{onFocus:T=()=>{}}=e,{onDragStart:O=()=>{}}=e,{onDragOver:j=()=>{}}=e,{onDragLeave:F=()=>{}}=e,{onDrop:B=()=>{}}=e,{onDragEnd:A=()=>{}}=e,{getFaviconUrl:q=()=>""}=e,D="Shortcut",W="",Z=null;function x(v){v.preventDefault(),v.stopPropagation(),m==null||m()}function le(v){v.preventDefault(),v.stopPropagation(),b==null||b()}function de(v){v.preventDefault(),v.stopPropagation(),p==null||p()}function H(){_==null||_()}function se(v){v.preventDefault(),C==null||C(v)}function U(){T==null||T()}function ee(v){if(!r){v.preventDefault();return}O==null||O(v)}function ie(v){r&&(v.preventDefault(),j==null||j(v))}function ge(v){r&&(F==null||F(v))}function N(v){r&&(v.preventDefault(),B==null||B(v))}function fe(v){r&&(A==null||A(v))}return n.$$set=v=>{"bookmark"in v&&t(0,s=v.bookmark),"titleBackdrop"in v&&t(1,i=v.titleBackdrop),"menuOpen"in v&&t(2,a=v.menuOpen),"focused"in v&&t(3,u=v.focused),"dragging"in v&&t(4,f=v.dragging),"dragOver"in v&&t(5,g=v.dragOver),"isTopSite"in v&&t(6,h=v.isTopSite),"onToggleMenu"in v&&t(21,m=v.onToggleMenu),"onEdit"in v&&t(22,b=v.onEdit),"onRemove"in v&&t(23,p=v.onRemove),"onFallback"in v&&t(24,_=v.onFallback),"onContextMenu"in v&&t(25,C=v.onContextMenu),"onFocus"in v&&t(26,T=v.onFocus),"onDragStart"in v&&t(27,O=v.onDragStart),"onDragOver"in v&&t(28,j=v.onDragOver),"onDragLeave"in v&&t(29,F=v.onDragLeave),"onDrop"in v&&t(30,B=v.onDrop),"onDragEnd"in v&&t(31,A=v.onDragEnd),"getFaviconUrl"in v&&t(32,q=v.getFaviconUrl)},n.$$.update=()=>{if(n.$$.dirty[0]&1&&t(7,D=(s==null?void 0:s.displayTitle)||(s==null?void 0:s.title)||(s==null?void 0:s.url)||"Shortcut"),n.$$.dirty[0]&1&&t(35,o=s==null?void 0:s.url),n.$$.dirty[0]&1&&t(34,l=s==null?void 0:s.fallback),n.$$.dirty[1]&30)if(o&&!l&&o!==Z){t(33,Z=o);const v=o;t(8,W=""),q(v).then(J=>{v===Z&&(J?t(8,W=J):H())}).catch(()=>{v===Z&&H()})}else l&&(t(33,Z=null),t(8,W=""));n.$$.dirty[0]&64&&t(9,r=!h)},[s,i,a,u,f,g,h,D,W,r,x,le,de,H,se,U,ee,ie,ge,N,fe,m,b,p,_,C,T,O,j,F,B,A,q,Z,l,o]}class no extends He{constructor(e){super(),Ne(this,e,rs,ls,Re,{bookmark:0,titleBackdrop:1,menuOpen:2,focused:3,dragging:4,dragOver:5,isTopSite:6,onToggleMenu:21,onEdit:22,onRemove:23,onFallback:24,onContextMenu:25,onFocus:26,onDragStart:27,onDragOver:28,onDragLeave:29,onDrop:30,onDragEnd:31,getFaviconUrl:32},null,[-1,-1])}}function Ql(n){const e=n-1;return e*e*e+1}function Kn(n,{delay:e=0,duration:t=400,easing:o=rn}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:o,css:r=>`opacity: ${r*l}`}}function Qn(n,{delay:e=0,duration:t=400,easing:o=Ql,x:l=0,y:r=0,opacity:s=0}={}){const i=getComputedStyle(n),a=+i.opacity,u=i.transform==="none"?"":i.transform,f=a*(1-s),[g,h]=To(l),[m,b]=To(r);return{delay:e,duration:t,easing:o,css:(p,_)=>`
			transform: ${u} translate(${(1-p)*g}${h}, ${(1-p)*m}${b});
			opacity: ${a-f*_}`}}function is(n,{from:e,to:t},o={}){const l=getComputedStyle(n),r=l.transform==="none"?"":l.transform,[s,i]=l.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*s/t.width-(t.left+s),u=e.top+e.height*i/t.height-(t.top+i),{delay:f=0,duration:g=m=>Math.sqrt(m)*120,easing:h=Ql}=o;return{delay:f,duration:Pe(g)?g(Math.sqrt(a*a+u*u)):g,easing:h,css:(m,b)=>{const p=b*a,_=b*u,C=m+b*e.width/t.width,T=m+b*e.height/t.height;return`transform: ${r} translate(${p}px, ${_}px) scale(${C}, ${T});`}}}function Qo(n,e,t){const o=n.slice();return o[7]=e[t],o}function Yo(n){let e,t,o;function l(){return n[5](n[7])}return{c(){e=S("button"),e.textContent="Undo",c(e,"type","button"),c(e,"class","toast__undo svelte-f4o70y")},m(r,s){Q(r,e,s),t||(o=X(e,"click",l),t=!0)},p(r,s){n=r},d(r){r&&V(e),t=!1,o()}}}function Jo(n,e){let t,o,l=e[7].message+"",r,s,i,a,u,f,g,h,m,b=oe,p,_,C,T=e[7].undoData&&Yo(e);function O(){return e[6](e[7])}return{key:n,first:null,c(){t=S("div"),o=S("span"),r=ke(l),s=R(),i=S("div"),T&&T.c(),a=R(),u=S("button"),u.textContent="√ó",f=R(),c(o,"class","toast__message svelte-f4o70y"),c(u,"type","button"),c(u,"class","toast__dismiss svelte-f4o70y"),c(u,"aria-label","Dismiss notification"),c(i,"class","toast__actions svelte-f4o70y"),c(t,"class","toast svelte-f4o70y"),c(t,"role","alert"),ve(t,"toast--success",e[7].type==="success"),ve(t,"toast--error",e[7].type==="error"),ve(t,"toast--info",e[7].type==="info"),this.first=t},m(j,F){Q(j,t,F),k(t,o),k(o,r),k(t,s),k(t,i),T&&T.m(i,null),k(i,a),k(i,u),k(t,f),p=!0,_||(C=X(u,"click",O),_=!0)},p(j,F){e=j,(!p||F&1)&&l!==(l=e[7].message+"")&&De(r,l),e[7].undoData?T?T.p(e,F):(T=Yo(e),T.c(),T.m(i,a)):T&&(T.d(1),T=null),(!p||F&1)&&ve(t,"toast--success",e[7].type==="success"),(!p||F&1)&&ve(t,"toast--error",e[7].type==="error"),(!p||F&1)&&ve(t,"toast--info",e[7].type==="info")},r(){m=t.getBoundingClientRect()},f(){Bi(t),b(),jl(t,m)},a(){b(),b=vi(t,m,is,{duration:250})},i(j){p||(j&&at(()=>{p&&(h&&h.end(1),g=Ei(t,Qn,{y:50,duration:250}),g.start())}),p=!0)},o(j){g&&g.invalidate(),j&&(h=Mi(t,Kn,{duration:150})),p=!1},d(j){j&&V(t),T&&T.d(),j&&h&&h.end(),_=!1,C()}}}function ss(n){let e,t=[],o=new Map,l,r=ye(n[0]);const s=i=>i[7].id;for(let i=0;i<r.length;i+=1){let a=Qo(n,r,i),u=s(a);o.set(u,t[i]=Jo(u,a))}return{c(){e=S("div");for(let i=0;i<t.length;i+=1)t[i].c();c(e,"class","toast-container svelte-f4o70y"),c(e,"aria-live","polite"),c(e,"aria-label","Notifications")},m(i,a){Q(i,e,a);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);l=!0},p(i,[a]){if(a&7){r=ye(i[0]),Ge();for(let u=0;u<t.length;u+=1)t[u].r();t=et(t,a,s,1,i,r,o,e,Ai,Jo,null,Qo);for(let u=0;u<t.length;u+=1)t[u].a();ze()}},i(i){if(!l){for(let a=0;a<r.length;a+=1)$(t[a]);l=!0}},o(i){for(let a=0;a<t.length;a+=1)ne(t[a]);l=!1},d(i){i&&V(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function as(n,e,t){let{toasts:o=[]}=e,{onDismiss:l=()=>{}}=e,{onUndo:r=()=>{}}=e;function s(f){l==null||l(f)}function i(f){r==null||r(f)}const a=f=>i(f),u=f=>s(f.id);return n.$$set=f=>{"toasts"in f&&t(0,o=f.toasts),"onDismiss"in f&&t(3,l=f.onDismiss),"onUndo"in f&&t(4,r=f.onUndo)},[o,s,i,l,r,a,u]}class cs extends He{constructor(e){super(),Ne(this,e,as,ss,Re,{toasts:0,onDismiss:3,onUndo:4})}}function Xo(n){let e,t,o,l,r,s,i,a,u,f,g,h,m;return{c(){e=S("div"),t=S("article"),o=S("header"),o.innerHTML='<h2 id="welcome-title" class="svelte-1g41oro">Welcome to Bookmark Dial</h2> <p class="welcome-subtitle svelte-1g41oro">Your new tab, reimagined.</p>',l=R(),r=S("div"),r.innerHTML='<section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üìÅ</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Select Your Folders</h3> <p class="svelte-1g41oro">Open <strong class="svelte-1g41oro">Settings</strong> (gear icon) and click <strong class="svelte-1g41oro">Manage folders</strong> to choose which bookmark folders appear on your new tab.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚ûï</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Add Shortcuts</h3> <p class="svelte-1g41oro">Click the <strong class="svelte-1g41oro">+ Add shortcut</strong> tile to quickly add new bookmarks directly from this page.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üé®</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Customize Your Theme</h3> <p class="svelte-1g41oro">Choose from multiple themes, accent colors, and gradient backgrounds to personalize your experience.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚å®Ô∏è</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Keyboard Shortcuts</h3> <p class="svelte-1g41oro">Use <kbd class="svelte-1g41oro">Arrow keys</kbd> to navigate, <kbd class="svelte-1g41oro">Enter</kbd> to open, and <kbd class="svelte-1g41oro">Delete</kbd> or <kbd class="svelte-1g41oro">Backspace</kbd> to remove bookmarks.</p></div></section>',s=R(),i=S("footer"),a=S("button"),a.textContent="Get Started",c(o,"class","welcome-header svelte-1g41oro"),c(r,"class","welcome-content svelte-1g41oro"),c(a,"type","button"),c(a,"class","welcome-button svelte-1g41oro"),c(i,"class","welcome-footer svelte-1g41oro"),c(t,"class","welcome-modal svelte-1g41oro"),c(t,"role","dialog"),c(t,"aria-modal","true"),c(t,"aria-labelledby","welcome-title"),c(e,"class","welcome-overlay svelte-1g41oro"),c(e,"role","presentation")},m(b,p){Q(b,e,p),k(e,t),k(t,o),k(t,l),k(t,r),k(t,s),k(t,i),k(i,a),g=!0,h||(m=[X(a,"click",function(){Pe(n[1])&&n[1].apply(this,arguments)}),X(e,"click",n[2])],h=!0)},p(b,p){n=b},i(b){g||(b&&at(()=>{g&&(u||(u=kn(t,Qn,{y:30,duration:300},!0)),u.run(1))}),b&&at(()=>{g&&(f||(f=kn(e,Kn,{duration:200},!0)),f.run(1))}),g=!0)},o(b){b&&(u||(u=kn(t,Qn,{y:30,duration:300},!1)),u.run(0)),b&&(f||(f=kn(e,Kn,{duration:200},!1)),f.run(0)),g=!1},d(b){b&&V(e),b&&u&&u.end(),b&&f&&f.end(),h=!1,je(m)}}}function us(n){let e,t,o,l=n[0]&&Xo(n);return{c(){l&&l.c(),e=qe()},m(r,s){l&&l.m(r,s),Q(r,e,s),t||(o=X(window,"keydown",function(){Pe(n[0]?n[3]:null)&&(n[0]?n[3]:null).apply(this,arguments)}),t=!0)},p(r,[s]){n=r,n[0]?l?(l.p(n,s),s&1&&$(l,1)):(l=Xo(n),l.c(),$(l,1),l.m(e.parentNode,e)):l&&(Ge(),ne(l,1,1,()=>{l=null}),ze())},i(r){$(l)},o(r){ne(l)},d(r){r&&V(e),l&&l.d(r),t=!1,o()}}}function ds(n,e,t){let{open:o=!1}=e,{onDismiss:l=()=>{}}=e,{onGetStarted:r=()=>{}}=e;function s(a){a.target===a.currentTarget&&(l==null||l())}function i(a){a.key==="Escape"&&(a.preventDefault(),l==null||l())}return n.$$set=a=>{"open"in a&&t(0,o=a.open),"onDismiss"in a&&t(4,l=a.onDismiss),"onGetStarted"in a&&t(1,r=a.onGetStarted)},[o,r,s,i,l]}class fs extends He{constructor(e){super(),Ne(this,e,ds,us,Re,{open:0,onDismiss:4,onGetStarted:1})}}function Zo(n){let e,t,o,l,r,s,i,a,u,f,g,h,m,b,p,_,C,T,O;return{c(){e=S("div"),t=R(),o=S("menu"),l=S("li"),r=S("button"),r.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M9 2h5v5M14 2L7 9M6 4H3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Open in new tab`,s=R(),i=S("li"),a=S("button"),a.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><rect x="5" y="5" width="8" height="9" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"></rect><path d="M11 5V3a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg>
        Copy URL`,u=R(),f=S("li"),g=R(),h=S("li"),m=S("button"),m.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M11.5 2.5l2 2L5 13H3v-2l8.5-8.5z" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Edit bookmark`,b=R(),p=S("li"),_=S("button"),_.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M3 4h10M6 4V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v1M5 4v9a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Remove`,c(e,"class","context-menu-overlay svelte-6dpg3b"),c(e,"role","presentation"),c(r,"type","button"),c(r,"class","context-menu__item svelte-6dpg3b"),c(r,"role","menuitem"),c(l,"class","svelte-6dpg3b"),c(a,"type","button"),c(a,"class","context-menu__item svelte-6dpg3b"),c(a,"role","menuitem"),c(i,"class","svelte-6dpg3b"),c(f,"class","context-menu__divider svelte-6dpg3b"),c(f,"role","separator"),c(m,"type","button"),c(m,"class","context-menu__item svelte-6dpg3b"),c(m,"role","menuitem"),c(h,"class","svelte-6dpg3b"),c(_,"type","button"),c(_,"class","context-menu__item context-menu__item--danger svelte-6dpg3b"),c(_,"role","menuitem"),c(p,"class","svelte-6dpg3b"),c(o,"class","context-menu svelte-6dpg3b"),c(o,"style",n[1]),c(o,"aria-label",C="Actions for "+n[2])},m(j,F){Q(j,e,F),Q(j,t,F),Q(j,o,F),k(o,l),k(l,r),k(o,s),k(o,i),k(i,a),k(o,u),k(o,f),k(o,g),k(o,h),k(h,m),k(o,b),k(o,p),k(p,_),T||(O=[X(e,"click",n[7]),X(e,"contextmenu",pi(n[7])),X(r,"click",n[5]),X(a,"click",n[6]),X(m,"click",n[3]),X(_,"click",n[4])],T=!0)},p(j,F){F&2&&c(o,"style",j[1]),F&4&&C!==(C="Actions for "+j[2])&&c(o,"aria-label",C)},d(j){j&&(V(e),V(t),V(o)),T=!1,je(O)}}}function hs(n){let e,t,o,l=n[0]&&Zo(n);return{c(){l&&l.c(),e=qe()},m(r,s){l&&l.m(r,s),Q(r,e,s),t||(o=X(window,"keydown",function(){Pe(n[0]?n[8]:null)&&(n[0]?n[8]:null).apply(this,arguments)}),t=!0)},p(r,[s]){n=r,n[0]?l?l.p(n,s):(l=Zo(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:oe,o:oe,d(r){r&&V(e),l&&l.d(r),t=!1,o()}}}function xo(n){var r;const e=document.querySelectorAll(".context-menu__item"),t=document.activeElement;let l=Array.from(e).indexOf(t)+n;l<0&&(l=e.length-1),l>=e.length&&(l=0),(r=e[l])==null||r.focus()}function gs(n,e,t){let o,l,{bookmark:r=null}=e,{position:s={x:0,y:0}}=e,{visible:i=!1}=e;const a=Nl();function u(){a("edit")}function f(){a("remove")}function g(){a("opennewtab")}function h(){a("copyurl")}function m(){a("close")}function b(p){p.key==="Escape"?(p.preventDefault(),m()):p.key==="ArrowDown"?(p.preventDefault(),xo(1)):p.key==="ArrowUp"&&(p.preventDefault(),xo(-1))}return n.$$set=p=>{"bookmark"in p&&t(9,r=p.bookmark),"position"in p&&t(10,s=p.position),"visible"in p&&t(0,i=p.visible)},n.$$.update=()=>{n.$$.dirty&512&&t(2,o=(r==null?void 0:r.title)||(r==null?void 0:r.url)||"bookmark"),n.$$.dirty&1024&&t(1,l=`left: ${s.x}px; top: ${s.y}px;`)},[i,l,o,u,f,g,h,m,b,r,s]}class ms extends He{constructor(e){super(),Ne(this,e,gs,hs,Re,{bookmark:9,position:10,visible:0})}}function $o(n){let e,t,o,l,r,s,i,a,u,f,g,h=n[1]&&el(n);return{c(){e=S("div"),t=ot("svg"),o=ot("circle"),l=ot("path"),r=R(),s=S("input"),i=R(),h&&h.c(),a=R(),u=S("button"),u.innerHTML='<svg viewBox="0 0 16 16" aria-hidden="true" class="svelte-qypsdi"><path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',c(o,"cx","6.5"),c(o,"cy","6.5"),c(o,"r","5"),c(o,"stroke","currentColor"),c(o,"stroke-width","1.5"),c(o,"fill","none"),c(l,"d","M10.5 10.5L14 14"),c(l,"stroke","currentColor"),c(l,"stroke-width","1.5"),c(l,"stroke-linecap","round"),c(t,"class","search-bar__icon svelte-qypsdi"),c(t,"viewBox","0 0 16 16"),c(t,"aria-hidden","true"),c(s,"type","search"),c(s,"class","search-bar__input svelte-qypsdi"),c(s,"placeholder","Search bookmarks‚Ä¶"),s.value=n[1],c(s,"aria-label","Search bookmarks"),c(u,"type","button"),c(u,"class","search-bar__close svelte-qypsdi"),c(u,"aria-label","Close search"),c(e,"class","search-bar svelte-qypsdi"),c(e,"role","search")},m(m,b){Q(m,e,b),k(e,t),k(t,o),k(t,l),k(e,r),k(e,s),n[8](s),k(e,i),h&&h.m(e,null),k(e,a),k(e,u),f||(g=[X(s,"input",n[4]),X(s,"keydown",n[6]),X(u,"click",function(){Pe(n[2])&&n[2].apply(this,arguments)})],f=!0)},p(m,b){n=m,b&2&&s.value!==n[1]&&(s.value=n[1]),n[1]?h?h.p(n,b):(h=el(n),h.c(),h.m(e,a)):h&&(h.d(1),h=null)},d(m){m&&V(e),n[8](null),h&&h.d(),f=!1,je(g)}}}function el(n){let e,t,o;return{c(){e=S("button"),e.textContent="√ó",c(e,"type","button"),c(e,"class","search-bar__clear svelte-qypsdi"),c(e,"aria-label","Clear search")},m(l,r){Q(l,e,r),t||(o=X(e,"click",n[5]),t=!0)},p:oe,d(l){l&&V(e),t=!1,o()}}}function bs(n){let e,t=n[0]&&$o(n);return{c(){t&&t.c(),e=qe()},m(o,l){t&&t.m(o,l),Q(o,e,l)},p(o,[l]){o[0]?t?t.p(o,l):(t=$o(o),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:oe,o:oe,d(o){o&&V(e),t&&t.d(o)}}}function ks(n,e,t){let{visible:o=!1}=e,{query:l=""}=e,{onSearchChange:r=()=>{}}=e,{onClose:s=()=>{}}=e,i;function a(h){r==null||r(h.target.value)}function u(){r==null||r(""),i==null||i.focus()}function f(h){h.key==="Escape"&&(h.preventDefault(),l?r==null||r(""):s==null||s())}function g(h){lt[h?"unshift":"push"](()=>{i=h,t(3,i)})}return n.$$set=h=>{"visible"in h&&t(0,o=h.visible),"query"in h&&t(1,l=h.query),"onSearchChange"in h&&t(7,r=h.onSearchChange),"onClose"in h&&t(2,s=h.onClose)},n.$$.update=()=>{n.$$.dirty&9&&o&&i&&i.focus()},[o,l,s,i,a,u,f,r,g]}class ps extends He{constructor(e){super(),Ne(this,e,ks,bs,Re,{visible:0,query:1,onSearchChange:7,onClose:2})}}const _n={loading:"Loading Bookmark Dial‚Ä¶",empty:"No bookmarks yet. Add shortcuts from this page or the bookmark manager.",error:"Bookmark Dial folder is unavailable. Try reopening the tab or reinstalling the extension."},_s=64,xt="customBackgroundImage",$t="uiPreferences",Nt="dialPreferences",zt=2,Gn="hasSeenWelcome",ws=10*1024*1024,tl=5,ys="BookmarkDialDB",wt="backgrounds",zn="customBackground",Cn={selectedIds:[],expandedIds:[]},Yl=[{id:"dark",label:"Dark"},{id:"light",label:"Light"},{id:"system",label:"System"}],yt=[{id:"cobalt",label:"Cobalt",colors:{base:"#2563eb",contrast:"#f8fafc",soft:"rgba(37, 99, 235, 0.14)",border:"rgba(37, 99, 235, 0.45)"}},{id:"violet",label:"Violet",colors:{base:"#8b5cf6",contrast:"#faf5ff",soft:"rgba(139, 92, 246, 0.16)",border:"rgba(139, 92, 246, 0.45)"}},{id:"emerald",label:"Emerald",colors:{base:"#059669",contrast:"#ecfdf5",soft:"rgba(5, 150, 105, 0.14)",border:"rgba(5, 150, 105, 0.45)"}},{id:"amber",label:"Amber",colors:{base:"#d97706",contrast:"#fffbeb",soft:"rgba(217, 119, 6, 0.18)",border:"rgba(217, 119, 6, 0.5)"}},{id:"rose",label:"Rose",colors:{base:"#e11d48",contrast:"#fff1f2",soft:"rgba(225, 29, 72, 0.16)",border:"rgba(225, 29, 72, 0.45)"}},{id:"slate",label:"Slate",colors:{base:"#475569",contrast:"#f8fafc",soft:"rgba(71, 85, 105, 0.18)",border:"rgba(71, 85, 105, 0.5)"}},{id:"sky",label:"Sky",colors:{base:"#0284c7",contrast:"#e0f2fe",soft:"rgba(2, 132, 199, 0.16)",border:"rgba(2, 132, 199, 0.45)"}},{id:"blush",label:"Blush",colors:{base:"#ec4899",contrast:"#fff0f6",soft:"rgba(236, 72, 153, 0.18)",border:"rgba(236, 72, 153, 0.5)"}},{id:"moss",label:"Moss",colors:{base:"#4d7c0f",contrast:"#ecfccb",soft:"rgba(77, 124, 15, 0.18)",border:"rgba(77, 124, 15, 0.5)"}},{id:"bronze",label:"Bronze",colors:{base:"#b45309",contrast:"#fff7ed",soft:"rgba(180, 83, 9, 0.2)",border:"rgba(180, 83, 9, 0.55)"}},{id:"orchid",label:"Orchid",colors:{base:"#c026d3",contrast:"#fdf4ff",soft:"rgba(192, 38, 211, 0.18)",border:"rgba(192, 38, 211, 0.5)"}},{id:"mint",label:"Mint",colors:{base:"#14b8a6",contrast:"#e0fefa",soft:"rgba(20, 184, 166, 0.16)",border:"rgba(20, 184, 166, 0.46)"}},{id:"graphite",label:"Graphite",colors:{base:"#1f2937",contrast:"#f8fafc",soft:"rgba(31, 41, 55, 0.22)",border:"rgba(31, 41, 55, 0.6)"}},{id:"sunset",label:"Sunset",colors:{base:"#ea580c",contrast:"#fff7ed",soft:"rgba(234, 88, 12, 0.18)",border:"rgba(234, 88, 12, 0.52)"}},{id:"glacier",label:"Glacier",colors:{base:"#0ea5e9",contrast:"#f0f9ff",soft:"rgba(14, 165, 233, 0.16)",border:"rgba(14, 165, 233, 0.45)"}},{id:"amethyst",label:"Amethyst",colors:{base:"#6d28d9",contrast:"#f5f3ff",soft:"rgba(109, 40, 217, 0.18)",border:"rgba(109, 40, 217, 0.5)"}},{id:"sand",label:"Sand",colors:{base:"#ca8a04",contrast:"#fffbeb",soft:"rgba(202, 138, 4, 0.2)",border:"rgba(202, 138, 4, 0.5)"}},{id:"cranberry",label:"Cranberry",colors:{base:"#be123c",contrast:"#fff1f5",soft:"rgba(190, 18, 60, 0.18)",border:"rgba(190, 18, 60, 0.5)"}}],Tt=[{id:"aurora",label:"Aurora",gradients:{light:"linear-gradient(135deg, #d8b4fe 0%, #6366f1 50%, #22d3ee 100%)",dark:"linear-gradient(135deg, #312e81 0%, #1e3a8a 50%, #0f172a 100%)"},accent:"violet"},{id:"sunrise",label:"Sunrise",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 50%, #f97316 100%)",dark:"linear-gradient(135deg, #7c2d12 0%, #c2410c 45%, #ea580c 100%)"},accent:"amber"},{id:"forest",label:"Forest",gradients:{light:"linear-gradient(135deg, #bbf7d0 0%, #34d399 50%, #0f766e 100%)",dark:"linear-gradient(135deg, #064e3b 0%, #059669 50%, #0f172a 100%)"},accent:"emerald"},{id:"ocean",label:"Ocean",gradients:{light:"linear-gradient(135deg, #bae6fd 0%, #38bdf8 50%, #0ea5e9 100%)",dark:"linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #082f49 100%)"},accent:"sky"},{id:"twilight",label:"Twilight",gradients:{light:"linear-gradient(135deg, #fecdd3 0%, #fda4af 50%, #fb7185 100%)",dark:"linear-gradient(135deg, #7f1d1d 0%, #be123c 50%, #9f1239 100%)"},accent:"orchid"},{id:"slate",label:"Slate",gradients:{light:"linear-gradient(135deg, #e2e8f0 0%, #cbd5f5 50%, #94a3b8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #0f172a 50%, #020617 100%)"},accent:"slate"},{id:"blossom",label:"Blossom",gradients:{light:"linear-gradient(135deg, #ffe4e6 0%, #fbcfe8 45%, #f472b6 100%)",dark:"linear-gradient(135deg, #831843 0%, #9d174d 50%, #701a75 100%)"},accent:"blush"},{id:"lagoon",label:"Lagoon",gradients:{light:"linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 40%, #5eead4 100%)",dark:"linear-gradient(135deg, #022c22 0%, #0d9488 45%, #14b8a6 100%)"},accent:"mint"},{id:"ember",label:"Ember",gradients:{light:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 40%, #fb7185 100%)",dark:"linear-gradient(135deg, #450a0a 0%, #9f1239 50%, #be123c 100%)"},accent:"rose"},{id:"lilac",label:"Lilac",gradients:{light:"linear-gradient(135deg, #f5f3ff 0%, #ede9fe 45%, #d8b4fe 100%)",dark:"linear-gradient(135deg, #312e81 0%, #5b21b6 50%, #7c3aed 100%)"},accent:"violet"},{id:"zenith",label:"Zenith",gradients:{light:"linear-gradient(135deg, #e0f2fe 0%, #dbeafe 45%, #818cf8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #1f3b8a 45%, #3730a3 100%)"},accent:"cobalt"},{id:"sage",label:"Sage",gradients:{light:"linear-gradient(135deg, #ecfccb 0%, #bbf7d0 45%, #84cc16 100%)",dark:"linear-gradient(135deg, #052e16 0%, #166534 45%, #15803d 100%)"},accent:"moss"},{id:"velvet",label:"Velvet",gradients:{light:"linear-gradient(135deg, #fdf4ff 0%, #f5d0fe 45%, #f0abfc 100%)",dark:"linear-gradient(135deg, #4a044e 0%, #6b21a8 45%, #86198f 100%)"},accent:"orchid"},{id:"citrus",label:"Citrus",gradients:{light:"linear-gradient(135deg, #fefce8 0%, #fef08a 45%, #facc15 100%)",dark:"linear-gradient(135deg, #422006 0%, #854d0e 50%, #b45309 100%)"},accent:"amber"},{id:"glacier",label:"Glacier",gradients:{light:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 45%, #bae6fd 100%)",dark:"linear-gradient(135deg, #082f49 0%, #0c4a6e 45%, #0284c7 100%)"},accent:"sky"},{id:"terracotta",label:"Terracotta",gradients:{light:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 45%, #f97316 100%)",dark:"linear-gradient(135deg, #431407 0%, #7c2d12 45%, #9a3412 100%)"},accent:"bronze"},{id:"nocturne",label:"Nocturne",gradients:{light:"linear-gradient(135deg, #ede9fe 0%, #c7d2fe 45%, #4338ca 100%)",dark:"linear-gradient(135deg, #020617 0%, #111827 45%, #312e81 100%)"},accent:"slate"},{id:"horizon",label:"Horizon",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 40%, #60a5fa 100%)",dark:"linear-gradient(135deg, #451a03 0%, #9a3412 45%, #1d4ed8 100%)"},accent:"cobalt"}],St=Tt[0],Ss=St!=null&&St.accent&&yt.some(n=>n.id===St.accent)?St.accent:yt[0].id,me={theme:"system",accent:Ss,background:{mode:"gradient",gradientId:(St==null?void 0:St.id)??Tt[0].id},titleBackdrop:!1,mergeAllBookmarks:!0,folderColumnWidth:1170,compactFolderHeader:!0,enableBookmarkSearch:!1,enableTopSites:!1,lastShortcutFolderId:null},Cs={...me,folderSelection:{...Cn},version:zt},Yn=6,Jn=10;function nl(n,e,t){const o=n.slice();return o[4]=e[t],o}function ol(n,e){let t,o=e[4].label+"",l,r,s,i,a;function u(){return e[3](e[4])}return{key:n,first:null,c(){t=S("button"),l=ke(o),r=R(),c(t,"type","button"),c(t,"class","choice-button"),c(t,"data-active",s=e[1]===e[4].id),this.first=t},m(f,g){Q(f,t,g),k(t,l),k(t,r),i||(a=X(t,"click",u),i=!0)},p(f,g){e=f,g&1&&o!==(o=e[4].label+"")&&De(l,o),g&3&&s!==(s=e[1]===e[4].id)&&c(t,"data-active",s)},d(f){f&&V(t),i=!1,a()}}}function Is(n){let e,t=[],o=new Map,l=ye(n[0]);const r=s=>s[4].id;for(let s=0;s<l.length;s+=1){let i=nl(n,l,s),a=r(i);o.set(a,t[s]=ol(a,i))}return{c(){e=S("div");for(let s=0;s<t.length;s+=1)t[s].c();c(e,"class","choice-row")},m(s,i){Q(s,e,i);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,[i]){i&7&&(l=ye(s[0]),t=et(t,i,r,1,s,l,o,e,Wt,ol,null,nl))},i:oe,o:oe,d(s){s&&V(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function vs(n,e,t){let{options:o=[]}=e,{selected:l="system"}=e,{onChange:r=()=>{}}=e;const s=i=>r(i.id);return n.$$set=i=>{"options"in i&&t(0,o=i.options),"selected"in i&&t(1,l=i.selected),"onChange"in i&&t(2,r=i.onChange)},[o,l,r,s]}class Bs extends He{constructor(e){super(),Ne(this,e,vs,Is,Re,{options:0,selected:1,onChange:2})}}function ll(n,e,t){const o=n.slice();return o[7]=e[t],o}function rl(n,e){let t,o,l,r,s,i;function a(){return e[6](e[7])}return{key:n,first:null,c(){t=S("button"),c(t,"type","button"),c(t,"class","accent-swatch"),it(t,"--swatch-color",e[7].colors.base),c(t,"data-active",o=e[1]===e[7].id),c(t,"aria-label",l=e[7].label),c(t,"title",r=e[7].label),this.first=t},m(u,f){Q(u,t,f),s||(i=X(t,"click",a),s=!0)},p(u,f){e=u,f&1&&it(t,"--swatch-color",e[7].colors.base),f&3&&o!==(o=e[1]===e[7].id)&&c(t,"data-active",o),f&1&&l!==(l=e[7].label)&&c(t,"aria-label",l),f&1&&r!==(r=e[7].label)&&c(t,"title",r)},d(u){u&&V(t),s=!1,i()}}}function il(n){let e,t,o=n[2]?"Show fewer accent colors":"More accent colors",l,r,s;return{c(){e=S("div"),t=S("button"),l=ke(o),c(t,"type","button"),c(t,"class","swatch-toggle-button"),c(t,"aria-expanded",n[2]),c(e,"class","swatch-toggle-row")},m(i,a){Q(i,e,a),k(e,t),k(t,l),r||(s=X(t,"click",function(){Pe(n[5])&&n[5].apply(this,arguments)}),r=!0)},p(i,a){n=i,a&4&&o!==(o=n[2]?"Show fewer accent colors":"More accent colors")&&De(l,o),a&4&&c(t,"aria-expanded",n[2])},d(i){i&&V(e),r=!1,s()}}}function Ts(n){let e,t=[],o=new Map,l,r,s=ye(n[0]);const i=u=>u[7].id;for(let u=0;u<s.length;u+=1){let f=ll(n,s,u),g=i(f);o.set(g,t[u]=rl(g,f))}let a=(n[0].length>n[3]||n[2])&&il(n);return{c(){e=S("div");for(let u=0;u<t.length;u+=1)t[u].c();l=R(),a&&a.c(),r=qe(),c(e,"class","accent-grid")},m(u,f){Q(u,e,f);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);Q(u,l,f),a&&a.m(u,f),Q(u,r,f)},p(u,[f]){f&19&&(s=ye(u[0]),t=et(t,f,i,1,u,s,o,e,Wt,rl,null,ll)),u[0].length>u[3]||u[2]?a?a.p(u,f):(a=il(u),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i:oe,o:oe,d(u){u&&(V(e),V(l),V(r));for(let f=0;f<t.length;f+=1)t[f].d();a&&a.d(u)}}}function Fs(n,e,t){let{options:o=[]}=e,{selected:l=""}=e,{showAll:r=!1}=e,{previewCount:s=10}=e,{onSelect:i=()=>{}}=e,{onToggleShowAll:a=()=>{}}=e;const u=f=>i(f.id);return n.$$set=f=>{"options"in f&&t(0,o=f.options),"selected"in f&&t(1,l=f.selected),"showAll"in f&&t(2,r=f.showAll),"previewCount"in f&&t(3,s=f.previewCount),"onSelect"in f&&t(4,i=f.onSelect),"onToggleShowAll"in f&&t(5,a=f.onToggleShowAll)},[o,l,r,s,i,a,u]}class Ds extends He{constructor(e){super(),Ne(this,e,Fs,Ts,Re,{options:0,selected:1,showAll:2,previewCount:3,onSelect:4,onToggleShowAll:5})}}function sl(n,e,t){const o=n.slice();return o[9]=e[t],o}function al(n,e){let t,o,l=e[9].label+"",r,s,i,a,u;function f(){return e[8](e[9])}return{key:n,first:null,c(){t=S("button"),o=S("span"),r=ke(l),s=R(),c(t,"type","button"),c(t,"class","gradient-option"),it(t,"--gradient-sample-light",e[9].gradients.light),it(t,"--gradient-sample-dark",e[9].gradients.dark),c(t,"data-active",i=!e[2]&&e[1]===e[9].id),this.first=t},m(g,h){Q(g,t,h),k(t,o),k(o,r),k(t,s),a||(u=X(t,"click",f),a=!0)},p(g,h){e=g,h&1&&l!==(l=e[9].label+"")&&De(r,l),h&1&&it(t,"--gradient-sample-light",e[9].gradients.light),h&1&&it(t,"--gradient-sample-dark",e[9].gradients.dark),h&7&&i!==(i=!e[2]&&e[1]===e[9].id)&&c(t,"data-active",i)},d(g){g&&V(t),a=!1,u()}}}function cl(n){let e,t,o=n[3]?"Show fewer gradients":"More gradients",l,r,s;return{c(){e=S("div"),t=S("button"),l=ke(o),c(t,"type","button"),c(t,"class","swatch-toggle-button"),c(t,"aria-expanded",n[3]),c(e,"class","swatch-toggle-row")},m(i,a){Q(i,e,a),k(e,t),k(t,l),r||(s=X(t,"click",function(){Pe(n[6])&&n[6].apply(this,arguments)}),r=!0)},p(i,a){n=i,a&8&&o!==(o=n[3]?"Show fewer gradients":"More gradients")&&De(l,o),a&8&&c(t,"aria-expanded",n[3])},d(i){i&&V(e),r=!1,s()}}}function Es(n){let e,t=[],o=new Map,l,r,s,i,a,u,f=ye(n[0]);const g=m=>m[9].id;for(let m=0;m<f.length;m+=1){let b=sl(n,f,m),p=g(b);o.set(p,t[m]=al(p,b))}let h=(n[0].length>n[4]||n[3])&&cl(n);return{c(){e=S("div");for(let m=0;m<t.length;m+=1)t[m].c();l=R(),h&&h.c(),r=R(),s=S("section"),i=S("button"),i.textContent="Custom background‚Ä¶",c(e,"class","gradient-grid"),c(i,"type","button"),c(i,"class","custom-background-button"),c(s,"class","settings-group")},m(m,b){Q(m,e,b);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);Q(m,l,b),h&&h.m(m,b),Q(m,r,b),Q(m,s,b),k(s,i),a||(u=X(i,"click",function(){Pe(n[7])&&n[7].apply(this,arguments)}),a=!0)},p(m,[b]){n=m,b&39&&(f=ye(n[0]),t=et(t,b,g,1,n,f,o,e,Wt,al,null,sl)),n[0].length>n[4]||n[3]?h?h.p(n,b):(h=cl(n),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null)},i:oe,o:oe,d(m){m&&(V(e),V(l),V(r),V(s));for(let b=0;b<t.length;b+=1)t[b].d();h&&h.d(m),a=!1,u()}}}function Ms(n,e,t){let{options:o=[]}=e,{selectedGradientId:l=null}=e,{isCustomMode:r=!1}=e,{showAll:s=!1}=e,{previewCount:i=6}=e,{onSelect:a=()=>{}}=e,{onToggleShowAll:u=()=>{}}=e,{onCustomClick:f=()=>{}}=e;const g=h=>a(h.id);return n.$$set=h=>{"options"in h&&t(0,o=h.options),"selectedGradientId"in h&&t(1,l=h.selectedGradientId),"isCustomMode"in h&&t(2,r=h.isCustomMode),"showAll"in h&&t(3,s=h.showAll),"previewCount"in h&&t(4,i=h.previewCount),"onSelect"in h&&t(5,a=h.onSelect),"onToggleShowAll"in h&&t(6,u=h.onToggleShowAll),"onCustomClick"in h&&t(7,f=h.onCustomClick)},[o,l,r,s,i,a,u,f,g]}class As extends He{constructor(e){super(),Ne(this,e,Ms,Es,Re,{options:0,selectedGradientId:1,isCustomMode:2,showAll:3,previewCount:4,onSelect:5,onToggleShowAll:6,onCustomClick:7})}}function ul(n,e,t){const o=n.slice();return o[2]=e[t],o}function Ls(n){let e=[],t=new Map,o,l=ye(n[0]);const r=s=>s[2].id;for(let s=0;s<l.length;s+=1){let i=ul(n,l,s),a=r(i);t.set(a,e[s]=dl(a,i))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();o=qe()},m(s,i){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,i);Q(s,o,i)},p(s,i){i&1&&(l=ye(s[0]),e=et(e,i,r,1,s,l,t,o.parentNode,Wt,dl,o,ul))},d(s){s&&V(o);for(let i=0;i<e.length;i+=1)e[i].d(s)}}}function Os(n){let e;return{c(){e=S("span"),e.textContent="Default folder",c(e,"class","folder-chip folder-chip--empty"),c(e,"title","Default Bookmark Dial folder")},m(t,o){Q(t,e,o)},p:oe,d(t){t&&V(e)}}}function dl(n,e){let t,o,l=e[2].label+"",r,s,i,a=e[2].count+"",u,f,g;return{key:n,first:null,c(){t=S("span"),o=S("span"),r=ke(l),s=R(),i=S("span"),u=ke(a),f=R(),c(o,"class","folder-chip__label"),c(i,"class","folder-chip__count"),c(t,"class","folder-chip"),c(t,"title",g=e[2].fullPath),this.first=t},m(h,m){Q(h,t,m),k(t,o),k(o,r),k(t,s),k(t,i),k(i,u),k(t,f)},p(h,m){e=h,m&1&&l!==(l=e[2].label+"")&&De(r,l),m&1&&a!==(a=e[2].count+"")&&De(u,a),m&1&&g!==(g=e[2].fullPath)&&c(t,"title",g)},d(h){h&&V(t)}}}function Ps(n){let e,t,o,l,r,s;function i(f,g){return f[0].length===0?Os:Ls}let a=i(n),u=a(n);return{c(){e=S("div"),t=S("div"),u.c(),o=R(),l=S("button"),l.textContent="Manage folders",c(t,"class","folder-bar__summary"),c(l,"type","button"),c(l,"class","ghost-button folder-bar__action"),c(e,"class","folder-bar")},m(f,g){Q(f,e,g),k(e,t),u.m(t,null),k(e,o),k(e,l),r||(s=X(l,"click",function(){Pe(n[1])&&n[1].apply(this,arguments)}),r=!0)},p(f,[g]){n=f,a===(a=i(n))&&u?u.p(n,g):(u.d(1),u=a(n),u&&(u.c(),u.m(t,null)))},i:oe,o:oe,d(f){f&&V(e),u.d(),r=!1,s()}}}function js(n,e,t){let{summary:o=[]}=e,{onChooseFolders:l=()=>{}}=e;return n.$$set=r=>{"summary"in r&&t(0,o=r.summary),"onChooseFolders"in r&&t(1,l=r.onChooseFolders)},[o,l]}class Us extends He{constructor(e){super(),Ne(this,e,js,Ps,Re,{summary:0,onChooseFolders:1})}}function fl(n){let e,t,o,l,r,s,i,a,u,f,g,h,m,b;return{c(){e=S("div"),t=S("label"),o=S("span"),o.textContent="Folder width",l=R(),r=S("input"),i=R(),a=S("label"),u=S("input"),g=R(),h=S("div"),h.innerHTML='<span class="settings-toggle__label">Compact header</span> <span class="settings-toggle__description">Hide folder path to save space.</span>',c(o,"class","settings-control__label"),c(r,"type","range"),c(r,"min","480"),c(r,"max","1860"),c(r,"step","20"),r.value=s=n[1].folderColumnWidth,c(t,"class","settings-control"),c(u,"type","checkbox"),u.checked=f=n[1].compactFolderHeader,c(h,"class","settings-toggle__body"),c(a,"class","settings-toggle"),c(e,"class","ungrouped-settings")},m(p,_){Q(p,e,_),k(e,t),k(t,o),k(t,l),k(t,r),k(e,i),k(e,a),k(a,u),k(a,g),k(a,h),m||(b=[X(r,"input",n[25]),X(u,"change",n[26])],m=!0)},p(p,_){_&2&&s!==(s=p[1].folderColumnWidth)&&(r.value=s),_&2&&f!==(f=p[1].compactFolderHeader)&&(u.checked=f)},d(p){p&&V(e),m=!1,je(b)}}}function Rs(n){let e,t,o,l,r,s,i,a,u,f,g,h,m,b,p,_,C,T,O,j,F,B,A,q,D,W,Z,x,le,de,H,se,U,ee,ie,ge,N,fe,v,J,Te,ue,I,E,G,K,te,re,pe,L,Se,$e,We,Be,Fe,we,Je,Ve,ct,sn;f=new Bs({props:{options:Yl,selected:n[1].theme,onChange:n[8]}}),p=new Ds({props:{options:n[3],selected:n[1].accent,showAllAccents:n[5],previewCount:Jn,onSelect:n[9],onToggleShowAll:n[18]}}),le=new As({props:{options:n[4],selectedGradientId:n[1].background.gradientId,isCustomMode:n[1].background.mode==="custom",showAllGradients:n[6],previewCount:Yn,onSelect:n[11],onToggleShowAll:n[19],onCustomClick:n[12]}}),ee=new Us({props:{summary:n[2],onChooseFolders:n[20]}});let Le=!n[1].mergeAllBookmarks&&fl(n);return{c(){e=S("aside"),t=S("header"),o=S("h2"),o.innerHTML=`<img src="/icons/icon-48.png" alt="Bookmark Dial" class="settings-drawer__brand-icon"/>
      Settings`,l=R(),r=S("button"),r.textContent="√ó",s=R(),i=S("section"),a=S("h3"),a.textContent="Theme",u=R(),Oe(f.$$.fragment),g=R(),h=S("section"),m=S("h3"),m.textContent="Accent color",b=R(),Oe(p.$$.fragment),_=R(),C=S("section"),T=S("h3"),T.textContent="Tile titles",O=R(),j=S("label"),F=S("input"),A=R(),q=S("div"),q.innerHTML='<span class="settings-toggle__label">Rounded backdrop</span>',D=R(),W=S("section"),Z=S("h3"),Z.textContent="Gradient background",x=R(),Oe(le.$$.fragment),de=R(),H=S("section"),se=S("h3"),se.textContent="Folders",U=R(),Oe(ee.$$.fragment),ie=R(),ge=S("label"),N=S("input"),v=R(),J=S("div"),J.innerHTML='<span class="settings-toggle__label">Merge bookmarks from all folders</span> <span class="settings-toggle__description">Display all bookmarks in a single deduplicated grid.</span>',Te=R(),Le&&Le.c(),ue=R(),I=S("section"),E=S("h3"),E.textContent="Experimental",G=R(),K=S("label"),te=S("input"),pe=R(),L=S("div"),L.innerHTML='<span class="settings-toggle__label">Bookmark search</span> <span class="settings-toggle__description">Press <kbd>/</kbd> to search bookmarks.</span>',Se=R(),$e=S("label"),We=S("input"),Fe=R(),we=S("div"),we.innerHTML='<span class="settings-toggle__label">Show frequently visited</span> <span class="settings-toggle__description">Include your most visited sites alongside bookmarks.</span>',c(r,"type","button"),c(r,"class","settings-drawer__close"),c(r,"aria-label","Close settings"),c(t,"class","settings-drawer__header"),c(i,"class","settings-group"),c(h,"class","settings-group"),c(F,"type","checkbox"),F.checked=B=n[1].titleBackdrop,c(q,"class","settings-toggle__body"),c(j,"class","settings-toggle"),c(j,"title","Adds a soft highlight behind each title for contrast."),c(C,"class","settings-group"),c(W,"class","settings-group"),c(N,"type","checkbox"),N.checked=fe=n[1].mergeAllBookmarks,c(J,"class","settings-toggle__body"),c(ge,"class","settings-toggle folder-group-toggle"),c(H,"class","settings-group settings-group--folders"),c(te,"type","checkbox"),te.checked=re=n[1].enableBookmarkSearch,c(L,"class","settings-toggle__body"),c(K,"class","settings-toggle"),c(We,"type","checkbox"),We.checked=Be=n[1].enableTopSites,c(we,"class","settings-toggle__body"),c($e,"class","settings-toggle"),c(I,"class","settings-group"),c(e,"id","settings-drawer"),c(e,"class","settings-drawer"),c(e,"data-open",n[0]),c(e,"aria-hidden",Je=!n[0]),c(e,"tabindex","-1")},m(Ee,_e){Q(Ee,e,_e),k(e,t),k(t,o),k(t,l),k(t,r),k(e,s),k(e,i),k(i,a),k(i,u),Me(f,i,null),k(e,g),k(e,h),k(h,m),k(h,b),Me(p,h,null),k(e,_),k(e,C),k(C,T),k(C,O),k(C,j),k(j,F),k(j,A),k(j,q),k(e,D),k(e,W),k(W,Z),k(W,x),Me(le,W,null),k(e,de),k(e,H),k(H,se),k(H,U),Me(ee,H,null),k(H,ie),k(H,ge),k(ge,N),k(ge,v),k(ge,J),k(H,Te),Le&&Le.m(H,null),k(e,ue),k(e,I),k(I,E),k(I,G),k(I,K),k(K,te),k(K,pe),k(K,L),k(I,Se),k(I,$e),k($e,We),k($e,Fe),k($e,we),n[29](e),Ve=!0,ct||(sn=[X(r,"click",function(){Pe(n[7])&&n[7].apply(this,arguments)}),X(F,"change",n[23]),X(N,"change",n[24]),X(te,"change",n[27]),X(We,"change",n[28]),X(e,"click",_i(n[22]))],ct=!0)},p(Ee,[_e]){n=Ee;const Ue={};_e&2&&(Ue.selected=n[1].theme),_e&256&&(Ue.onChange=n[8]),f.$set(Ue);const Ke={};_e&8&&(Ke.options=n[3]),_e&2&&(Ke.selected=n[1].accent),_e&32&&(Ke.showAllAccents=n[5]),_e&512&&(Ke.onSelect=n[9]),_e&262144&&(Ke.onToggleShowAll=n[18]),p.$set(Ke),(!Ve||_e&2&&B!==(B=n[1].titleBackdrop))&&(F.checked=B);const Qe={};_e&16&&(Qe.options=n[4]),_e&2&&(Qe.selectedGradientId=n[1].background.gradientId),_e&2&&(Qe.isCustomMode=n[1].background.mode==="custom"),_e&64&&(Qe.showAllGradients=n[6]),_e&2048&&(Qe.onSelect=n[11]),_e&524288&&(Qe.onToggleShowAll=n[19]),_e&4096&&(Qe.onCustomClick=n[12]),le.$set(Qe);const ht={};_e&4&&(ht.summary=n[2]),_e&1048576&&(ht.onChooseFolders=n[20]),ee.$set(ht),(!Ve||_e&2&&fe!==(fe=n[1].mergeAllBookmarks))&&(N.checked=fe),n[1].mergeAllBookmarks?Le&&(Le.d(1),Le=null):Le?Le.p(n,_e):(Le=fl(n),Le.c(),Le.m(H,null)),(!Ve||_e&2&&re!==(re=n[1].enableBookmarkSearch))&&(te.checked=re),(!Ve||_e&2&&Be!==(Be=n[1].enableTopSites))&&(We.checked=Be),(!Ve||_e&1)&&c(e,"data-open",n[0]),(!Ve||_e&1&&Je!==(Je=!n[0]))&&c(e,"aria-hidden",Je)},i(Ee){Ve||($(f.$$.fragment,Ee),$(p.$$.fragment,Ee),$(le.$$.fragment,Ee),$(ee.$$.fragment,Ee),Ve=!0)},o(Ee){ne(f.$$.fragment,Ee),ne(p.$$.fragment,Ee),ne(le.$$.fragment,Ee),ne(ee.$$.fragment,Ee),Ve=!1},d(Ee){Ee&&V(e),Ae(f),Ae(p),Ae(le),Ae(ee),Le&&Le.d(),n[29](null),ct=!1,je(sn)}}}function Ns(n,e,t){let{open:o=!1}=e,{settings:l}=e,{folderSummary:r=[]}=e,{visibleAccentOptions:s=[]}=e,{visibleGradientOptions:i=[]}=e,{showAllAccents:a=!1}=e,{showAllGradients:u=!1}=e,{onClose:f=()=>{}}=e,{onThemeChange:g=()=>{}}=e,{onAccentChange:h=()=>{}}=e,{onTitleBackdropChange:m=()=>{}}=e,{onGradientSelect:b=()=>{}}=e,{onCustomBackgroundClick:p=()=>{}}=e,{onMergeAllChange:_=()=>{}}=e,{onFolderColumnWidthChange:C=()=>{}}=e,{onCompactHeaderChange:T=()=>{}}=e,{onSearchToggle:O=()=>{}}=e,{onTopSitesToggle:j=()=>{}}=e,{onToggleAccents:F=()=>{}}=e,{onToggleGradients:B=()=>{}}=e,{onOpenFolderModal:A=()=>{}}=e,q;function D(U){Ti.call(this,n,U)}const W=U=>m(U.currentTarget.checked),Z=U=>_(U.currentTarget.checked),x=U=>C(Number(U.currentTarget.value)),le=U=>T(U.currentTarget.checked),de=U=>O(U.currentTarget.checked),H=U=>j(U.currentTarget.checked);function se(U){lt[U?"unshift":"push"](()=>{q=U,t(21,q)})}return n.$$set=U=>{"open"in U&&t(0,o=U.open),"settings"in U&&t(1,l=U.settings),"folderSummary"in U&&t(2,r=U.folderSummary),"visibleAccentOptions"in U&&t(3,s=U.visibleAccentOptions),"visibleGradientOptions"in U&&t(4,i=U.visibleGradientOptions),"showAllAccents"in U&&t(5,a=U.showAllAccents),"showAllGradients"in U&&t(6,u=U.showAllGradients),"onClose"in U&&t(7,f=U.onClose),"onThemeChange"in U&&t(8,g=U.onThemeChange),"onAccentChange"in U&&t(9,h=U.onAccentChange),"onTitleBackdropChange"in U&&t(10,m=U.onTitleBackdropChange),"onGradientSelect"in U&&t(11,b=U.onGradientSelect),"onCustomBackgroundClick"in U&&t(12,p=U.onCustomBackgroundClick),"onMergeAllChange"in U&&t(13,_=U.onMergeAllChange),"onFolderColumnWidthChange"in U&&t(14,C=U.onFolderColumnWidthChange),"onCompactHeaderChange"in U&&t(15,T=U.onCompactHeaderChange),"onSearchToggle"in U&&t(16,O=U.onSearchToggle),"onTopSitesToggle"in U&&t(17,j=U.onTopSitesToggle),"onToggleAccents"in U&&t(18,F=U.onToggleAccents),"onToggleGradients"in U&&t(19,B=U.onToggleGradients),"onOpenFolderModal"in U&&t(20,A=U.onOpenFolderModal)},n.$$.update=()=>{n.$$.dirty&2097153&&o&&q&&q.focus()},[o,l,r,s,i,a,u,f,g,h,m,b,p,_,C,T,O,j,F,B,A,q,D,W,Z,x,le,de,H,se]}class Hs extends He{constructor(e){super(),Ne(this,e,Ns,Rs,Re,{open:0,settings:1,folderSummary:2,visibleAccentOptions:3,visibleGradientOptions:4,showAllAccents:5,showAllGradients:6,onClose:7,onThemeChange:8,onAccentChange:9,onTitleBackdropChange:10,onGradientSelect:11,onCustomBackgroundClick:12,onMergeAllChange:13,onFolderColumnWidthChange:14,onCompactHeaderChange:15,onSearchToggle:16,onTopSitesToggle:17,onToggleAccents:18,onToggleGradients:19,onOpenFolderModal:20})}}function hl(n,e,t){const o=n.slice();return o[34]=e[t],o[36]=t,o}function gl(n,e,t){const o=n.slice();return o[37]=e[t],o[39]=t,o}function ml(n,e){var b,p;let t,o,l;function r(){return e[22](e[37])}function s(){return e[23](e[37])}function i(){return e[24](e[37])}function a(){return e[25](e[37])}function u(..._){return e[26](e[37],..._)}function f(){return e[27](e[39])}function g(..._){return e[28](e[37],..._)}function h(..._){return e[29](e[37],..._)}function m(..._){return e[30](e[37],..._)}return o=new no({props:{bookmark:e[37],titleBackdrop:e[3],menuOpen:e[5]===e[37].id,focused:e[4]===e[39],dragging:((b=e[6])==null?void 0:b.id)===e[37].id,dragOver:((p=e[7])==null?void 0:p.id)===e[37].id,onToggleMenu:r,onEdit:s,onRemove:i,onFallback:a,onContextMenu:u,onFocus:f,onDragStart:g,onDragOver:h,onDragLeave:e[16],onDrop:m,onDragEnd:e[18],getFaviconUrl:e[20]}}),{key:n,first:null,c(){t=qe(),Oe(o.$$.fragment),this.first=t},m(_,C){Q(_,t,C),Me(o,_,C),l=!0},p(_,C){var O,j;e=_;const T={};C[0]&1&&(T.bookmark=e[37]),C[0]&8&&(T.titleBackdrop=e[3]),C[0]&33&&(T.menuOpen=e[5]===e[37].id),C[0]&17&&(T.focused=e[4]===e[39]),C[0]&65&&(T.dragging=((O=e[6])==null?void 0:O.id)===e[37].id),C[0]&129&&(T.dragOver=((j=e[7])==null?void 0:j.id)===e[37].id),C[0]&257&&(T.onToggleMenu=r),C[0]&513&&(T.onEdit=s),C[0]&1025&&(T.onRemove=i),C[0]&2049&&(T.onFallback=a),C[0]&4097&&(T.onContextMenu=u),C[0]&8193&&(T.onFocus=f),C[0]&16385&&(T.onDragStart=g),C[0]&32769&&(T.onDragOver=h),C[0]&65536&&(T.onDragLeave=e[16]),C[0]&131073&&(T.onDrop=m),C[0]&262144&&(T.onDragEnd=e[18]),C[0]&1048576&&(T.getFaviconUrl=e[20]),o.$set(T)},i(_){l||($(o.$$.fragment,_),l=!0)},o(_){ne(o.$$.fragment,_),l=!1},d(_){_&&V(t),Ae(o,_)}}}function bl(n){let e=[],t=new Map,o,l,r=ye(n[1]);const s=i=>i[34].id;for(let i=0;i<r.length;i+=1){let a=hl(n,r,i),u=s(a);t.set(u,e[i]=kl(u,a))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();o=qe()},m(i,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(i,a);Q(i,o,a),l=!0},p(i,a){a[0]&1056795&&(r=ye(i[1]),Ge(),e=et(e,a,s,1,i,r,t,o.parentNode,Dt,kl,o,hl),ze())},i(i){if(!l){for(let a=0;a<r.length;a+=1)$(e[a]);l=!0}},o(i){for(let a=0;a<e.length;a+=1)ne(e[a]);l=!1},d(i){i&&V(o);for(let a=0;a<e.length;a+=1)e[a].d(i)}}}function kl(n,e){let t,o,l;function r(){return e[31](e[36])}return o=new no({props:{bookmark:e[34],titleBackdrop:e[3],menuOpen:!1,focused:e[4]===e[0].length+e[36],dragging:!1,dragOver:!1,onToggleMenu:zs,onEdit:qs,onRemove:Ws,onFallback:Vs,onContextMenu:Ks,onFocus:r,onDragStart:Qs,onDragOver:Ys,onDragLeave:Js,onDrop:Xs,onDragEnd:Zs,getFaviconUrl:e[20],isTopSite:!0}}),{key:n,first:null,c(){t=qe(),Oe(o.$$.fragment),this.first=t},m(s,i){Q(s,t,i),Me(o,s,i),l=!0},p(s,i){e=s;const a={};i[0]&2&&(a.bookmark=e[34]),i[0]&8&&(a.titleBackdrop=e[3]),i[0]&19&&(a.focused=e[4]===e[0].length+e[36]),i[0]&8195&&(a.onFocus=r),i[0]&1048576&&(a.getFaviconUrl=e[20]),o.$set(a)},i(s){l||($(o.$$.fragment,s),l=!0)},o(s){ne(o.$$.fragment,s),l=!1},d(s){s&&V(t),Ae(o,s)}}}function Gs(n){let e,t=[],o=new Map,l,r,s,i,a,u,f,g=ye(n[0]);const h=b=>b[37].id;for(let b=0;b<g.length;b+=1){let p=gl(n,g,b),_=h(p);o.set(_,t[b]=ml(_,p))}let m=n[2]&&n[1].length>0&&bl(n);return{c(){e=S("div");for(let b=0;b<t.length;b+=1)t[b].c();l=R(),m&&m.c(),r=R(),s=S("article"),i=S("button"),i.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',c(i,"class","add-button"),c(i,"type","button"),c(i,"aria-label","Add new bookmark shortcut"),c(s,"class","tile add-tile"),c(s,"draggable","false"),c(e,"id","dial-grid"),c(e,"class","grid"),c(e,"aria-label","Bookmark Dial links"),c(e,"tabindex","-1"),c(e,"role","group")},m(b,p){Q(b,e,p);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);k(e,l),m&&m.m(e,null),k(e,r),k(e,s),k(s,i),n[32](e),a=!0,u||(f=X(i,"click",function(){Pe(n[19])&&n[19].apply(this,arguments)}),u=!0)},p(b,p){n=b,p[0]&1572857&&(g=ye(n[0]),Ge(),t=et(t,p,h,1,n,g,o,e,Dt,ml,l,gl),ze()),n[2]&&n[1].length>0?m?(m.p(n,p),p[0]&6&&$(m,1)):(m=bl(n),m.c(),$(m,1),m.m(e,r)):m&&(Ge(),ne(m,1,1,()=>{m=null}),ze())},i(b){if(!a){for(let p=0;p<g.length;p+=1)$(t[p]);$(m),a=!0}},o(b){for(let p=0;p<t.length;p+=1)ne(t[p]);ne(m),a=!1},d(b){b&&V(e);for(let p=0;p<t.length;p+=1)t[p].d();m&&m.d(),n[32](null),u=!1,f()}}}const zs=()=>{},qs=()=>{},Ws=()=>{},Vs=()=>{},Ks=()=>{},Qs=()=>{},Ys=()=>{},Js=()=>{},Xs=()=>{},Zs=()=>{};function xs(n,e,t){const o=Nl();let{bookmarks:l=[]}=e,{topSites:r=[]}=e,{showTopSites:s=!1}=e,{titleBackdrop:i=!1}=e,{focusedIndex:a=-1}=e,{openMenuId:u=null}=e,{draggedBookmark:f=null}=e,{dragOverBookmark:g=null}=e,{onTileMenu:h=()=>{}}=e,{onTileEdit:m=()=>{}}=e,{onTileRemove:b=()=>{}}=e,{onTileFallback:p=()=>{}}=e,{onTileContextMenu:_=()=>{}}=e,{onTileFocus:C=()=>{}}=e,{onDragStart:T=()=>{}}=e,{onDragOver:O=()=>{}}=e,{onDragLeave:j=()=>{}}=e,{onDrop:F=()=>{}}=e,{onDragEnd:B=()=>{}}=e,{onAddShortcut:A=()=>{}}=e,{getFaviconUrl:q=async()=>""}=e,D=null;Rl(()=>{o("gridmount",{gridRef:D})});const W=N=>h(N.id),Z=N=>m(N),x=N=>b(N.id),le=N=>p(N.id),de=(N,fe)=>_(fe,N),H=N=>C(N),se=(N,fe)=>T(fe,N),U=(N,fe)=>O(fe,N),ee=(N,fe)=>F(fe,N),ie=N=>C(l.length+N);function ge(N){lt[N?"unshift":"push"](()=>{D=N,t(21,D)})}return n.$$set=N=>{"bookmarks"in N&&t(0,l=N.bookmarks),"topSites"in N&&t(1,r=N.topSites),"showTopSites"in N&&t(2,s=N.showTopSites),"titleBackdrop"in N&&t(3,i=N.titleBackdrop),"focusedIndex"in N&&t(4,a=N.focusedIndex),"openMenuId"in N&&t(5,u=N.openMenuId),"draggedBookmark"in N&&t(6,f=N.draggedBookmark),"dragOverBookmark"in N&&t(7,g=N.dragOverBookmark),"onTileMenu"in N&&t(8,h=N.onTileMenu),"onTileEdit"in N&&t(9,m=N.onTileEdit),"onTileRemove"in N&&t(10,b=N.onTileRemove),"onTileFallback"in N&&t(11,p=N.onTileFallback),"onTileContextMenu"in N&&t(12,_=N.onTileContextMenu),"onTileFocus"in N&&t(13,C=N.onTileFocus),"onDragStart"in N&&t(14,T=N.onDragStart),"onDragOver"in N&&t(15,O=N.onDragOver),"onDragLeave"in N&&t(16,j=N.onDragLeave),"onDrop"in N&&t(17,F=N.onDrop),"onDragEnd"in N&&t(18,B=N.onDragEnd),"onAddShortcut"in N&&t(19,A=N.onAddShortcut),"getFaviconUrl"in N&&t(20,q=N.getFaviconUrl)},n.$$.update=()=>{n.$$.dirty[0]&2097152&&D&&o("gridmount",{gridRef:D})},[l,r,s,i,a,u,f,g,h,m,b,p,_,C,T,O,j,F,B,A,q,D,W,Z,x,le,de,H,se,U,ee,ie,ge]}class $s extends He{constructor(e){super(),Ne(this,e,xs,Gs,Re,{bookmarks:0,topSites:1,showTopSites:2,titleBackdrop:3,focusedIndex:4,openMenuId:5,draggedBookmark:6,dragOverBookmark:7,onTileMenu:8,onTileEdit:9,onTileRemove:10,onTileFallback:11,onTileContextMenu:12,onTileFocus:13,onDragStart:14,onDragOver:15,onDragLeave:16,onDrop:17,onDragEnd:18,onAddShortcut:19,getFaviconUrl:20},null,[-1,-1])}}function pl(n,e,t){const o=n.slice();return o[28]=e[t],o}function ea(n){let e,t=n[0].label+"",o,l,r,s=n[0].fullPath&&n[0].fullPath!==n[0].label&&_l(n);return{c(){e=S("h4"),o=ke(t),l=R(),s&&s.c(),r=qe(),c(e,"class","folder-section__title")},m(i,a){Q(i,e,a),k(e,o),Q(i,l,a),s&&s.m(i,a),Q(i,r,a)},p(i,a){a&1&&t!==(t=i[0].label+"")&&De(o,t),i[0].fullPath&&i[0].fullPath!==i[0].label?s?s.p(i,a):(s=_l(i),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(i){i&&(V(e),V(l),V(r)),s&&s.d(i)}}}function ta(n){let e,t=n[0].label+"",o,l;return{c(){e=S("h4"),o=ke(t),c(e,"class","folder-section__title"),c(e,"title",l=n[0].fullPath)},m(r,s){Q(r,e,s),k(e,o)},p(r,s){s&1&&t!==(t=r[0].label+"")&&De(o,t),s&1&&l!==(l=r[0].fullPath)&&c(e,"title",l)},d(r){r&&V(e)}}}function _l(n){let e,t=n[0].fullPath+"",o;return{c(){e=S("p"),o=ke(t),c(e,"class","folder-section__path")},m(l,r){Q(l,e,r),k(e,o)},p(l,r){r&1&&t!==(t=l[0].fullPath+"")&&De(o,t)},d(l){l&&V(e)}}}function na(n){let e,t,o,l,r,s;return{c(){e=S("div"),t=S("article"),o=S("button"),o.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',c(o,"class","add-button"),c(o,"type","button"),c(t,"class","tile add-tile"),c(t,"draggable","false"),c(e,"class","grid folder-section__grid"),c(e,"role","group"),c(e,"aria-label",l=`Shortcuts in ${n[0].fullPath||n[0].label}`)},m(i,a){Q(i,e,a),k(e,t),k(t,o),r||(s=X(o,"click",n[27]),r=!0)},p(i,a){a&1&&l!==(l=`Shortcuts in ${i[0].fullPath||i[0].label}`)&&c(e,"aria-label",l)},i:oe,o:oe,d(i){i&&V(e),r=!1,s()}}}function oa(n){let e,t=[],o=new Map,l,r,s,i,a,u,f,g=ye(n[0].items);const h=m=>m[28].id;for(let m=0;m<g.length;m+=1){let b=pl(n,g,m),p=h(b);o.set(p,t[m]=wl(p,b))}return{c(){e=S("div");for(let m=0;m<t.length;m+=1)t[m].c();l=R(),r=S("article"),s=S("button"),s.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',c(s,"class","add-button"),c(s,"type","button"),c(r,"class","tile add-tile"),c(r,"draggable","false"),c(e,"class","grid folder-section__grid"),c(e,"role","group"),c(e,"aria-label",i=`Shortcuts in ${n[0].fullPath||n[0].label}`)},m(m,b){Q(m,e,b);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);k(e,l),k(e,r),k(r,s),a=!0,u||(f=X(s,"click",n[26]),u=!0)},p(m,b){b&196605&&(g=ye(m[0].items),Ge(),t=et(t,b,h,1,m,g,o,e,Dt,wl,l,pl),ze()),(!a||b&1&&i!==(i=`Shortcuts in ${m[0].fullPath||m[0].label}`))&&c(e,"aria-label",i)},i(m){if(!a){for(let b=0;b<g.length;b+=1)$(t[b]);a=!0}},o(m){for(let b=0;b<t.length;b+=1)ne(t[b]);a=!1},d(m){m&&V(e);for(let b=0;b<t.length;b+=1)t[b].d();u=!1,f()}}}function wl(n,e){var m,b;let t,o,l;function r(){return e[18](e[28])}function s(){return e[19](e[28])}function i(){return e[20](e[28])}function a(){return e[21](e[28])}function u(...p){return e[22](e[28],...p)}function f(...p){return e[23](e[28],...p)}function g(...p){return e[24](e[28],...p)}function h(...p){return e[25](e[28],...p)}return o=new no({props:{bookmark:e[28],titleBackdrop:e[2],menuOpen:e[3]===e[28].id,focused:!1,dragging:((m=e[4])==null?void 0:m.id)===e[28].id,dragOver:((b=e[5])==null?void 0:b.id)===e[28].id,onToggleMenu:r,onEdit:s,onRemove:i,onFallback:a,onContextMenu:u,onFocus:ra,onDragStart:f,onDragOver:g,onDragLeave:e[13],onDrop:h,onDragEnd:e[15],getFaviconUrl:e[17]}}),{key:n,first:null,c(){t=qe(),Oe(o.$$.fragment),this.first=t},m(p,_){Q(p,t,_),Me(o,p,_),l=!0},p(p,_){var T,O;e=p;const C={};_&1&&(C.bookmark=e[28]),_&4&&(C.titleBackdrop=e[2]),_&9&&(C.menuOpen=e[3]===e[28].id),_&17&&(C.dragging=((T=e[4])==null?void 0:T.id)===e[28].id),_&33&&(C.dragOver=((O=e[5])==null?void 0:O.id)===e[28].id),_&65&&(C.onToggleMenu=r),_&129&&(C.onEdit=s),_&257&&(C.onRemove=i),_&513&&(C.onFallback=a),_&1025&&(C.onContextMenu=u),_&2049&&(C.onDragStart=f),_&4097&&(C.onDragOver=g),_&8192&&(C.onDragLeave=e[13]),_&16385&&(C.onDrop=h),_&32768&&(C.onDragEnd=e[15]),_&131072&&(C.getFaviconUrl=e[17]),o.$set(C)},i(p){l||($(o.$$.fragment,p),l=!0)},o(p){ne(o.$$.fragment,p),l=!1},d(p){p&&V(t),Ae(o,p)}}}function la(n){let e,t,o,l,r,s,i;function a(b,p){return b[1]?ta:ea}let u=a(n),f=u(n);const g=[oa,na],h=[];function m(b,p){return b[0].items.length?0:1}return r=m(n),s=h[r]=g[r](n),{c(){e=S("section"),t=S("header"),o=S("div"),f.c(),l=R(),s.c(),c(o,"class","folder-section__titles"),c(t,"class","folder-section__header"),c(e,"class","folder-section")},m(b,p){Q(b,e,p),k(e,t),k(t,o),f.m(o,null),k(e,l),h[r].m(e,null),i=!0},p(b,[p]){u===(u=a(b))&&f?f.p(b,p):(f.d(1),f=u(b),f&&(f.c(),f.m(o,null)));let _=r;r=m(b),r===_?h[r].p(b,p):(Ge(),ne(h[_],1,1,()=>{h[_]=null}),ze(),s=h[r],s?s.p(b,p):(s=h[r]=g[r](b),s.c()),$(s,1),s.m(e,null))},i(b){i||($(s),i=!0)},o(b){ne(s),i=!1},d(b){b&&V(e),f.d(),h[r].d()}}}const ra=()=>{};function ia(n,e,t){let{group:o}=e,{compactHeader:l=!0}=e,{titleBackdrop:r=!1}=e,{openMenuId:s=null}=e,{draggedBookmark:i=null}=e,{dragOverBookmark:a=null}=e,{onTileMenu:u=()=>{}}=e,{onTileEdit:f=()=>{}}=e,{onTileRemove:g=()=>{}}=e,{onTileFallback:h=()=>{}}=e,{onTileContextMenu:m=()=>{}}=e,{onDragStart:b=()=>{}}=e,{onDragOver:p=()=>{}}=e,{onDragLeave:_=()=>{}}=e,{onDrop:C=()=>{}}=e,{onDragEnd:T=()=>{}}=e,{onAddShortcut:O=()=>{}}=e,{getFaviconUrl:j=async()=>""}=e;const F=H=>u(H.id),B=H=>f(H),A=H=>g(H.id),q=H=>h(H.id),D=(H,se)=>m(se,H),W=(H,se)=>b(se,H,o.id),Z=(H,se)=>p(se,H),x=(H,se)=>C(se,H),le=()=>O(o.id),de=()=>O(o.id);return n.$$set=H=>{"group"in H&&t(0,o=H.group),"compactHeader"in H&&t(1,l=H.compactHeader),"titleBackdrop"in H&&t(2,r=H.titleBackdrop),"openMenuId"in H&&t(3,s=H.openMenuId),"draggedBookmark"in H&&t(4,i=H.draggedBookmark),"dragOverBookmark"in H&&t(5,a=H.dragOverBookmark),"onTileMenu"in H&&t(6,u=H.onTileMenu),"onTileEdit"in H&&t(7,f=H.onTileEdit),"onTileRemove"in H&&t(8,g=H.onTileRemove),"onTileFallback"in H&&t(9,h=H.onTileFallback),"onTileContextMenu"in H&&t(10,m=H.onTileContextMenu),"onDragStart"in H&&t(11,b=H.onDragStart),"onDragOver"in H&&t(12,p=H.onDragOver),"onDragLeave"in H&&t(13,_=H.onDragLeave),"onDrop"in H&&t(14,C=H.onDrop),"onDragEnd"in H&&t(15,T=H.onDragEnd),"onAddShortcut"in H&&t(16,O=H.onAddShortcut),"getFaviconUrl"in H&&t(17,j=H.getFaviconUrl)},[o,l,r,s,i,a,u,f,g,h,m,b,p,_,C,T,O,j,F,B,A,q,D,W,Z,x,le,de]}class sa extends He{constructor(e){super(),Ne(this,e,ia,la,Re,{group:0,compactHeader:1,titleBackdrop:2,openMenuId:3,draggedBookmark:4,dragOverBookmark:5,onTileMenu:6,onTileEdit:7,onTileRemove:8,onTileFallback:9,onTileContextMenu:10,onDragStart:11,onDragOver:12,onDragLeave:13,onDrop:14,onDragEnd:15,onAddShortcut:16,getFaviconUrl:17})}}function yl(n,e,t){const o=n.slice();return o[19]=e[t],o}function Sl(n,e){let t,o,l;return o=new sa({props:{group:e[19],compactHeader:e[2],titleBackdrop:e[3],openMenuId:e[4],draggedBookmark:e[5],dragOverBookmark:e[6],onTileMenu:e[7],onTileEdit:e[8],onTileRemove:e[9],onTileFallback:e[10],onTileContextMenu:e[11],onDragStart:e[12],onDragOver:e[13],onDragLeave:e[14],onDrop:e[15],onDragEnd:e[16],onAddShortcut:e[17],getFaviconUrl:e[18]}}),{key:n,first:null,c(){t=qe(),Oe(o.$$.fragment),this.first=t},m(r,s){Q(r,t,s),Me(o,r,s),l=!0},p(r,s){e=r;const i={};s&1&&(i.group=e[19]),s&4&&(i.compactHeader=e[2]),s&8&&(i.titleBackdrop=e[3]),s&16&&(i.openMenuId=e[4]),s&32&&(i.draggedBookmark=e[5]),s&64&&(i.dragOverBookmark=e[6]),s&128&&(i.onTileMenu=e[7]),s&256&&(i.onTileEdit=e[8]),s&512&&(i.onTileRemove=e[9]),s&1024&&(i.onTileFallback=e[10]),s&2048&&(i.onTileContextMenu=e[11]),s&4096&&(i.onDragStart=e[12]),s&8192&&(i.onDragOver=e[13]),s&16384&&(i.onDragLeave=e[14]),s&32768&&(i.onDrop=e[15]),s&65536&&(i.onDragEnd=e[16]),s&131072&&(i.onAddShortcut=e[17]),s&262144&&(i.getFaviconUrl=e[18]),o.$set(i)},i(r){l||($(o.$$.fragment,r),l=!0)},o(r){ne(o.$$.fragment,r),l=!1},d(r){r&&V(t),Ae(o,r)}}}function aa(n){let e,t=[],o=new Map,l=`${n[1]}px`,r,s=ye(n[0]);const i=a=>a[19].id;for(let a=0;a<s.length;a+=1){let u=yl(n,s,a),f=i(u);o.set(f,t[a]=Sl(f,u))}return{c(){e=S("div");for(let a=0;a<t.length;a+=1)t[a].c();c(e,"class","folder-grid-list"),c(e,"aria-label","Bookmark folders"),it(e,"max-width",l)},m(a,u){Q(a,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);r=!0},p(a,[u]){u&524285&&(s=ye(a[0]),Ge(),t=et(t,u,i,1,a,s,o,e,Dt,Sl,null,yl),ze()),u&2&&l!==(l=`${a[1]}px`)&&it(e,"max-width",l)},i(a){if(!r){for(let u=0;u<s.length;u+=1)$(t[u]);r=!0}},o(a){for(let u=0;u<t.length;u+=1)ne(t[u]);r=!1},d(a){a&&V(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function ca(n,e,t){let{groups:o=[]}=e,{columnWidth:l=1170}=e,{compactHeader:r=!0}=e,{titleBackdrop:s=!1}=e,{openMenuId:i=null}=e,{draggedBookmark:a=null}=e,{dragOverBookmark:u=null}=e,{onTileMenu:f=()=>{}}=e,{onTileEdit:g=()=>{}}=e,{onTileRemove:h=()=>{}}=e,{onTileFallback:m=()=>{}}=e,{onTileContextMenu:b=()=>{}}=e,{onDragStart:p=()=>{}}=e,{onDragOver:_=()=>{}}=e,{onDragLeave:C=()=>{}}=e,{onDrop:T=()=>{}}=e,{onDragEnd:O=()=>{}}=e,{onAddShortcut:j=()=>{}}=e,{getFaviconUrl:F=async()=>""}=e;return n.$$set=B=>{"groups"in B&&t(0,o=B.groups),"columnWidth"in B&&t(1,l=B.columnWidth),"compactHeader"in B&&t(2,r=B.compactHeader),"titleBackdrop"in B&&t(3,s=B.titleBackdrop),"openMenuId"in B&&t(4,i=B.openMenuId),"draggedBookmark"in B&&t(5,a=B.draggedBookmark),"dragOverBookmark"in B&&t(6,u=B.dragOverBookmark),"onTileMenu"in B&&t(7,f=B.onTileMenu),"onTileEdit"in B&&t(8,g=B.onTileEdit),"onTileRemove"in B&&t(9,h=B.onTileRemove),"onTileFallback"in B&&t(10,m=B.onTileFallback),"onTileContextMenu"in B&&t(11,b=B.onTileContextMenu),"onDragStart"in B&&t(12,p=B.onDragStart),"onDragOver"in B&&t(13,_=B.onDragOver),"onDragLeave"in B&&t(14,C=B.onDragLeave),"onDrop"in B&&t(15,T=B.onDrop),"onDragEnd"in B&&t(16,O=B.onDragEnd),"onAddShortcut"in B&&t(17,j=B.onAddShortcut),"getFaviconUrl"in B&&t(18,F=B.getFaviconUrl)},[o,l,r,s,i,a,u,f,g,h,m,b,p,_,C,T,O,j,F]}class ua extends He{constructor(e){super(),Ne(this,e,ca,aa,Re,{groups:0,columnWidth:1,compactHeader:2,titleBackdrop:3,openMenuId:4,draggedBookmark:5,dragOverBookmark:6,onTileMenu:7,onTileEdit:8,onTileRemove:9,onTileFallback:10,onTileContextMenu:11,onDragStart:12,onDragOver:13,onDragLeave:14,onDrop:15,onDragEnd:16,onAddShortcut:17,getFaviconUrl:18})}}function da(n){let e,t,o,l,r,s,i,a,u,f,g,h,m,b,p,_,C,T,O,j,F,B;return{c(){e=S("dialog"),t=S("form"),o=S("header"),o.innerHTML="<h2>Custom background</h2>",l=R(),r=S("div"),s=S("label"),i=S("span"),i.textContent="Choose an image (JPEG/PNG, up to 10¬†MB)",a=R(),u=S("input"),f=R(),g=S("p"),g.textContent="The selected image is stored locally on this device only.",h=R(),m=S("footer"),b=S("button"),b.textContent="Remove",p=R(),_=S("span"),C=R(),T=S("button"),T.textContent="Cancel",O=R(),j=S("button"),j.textContent="Save",c(u,"type","file"),c(u,"accept","image/png,image/jpeg,image/jpg"),c(s,"class","file-picker"),c(g,"class","hint"),c(r,"class","dialog-body"),c(b,"type","button"),c(b,"id","clear-background"),c(b,"class","ghost-button"),c(_,"class","spacer"),c(T,"type","button"),c(T,"id","cancel-background"),c(j,"type","submit"),c(j,"id","save-background"),c(m,"class","dialog-footer"),c(t,"id","background-form"),c(t,"method","dialog")},m(A,q){Q(A,e,q),k(e,t),k(t,o),k(t,l),k(t,r),k(r,s),k(s,i),k(s,a),k(s,u),n[10](u),k(r,f),k(r,g),k(t,h),k(t,m),k(m,b),k(m,p),k(m,_),k(m,C),k(m,T),k(m,O),k(m,j),n[11](e),F||(B=[X(b,"click",n[3]),X(T,"click",n[4]),X(t,"submit",n[2])],F=!0)},p:oe,i:oe,o:oe,d(A){A&&V(e),n[10](null),n[11](null),F=!1,je(B)}}}function fa(n,e,t){let o=null,l=null,{onSubmit:r=()=>{}}=e,{onClear:s=()=>{}}=e,{onCancel:i=()=>{}}=e;function a(){l&&t(1,l.value="",l),o==null||o.showModal()}function u(){o==null||o.close()}function f(p){var C;p.preventDefault();const _=((C=l==null?void 0:l.files)==null?void 0:C[0])??null;r(_)}function g(p){p.preventDefault(),s()}function h(p){p.preventDefault(),i()}function m(p){lt[p?"unshift":"push"](()=>{l=p,t(1,l)})}function b(p){lt[p?"unshift":"push"](()=>{o=p,t(0,o)})}return n.$$set=p=>{"onSubmit"in p&&t(5,r=p.onSubmit),"onClear"in p&&t(6,s=p.onClear),"onCancel"in p&&t(7,i=p.onCancel)},[o,l,f,g,h,r,s,i,a,u,m,b]}class ha extends He{constructor(e){super(),Ne(this,e,fa,da,Re,{onSubmit:5,onClear:6,onCancel:7,open:8,close:9})}get open(){return this.$$.ctx[8]}get close(){return this.$$.ctx[9]}}function wn(n){try{return new URL(n).href}catch{try{return new URL(`https://${n}`).href}catch{return null}}}function en(n){try{return new URL(n).hostname.replace(/^www\./i,"")}catch{return n}}function Cl(n){return n?n.trim().split(/\s+/)[0].slice(0,2).toUpperCase():"‚Ä¢"}function ga(n,e){let t;return(...o)=>{clearTimeout(t),t=setTimeout(()=>n(...o),e)}}function Il(n){const e=(n||"").trim().toLowerCase();if(!e)return{background:"linear-gradient(145deg, #fde68a, #fbbf24)",text:"rgba(15, 23, 42, 0.85)"};let t=0,o=0,l=0;for(let p=0;p<e.length;p++){const _=e.charCodeAt(p),C=p+1;t+=_*C,o+=_*(C+1.5),l+=_*(C+2.5)}const r=qn(t,360),s=qn(o,36)-18,i=qn(r+24+s,360),a=52+Math.abs(o)%30,u=42+Math.abs(l)%20,f=Math.min(96,a+8),g=Math.min(78,u+12),h=`hsl(${r}, ${a}%, ${u}%)`,m=`hsl(${i}, ${f}%, ${g}%)`,b=u>54?"rgba(30, 41, 59, 0.85)":"rgba(255, 255, 255, 0.88)";return{background:`linear-gradient(140deg, ${h}, ${m})`,text:b}}function qn(n,e){return(n%e+e)%e}function ma(n,e=10*1024*1024){return["image/jpeg","image/png"].includes(n.type)&&n.size<=e}function vl(n=[],e=[]){return n.length!==e.length?!1:n.every((t,o)=>t===e[o])}function jt(n,e){if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function ba(n){return n?URL.createObjectURL(n):""}const ka=[{title:"ESLint",url:"https://eslint.org"},{title:"Prettier",url:"https://prettier.io"},{title:"Parcel",url:"https://parceljs.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"Visual Studio Code",url:"https://code.visualstudio.com"},{title:"npm",url:"https://www.npmjs.com"},{title:"Docker",url:"https://www.docker.com"},{title:"Kubernetes",url:"https://kubernetes.io"},{title:"Postman",url:"https://www.postman.com"},{title:"GitLab",url:"https://gitlab.com"},{title:"Bitbucket",url:"https://bitbucket.org"},{title:"Jest",url:"https://jestjs.io"},{title:"Webpack",url:"https://webpack.js.org"},{title:"Vite",url:"https://vitejs.dev"},{title:"TypeScript",url:"https://www.typescriptlang.org"},{title:"Babel",url:"https://babeljs.io"},{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Svelte",url:"https://svelte.dev"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt",url:"https://nuxt.com"},{title:"Tailwind CSS",url:"https://tailwindcss.com"},{title:"Bootstrap",url:"https://getbootstrap.com"},{title:"Sass",url:"https://sass-lang.com"},{title:"Node.js",url:"https://nodejs.org"},{title:"Deno",url:"https://deno.com"},{title:"Express",url:"https://expressjs.com"},{title:"Fastify",url:"https://www.fastify.io"},{title:"MongoDB",url:"https://www.mongodb.com"},{title:"PostgreSQL",url:"https://www.postgresql.org"},{title:"Redis",url:"https://redis.io"},{title:"MySQL",url:"https://www.mysql.com"},{title:"Vercel",url:"https://vercel.com"},{title:"Netlify",url:"https://www.netlify.com"},{title:"Heroku",url:"https://www.heroku.com"},{title:"AWS",url:"https://aws.amazon.com"},{title:"Firebase",url:"https://firebase.google.com"},{title:"Supabase",url:"https://supabase.com"},{title:"Figma",url:"https://www.figma.com"},{title:"Canva",url:"https://www.canva.com"},{title:"VS Code Extensions",url:"https://marketplace.visualstudio.com"},{title:"Chrome DevTools",url:"https://developer.chrome.com/docs/devtools"},{title:"Can I Use",url:"https://caniuse.com"},{title:"RegExr",url:"https://regexr.com"},{title:"JSON Formatter",url:"https://jsonformatter.org"},{title:"CodePen",url:"https://codepen.io"},{title:"JSFiddle",url:"https://jsfiddle.net"},{title:"Replit",url:"https://replit.com"},{title:"StackBlitz",url:"https://stackblitz.com"},{title:"GraphQL",url:"https://graphql.org"},{title:"Prisma",url:"https://www.prisma.io"},{title:"Cypress",url:"https://www.cypress.io"},{title:"Playwright",url:"https://playwright.dev"},{title:"Testing Library",url:"https://testing-library.com"},{title:"Storybook",url:"https://storybook.js.org"},{title:"Lodash",url:"https://lodash.com"},{title:"Axios",url:"https://axios-http.com"},{title:"Day.js",url:"https://day.js.org"},{title:"Chart.js",url:"https://www.chartjs.org"},{title:"Three.js",url:"https://threejs.org"},{title:"Vitest",url:"https://vitest.dev"},{title:"ESBuild",url:"https://esbuild.github.io"},{title:"Rollup",url:"https://rollupjs.org"},{title:"Gulp",url:"https://gulpjs.com"},{title:"Grunt",url:"https://gruntjs.com"},{title:"Semantic UI",url:"https://semantic-ui.com"},{title:"Material UI",url:"https://mui.com"},{title:"Chakra UI",url:"https://chakra-ui.com"},{title:"Ant Design",url:"https://ant.design"},{title:"Zustand",url:"https://zustand-demo.vercel.app"},{title:"Redux",url:"https://redux.js.org"},{title:"Recoil",url:"https://recoiljs.org"},{title:"Jotai",url:"https://jotai.org"},{title:"SWR",url:"https://swr.vercel.app"},{title:"React Query",url:"https://tanstack.com/query"},{title:"Apollo GraphQL",url:"https://www.apollographql.com"},{title:"Strapi",url:"https://strapi.io"},{title:"Contentful",url:"https://www.contentful.com"},{title:"Sanity",url:"https://www.sanity.io"},{title:"Auth0",url:"https://auth0.com"}],nt={fiction:{classicNovels:[{title:"Project Gutenberg",url:"https://www.gutenberg.org"},{title:"The Literature Network",url:"http://www.online-literature.com"},{title:"Classic Reader",url:"http://www.classicreader.com"},{title:"Read Print",url:"http://www.readprint.com"},{title:"Free Classic Literature",url:"https://www.freeclassicebooks.com"},{title:"Classic Literature Library",url:"https://classiclit.about.com"}],modernFiction:[{title:"Electric Literature",url:"https://electricliterature.com"},{title:"The Paris Review",url:"https://www.theparisreview.org"},{title:"Granta",url:"https://granta.com"},{title:"LitHub",url:"https://lithub.com"},{title:"The Rumpus",url:"https://therumpus.net"},{title:"The Millions",url:"https://themillions.com"}],shortStories:[{title:"Daily Science Fiction",url:"https://dailysciencefiction.com"},{title:"Narrative Magazine",url:"https://www.narrativemagazine.com"},{title:"One Story",url:"https://www.one-story.com"},{title:"Flash Fiction Online",url:"https://flashfictiononline.com"},{title:"Smokelong Quarterly",url:"http://www.smokelong.com"},{title:"Zoetrope All-Story",url:"https://www.all-story.com"}]},nonFiction:{essays:[{title:"The New Yorker Essays",url:"https://www.newyorker.com/culture/personal-history"},{title:"The Atlantic Essays",url:"https://www.theatlantic.com/ideas/"},{title:"Harper's Magazine",url:"https://harpers.org"},{title:"The Believer",url:"https://believermag.com"},{title:"n+1 Magazine",url:"https://www.nplusonemag.com"},{title:"Aeon Essays",url:"https://aeon.co/essays"}],biography:[{title:"Biography.com",url:"https://www.biography.com"},{title:"Famous People",url:"https://www.thefamouspeople.com"},{title:"Britannica Biographies",url:"https://www.britannica.com/biography"},{title:"Stanford Encyclopedia",url:"https://plato.stanford.edu"},{title:"Internet Biography",url:"https://www.notablebiographies.com"},{title:"Lives of the Great",url:"https://www.famousscientists.org"}],history:[{title:"History.com",url:"https://www.history.com"},{title:"Smithsonian Magazine",url:"https://www.smithsonianmag.com/history/"},{title:"History Today",url:"https://www.historytoday.com"},{title:"BBC History",url:"https://www.bbc.co.uk/history"},{title:"American Historical",url:"https://www.historians.org"},{title:"Ancient History",url:"https://www.ancient.eu"}]},poetry:{classicPoetry:[{title:"Poetry Foundation",url:"https://www.poetryfoundation.org"},{title:"Poets.org",url:"https://poets.org"},{title:"Poetry Archive",url:"https://www.poetryarchive.org"},{title:"Famous Poets",url:"https://www.famouspoetsandpoems.com"},{title:"All Poetry",url:"https://allpoetry.com"},{title:"Classic Poetry Aloud",url:"https://www.poetryoutloud.org"}],contemporaryPoetry:[{title:"Poetry Magazine",url:"https://www.poetrymagazine.org"},{title:"The Adroit Journal",url:"https://theadroitjournal.org"},{title:"Rattle",url:"https://www.rattle.com"},{title:"Poem-a-Day",url:"https://www.poets.org/poetsorg/poem-day"},{title:"Button Poetry",url:"https://buttonpoetry.com"},{title:"Split This Rock",url:"https://www.splitthisrock.org"}],spokenWord:[{title:"TED Poetry",url:"https://www.ted.com/topics/poetry"},{title:"Poetry Slam Inc",url:"https://www.poetryslam.com"},{title:"Def Poetry",url:"https://www.hbo.com/def-poetry"},{title:"Write About Now",url:"https://www.writeaboutnow.com"},{title:"Brave New Voices",url:"https://youthspeaks.org"},{title:"Individual World",url:"https://www.iwps.org"}]},academic:{literaryCriticism:[{title:"JSTOR",url:"https://www.jstor.org"},{title:"Project MUSE",url:"https://muse.jhu.edu"},{title:"Oxford Academic",url:"https://academic.oup.com"},{title:"Cambridge Core",url:"https://www.cambridge.org/core"},{title:"Taylor & Francis",url:"https://www.tandfonline.com"},{title:"SAGE Journals",url:"https://journals.sagepub.com"}],literaryTheory:[{title:"Critical Theory",url:"https://criticalthoery.web.unc.edu"},{title:"Theory.org",url:"https://www.theory.org.uk"},{title:"Yale Theory",url:"https://theory.yale.edu"},{title:"Johns Hopkins Guide",url:"https://litguide.press.jhu.edu"},{title:"Internet Encyclopedia",url:"https://iep.utm.edu"},{title:"Stanford Literary Lab",url:"https://litlab.stanford.edu"}],journals:[{title:"PMLA",url:"https://www.mla.org/Publications/Journals/PMLA"},{title:"New Literary History",url:"https://muse.jhu.edu/journal/96"},{title:"Modern Fiction Studies",url:"https://muse.jhu.edu/journal/122"},{title:"Contemporary Literature",url:"https://muse.jhu.edu/journal/92"},{title:"Modernism/modernity",url:"https://muse.jhu.edu/journal/186"},{title:"American Literature",url:"https://read.dukeupress.edu/american-literature"}]}};function pa(){console.info("Bookmark Dial: using mock Chrome APIs for development");let n="mock-folder",e=1;const t={onCreated:new Set,onChanged:new Set,onMoved:new Set,onRemoved:new Set,onImportBegan:new Set,onImportEnded:new Set},o=new Set,l=new Map,r=new Map([["speedDialFolderId",n],[Nt,{version:zt,theme:me.theme,accent:me.accent,titleBackdrop:me.titleBackdrop,mergeAllBookmarks:me.mergeAllBookmarks,background:{...me.background},folderSelection:{selectedIds:[n],expandedIds:[]}}]]),s=new Map;function i(I,...E){const G=t[I];G&&G.forEach(K=>{try{K(...E)}catch(te){console.error(`Mock chrome ${I} handler failed`,te)}})}function a(I,E){!E||Object.keys(E).length===0||o.forEach(G=>{try{G(E,I)}catch(K){console.error("Mock chrome storage listener failed",K)}})}function u(I){return I===void 0?void 0:JSON.parse(JSON.stringify(I))}function f(I,E){if(Array.isArray(E)){const G={};return E.forEach(K=>G[K]=I.get(K)),G}if(typeof E=="object"&&E!==null){const G={...E};for(const K of Object.keys(E))I.has(K)&&(G[K]=I.get(K));return G}return{[E]:I.get(E)}}function g(I,E,G){const K={};Object.entries(G||{}).forEach(([te,re])=>{const pe=I.get(te);I.set(te,re),K[te]={oldValue:u(pe),newValue:u(re)}}),a(E,K)}function h(I,E,G){const K=Array.isArray(G)?G:[G],te={};K.forEach(re=>{if(!I.has(re))return;const pe=I.get(re);I.delete(re),te[re]={oldValue:u(pe),newValue:void 0}}),a(E,te)}function m(I){I!=null&&I.children&&(I.children.forEach((E,G)=>{E.index=G}),I.hasChildren=I.children.some(E=>!E.url))}function b(I,E,G){const K=s.get(I);if(!K)throw new Error(`Parent ${I} not found`);Array.isArray(K.children)||(K.children=[]);const te=typeof G=="number"?Math.max(0,Math.min(G,K.children.length)):K.children.length;K.children.splice(te,0,E),E.parentId=I,m(K)}function p(I,E){const G=s.get(I);if(!(G!=null&&G.children))return;const K=G.children.findIndex(te=>te.id===E);K!==-1&&(G.children.splice(K,1),m(G))}function _({id:I,parentId:E=null,title:G="Untitled folder",index:K}){const te=I??`mock-folder-${e++}`,re={id:te,parentId:E,title:G,index:typeof K=="number"?K:0,children:[]};return s.set(te,re),E&&b(E,re,K),re}function C({id:I,parentId:E,title:G,url:K,index:te}){if(!E)throw new Error("Bookmarks require a parent folder");const re=I??`mock-bookmark-${e++}`,pe={id:re,parentId:E,title:G??K??"Untitled",url:K,index:typeof te=="number"?te:0};return s.set(re,pe),b(E,pe,te),pe}function T(I,E=!1){if(!I)return null;const G={id:I.id,parentId:I.parentId??void 0,title:I.title,index:I.index};return I.url&&(G.url=I.url),E&&Array.isArray(I.children)&&(G.children=I.children.map(K=>T(K,!0))),G}function O(I){I&&(Array.isArray(I.children)&&[...I.children].forEach(E=>O(E)),s.delete(I.id))}const j=_({id:"0",parentId:null,title:""}),F=_({id:"1",parentId:j.id,title:"Bookmarks Bar"});_({id:"2",parentId:j.id,title:"Other Bookmarks"}),_({id:"3",parentId:j.id,title:"Mobile Bookmarks"});const B=_({id:"1-reading",parentId:"1",title:"Reading List"}),A=_({id:"2-inspiration",parentId:"2",title:"Inspiration"});function q(I){[{title:"Svelte",url:"https://svelte.dev"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"Vite",url:"https://vitejs.dev"}].forEach((K,te)=>{C({parentId:I,title:K.title,url:K.url,index:te})});const G=_({id:`${I}-frameworks`,parentId:I,title:"Frameworks"});[{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Ember.js",url:"https://emberjs.com"},{title:"Lit",url:"https://lit.dev"},{title:"Solid",url:"https://www.solidjs.com"},{title:"Alpine.js",url:"https://alpinejs.dev"},{title:"Preact",url:"https://preact.dev"},{title:"Backbone.js",url:"https://backbonejs.org"},{title:"jQuery",url:"https://jquery.com"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt.js",url:"https://nuxt.com"}].forEach((K,te)=>{C({parentId:G.id,title:K.title,url:K.url,index:te})})}_({id:n,parentId:F.id,title:"Bookmark Dial"}),q(n);const D=_({id:"bookmarks-bar-tooling",parentId:F.id,title:"Developer Tools"});ka.forEach((I,E)=>{C({parentId:D.id,title:I.title,url:I.url,index:E})});const W=_({id:"reading-fiction",parentId:B.id,title:"Fiction"}),Z=_({id:"reading-fiction-classic",parentId:W.id,title:"Classic Novels"});nt.fiction.classicNovels.forEach((I,E)=>{C({parentId:Z.id,title:I.title,url:I.url,index:E})});const x=_({id:"reading-fiction-modern",parentId:W.id,title:"Modern Fiction"});nt.fiction.modernFiction.forEach((I,E)=>{C({parentId:x.id,title:I.title,url:I.url,index:E})});const le=_({id:"reading-fiction-short",parentId:W.id,title:"Short Stories"});nt.fiction.shortStories.forEach((I,E)=>{C({parentId:le.id,title:I.title,url:I.url,index:E})});const de=_({id:"reading-nonfiction",parentId:B.id,title:"Non-Fiction"}),H=_({id:"reading-nonfiction-essays",parentId:de.id,title:"Essays"});nt.nonFiction.essays.forEach((I,E)=>{C({parentId:H.id,title:I.title,url:I.url,index:E})});const se=_({id:"reading-nonfiction-bio",parentId:de.id,title:"Biography"});nt.nonFiction.biography.forEach((I,E)=>{C({parentId:se.id,title:I.title,url:I.url,index:E})});const U=_({id:"reading-nonfiction-history",parentId:de.id,title:"History"});nt.nonFiction.history.forEach((I,E)=>{C({parentId:U.id,title:I.title,url:I.url,index:E})});const ee=_({id:"reading-poetry",parentId:B.id,title:"Poetry"}),ie=_({id:"reading-poetry-classic",parentId:ee.id,title:"Classic Poetry"});nt.poetry.classicPoetry.forEach((I,E)=>{C({parentId:ie.id,title:I.title,url:I.url,index:E})});const ge=_({id:"reading-poetry-contemporary",parentId:ee.id,title:"Contemporary Poetry"});nt.poetry.contemporaryPoetry.forEach((I,E)=>{C({parentId:ge.id,title:I.title,url:I.url,index:E})});const N=_({id:"reading-poetry-spoken",parentId:ee.id,title:"Spoken Word"});nt.poetry.spokenWord.forEach((I,E)=>{C({parentId:N.id,title:I.title,url:I.url,index:E})});const fe=_({id:"reading-academic",parentId:B.id,title:"Academic"}),v=_({id:"reading-academic-criticism",parentId:fe.id,title:"Literary Criticism"});nt.academic.literaryCriticism.forEach((I,E)=>{C({parentId:v.id,title:I.title,url:I.url,index:E})});const J=_({id:"reading-academic-theory",parentId:fe.id,title:"Literary Theory"});nt.academic.literaryTheory.forEach((I,E)=>{C({parentId:J.id,title:I.title,url:I.url,index:E})});const Te=_({id:"reading-academic-journals",parentId:fe.id,title:"Academic Journals"});nt.academic.journals.forEach((I,E)=>{C({parentId:Te.id,title:I.title,url:I.url,index:E})}),[{title:"Muz.li",url:"https://muz.li"},{title:"Awwwards",url:"https://www.awwwards.com"},{title:"Dribbble",url:"https://dribbble.com"}].forEach((I,E)=>{C({parentId:A.id,title:I.title,url:I.url,index:E})});function ue(I){const E=t[I];return{addListener:G=>E.add(G),removeListener:G=>E.delete(G)}}return{runtime:{sendMessage:async I=>{if((I==null?void 0:I.type)==="getFolderId")return{folderId:n};if((I==null?void 0:I.type)==="resetFolderCache"){const E=`mock-folder-${Date.now().toString(36)}`,G=s.get(n);if(G){const te=G.parentId;te&&p(te,G.id),O(G)}n=E;const K=_({id:n,parentId:"1",title:"Bookmark Dial"});return q(K.id),g(r,"sync",{speedDialFolderId:n,[Nt]:{version:zt,theme:me.theme,accent:me.accent,titleBackdrop:me.titleBackdrop,mergeAllBookmarks:me.mergeAllBookmarks,background:{...me.background},folderSelection:{selectedIds:[n],expandedIds:[]}}}),{folderId:n}}return{}}},bookmarks:{onCreated:ue("onCreated"),onChanged:ue("onChanged"),onMoved:ue("onMoved"),onRemoved:ue("onRemoved"),onImportBegan:ue("onImportBegan"),onImportEnded:ue("onImportEnded"),async getTree(){return[T(s.get("0"),!0)]},async getChildren(I){const E=s.get(I);return E!=null&&E.children?E.children.map(G=>T(G,!1)):[]},async getSubTree(I){const E=s.get(I);return E?[T(E,!0)]:[]},async search(I){const E=String((I==null?void 0:I.query)??"").trim().toLowerCase();return E?Array.from(s.values()).filter(G=>!G.url&&(G.title||"").toLowerCase().includes(E)).map(G=>T(G,!1)):[]},async create({parentId:I,title:E,url:G}){const K=G?C({parentId:I,title:E,url:G}):_({parentId:I,title:E});return i("onCreated",K.id,T(K,!0)),T(K,!0)},async update(I,E={}){const G=s.get(I);if(!G)throw new Error("Bookmark not found");const K={};return typeof E.title=="string"&&(G.title=E.title,K.title=E.title),typeof E.url=="string"&&(G.url=E.url,K.url=E.url),i("onChanged",I,K),T(G,!1)},async remove(I){const E=s.get(I);if(!E)throw new Error("Bookmark not found");const G=T(E,!0);E.parentId&&p(E.parentId,I),O(E),i("onRemoved",I,{parentId:G.parentId??null,node:G})},async move(I,{parentId:E,index:G}){const K=s.get(I);if(!K)throw new Error("Bookmark not found");const te=K.parentId??null;return te&&p(te,I),b(E,K,G),i("onMoved",I,{parentId:E,oldParentId:te,index:G}),T(K,!1)},async get(I){const E=s.get(I);return E?[T(E,!1)]:[]}},storage:{local:{async get(I){return f(l,I)},async set(I){g(l,"local",I)},async remove(I){h(l,"local",I)}},sync:{async get(I){return f(r,I)},async set(I){g(r,"sync",I)},async remove(I){h(r,"sync",I)}},onChanged:{addListener(I){o.add(I)},removeListener(I){o.delete(I)}}},topSites:{async get(){return[{title:"Google",url:"https://www.google.com"},{title:"YouTube",url:"https://www.youtube.com"},{title:"Facebook",url:"https://www.facebook.com"},{title:"Twitter",url:"https://twitter.com"},{title:"Reddit",url:"https://www.reddit.com"},{title:"Wikipedia",url:"https://www.wikipedia.org"},{title:"Amazon",url:"https://www.amazon.com"},{title:"Netflix",url:"https://www.netflix.com"}]}}}}function _a(n,e,t){const o=n.slice();return o[193]=e[t],o[195]=t,o}function Bl(n){let e,t;return e=new ps({props:{visible:n[35],query:n[9],onSearchChange:n[76],onClose:n[77]}}),{c(){Oe(e.$$.fragment)},m(o,l){Me(e,o,l),t=!0},p(o,l){const r={};l[1]&16&&(r.visible=o[35]),l[0]&512&&(r.query=o[9]),e.$set(r)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){ne(e.$$.fragment,o),t=!1},d(o){Ae(e,o)}}}function wa(n){let e,t,o,l,r,s,i,a;const u=[Ca,Sa],f=[];function g(h,m){return h[5].mergeAllBookmarks?0:1}return r=g(n),s=f[r]=u[r](n),{c(){e=S("section"),t=ke(n[13]),l=R(),s.c(),i=qe(),c(e,"id","status"),c(e,"role","status"),c(e,"aria-live","polite"),c(e,"data-tone",o=n[13]?n[14]:null)},m(h,m){Q(h,e,m),k(e,t),Q(h,l,m),f[r].m(h,m),Q(h,i,m),a=!0},p(h,m){(!a||m[0]&8192)&&De(t,h[13]),(!a||m[0]&24576&&o!==(o=h[13]?h[14]:null))&&c(e,"data-tone",o);let b=r;r=g(h),r===b?f[r].p(h,m):(Ge(),ne(f[b],1,1,()=>{f[b]=null}),ze(),s=f[r],s?s.p(h,m):(s=f[r]=u[r](h),s.c()),$(s,1),s.m(i.parentNode,i))},i(h){a||($(s),a=!0)},o(h){ne(s),a=!1},d(h){h&&(V(e),V(l),V(i)),f[r].d(h)}}}function ya(n){let e,t=ye(Array(5)),o=[];for(let l=0;l<t.length;l+=1)o[l]=Ia(_a(n,t,l));return{c(){e=S("div");for(let l=0;l<o.length;l+=1)o[l].c();c(e,"class","grid skeleton-grid"),c(e,"aria-hidden","true")},m(l,r){Q(l,e,r);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(e,null)},p:oe,i:oe,o:oe,d(l){l&&V(e),ki(o,l)}}}function Sa(n){let e,t;return e=new ua({props:{groups:n[38],columnWidth:n[5].folderColumnWidth,compactHeader:n[5].compactFolderHeader,titleBackdrop:n[5].titleBackdrop,openMenuId:n[26],draggedBookmark:n[36],dragOverBookmark:n[37],onTileMenu:n[66],onTileEdit:n[88],onTileRemove:n[89],onTileFallback:n[65],onTileContextMenu:n[70],onDragStart:n[80],onDragOver:n[81],onDragLeave:n[82],onDrop:n[83],onDragEnd:n[84],onAddShortcut:n[85],getFaviconUrl:n[64]}}),{c(){Oe(e.$$.fragment)},m(o,l){Me(e,o,l),t=!0},p(o,l){const r={};l[1]&128&&(r.groups=o[38]),l[0]&32&&(r.columnWidth=o[5].folderColumnWidth),l[0]&32&&(r.compactHeader=o[5].compactFolderHeader),l[0]&32&&(r.titleBackdrop=o[5].titleBackdrop),l[0]&67108864&&(r.openMenuId=o[26]),l[1]&32&&(r.draggedBookmark=o[36]),l[1]&64&&(r.dragOverBookmark=o[37]),e.$set(r)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){ne(e.$$.fragment,o),t=!1},d(o){Ae(e,o)}}}function Ca(n){let e,t;return e=new $s({props:{bookmarks:n[12],topSites:n[10],showTopSites:n[5].enableTopSites,titleBackdrop:n[5].titleBackdrop,focusedIndex:n[11],openMenuId:n[26],draggedBookmark:n[36],dragOverBookmark:n[37],onTileMenu:n[66],onTileEdit:n[88],onTileRemove:n[89],onTileFallback:n[65],onTileContextMenu:n[70],onTileFocus:n[78],onDragStart:n[80],onDragOver:n[81],onDragLeave:n[82],onDrop:n[83],onDragEnd:n[84],onAddShortcut:n[85],getFaviconUrl:n[64]}}),e.$on("gridmount",n[79]),{c(){Oe(e.$$.fragment)},m(o,l){Me(e,o,l),t=!0},p(o,l){const r={};l[0]&4096&&(r.bookmarks=o[12]),l[0]&1024&&(r.topSites=o[10]),l[0]&32&&(r.showTopSites=o[5].enableTopSites),l[0]&32&&(r.titleBackdrop=o[5].titleBackdrop),l[0]&2048&&(r.focusedIndex=o[11]),l[0]&67108864&&(r.openMenuId=o[26]),l[1]&32&&(r.draggedBookmark=o[36]),l[1]&64&&(r.dragOverBookmark=o[37]),e.$set(r)},i(o){t||($(e.$$.fragment,o),t=!0)},o(o){ne(e.$$.fragment,o),t=!1},d(o){Ae(e,o)}}}function Ia(n){let e;return{c(){e=S("div"),e.innerHTML='<div class="skeleton-icon"></div> <div class="skeleton-title"></div> ',c(e,"class","tile skeleton-tile")},m(t,o){Q(t,e,o)},p:oe,d(t){t&&V(e)}}}function va(n){var fe;let e,t,o,l,r,s,i,a,u,f,g,h,m,b,p,_,C,T,O,j,F,B,A,q,D,W,Z,x,le,de,H,se;u=new Hs({props:{open:n[6],settings:n[5],folderSummary:n[4],visibleAccentOptions:n[39],visibleGradientOptions:n[40],showAllAccents:n[8],showAllGradients:n[7],onClose:n[44],onThemeChange:n[46],onAccentChange:n[47],onTitleBackdropChange:n[48],onGradientSelect:n[54],onCustomBackgroundClick:n[55],onMergeAllChange:n[49],onFolderColumnWidthChange:n[50],onCompactHeaderChange:n[51],onSearchToggle:n[52],onTopSitesToggle:n[53],onToggleAccents:n[42],onToggleGradients:n[43],onOpenFolderModal:n[60]}});let U=n[5].enableBookmarkSearch&&Bl(n);const ee=[ya,wa],ie=[];function ge(v,J){return v[15]?0:1}_=ge(n),C=ie[_]=ee[_](n),O=new xi({props:{open:n[1],rootIds:n[41].rootIds??[],expandedIds:n[25],loadingIds:n[16],visibleIds:n[20],searchQuery:n[19],searchMatches:n[3],selectedIds:n[1]&&n[22]?n[22]:n[0],summary:n[1]?n[23]:n[4],selectedFolderCount:n[1]?((fe=n[22])==null?void 0:fe.size)??0:n[0].size,totalBookmarkCount:n[1]?n[24]:n[21],toggleSelection:n[56],toggleExpansion:n[57],getCheckboxState:n[62],onSearchChange:n[63],onRequestClose:n[61],onConfirmSelection:n[59],onClearSelection:n[58]}}),F=new ts({props:{open:n[2],folders:n[17],defaultFolderId:n[18],onConfirm:n[86],onClose:n[87]}}),A=new fs({props:{open:n[31],onDismiss:n[69],onGetStarted:n[69]}}),D=new ms({props:{bookmark:n[34],position:n[33],visible:n[32]}}),D.$on("edit",n[74]),D.$on("remove",n[75]),D.$on("opennewtab",n[72]),D.$on("copyurl",n[73]),D.$on("close",n[71]),Z=new cs({props:{toasts:n[30],onDismiss:n[67],onUndo:n[68]}});let N={onSubmit:n[90],onClear:n[91],onCancel:n[92]};return le=new ha({props:N}),n[109](le),{c(){e=S("div"),t=R(),o=S("div"),l=S("button"),r=ot("svg"),s=ot("path"),i=ot("path"),a=R(),Oe(u.$$.fragment),f=R(),g=S("div"),m=R(),b=S("main"),U&&U.c(),p=R(),C.c(),T=R(),Oe(O.$$.fragment),j=R(),Oe(F.$$.fragment),B=R(),Oe(A.$$.fragment),q=R(),Oe(D.$$.fragment),W=R(),Oe(Z.$$.fragment),x=R(),Oe(le.$$.fragment),c(e,"id","background-layer"),ve(e,"visible",n[5].background.mode==="custom"&&!!n[27]),it(e,"background-image",n[5].background.mode==="custom"&&n[27]?`url(${n[27]})`:null),c(s,"d","M12 8.75a3.25 3.25 0 1 1 0 6.5 3.25 3.25 0 0 1 0-6.5Z"),c(s,"fill","none"),c(s,"stroke","currentColor"),c(s,"stroke-width","1.6"),c(i,"d","M21 12l-2.938 3.5-1.562 4.294L12 19l-4.5.794L5.938 15.5 3 12l2.938-3.5L7.5 4.206 12 5l4.5-.794L18.062 8.5 21 12Z"),c(i,"fill","none"),c(i,"stroke","currentColor"),c(i,"stroke-width","1.6"),c(i,"stroke-linecap","round"),c(i,"stroke-linejoin","round"),c(r,"class","icon-button__glyph"),c(r,"viewBox","0 0 24 24"),c(r,"aria-hidden","true"),c(r,"focusable","false"),c(r,"role","img"),c(l,"class","icon-button"),c(l,"type","button"),c(l,"title","Settings"),c(l,"aria-label","Open settings"),c(l,"aria-expanded",n[6]),c(l,"aria-controls","settings-drawer"),c(g,"class","settings-overlay"),c(g,"aria-hidden",h=!n[6]),ve(g,"visible",n[6]),c(o,"class","page")},m(v,J){Q(v,e,J),Q(v,t,J),Q(v,o,J),k(o,l),k(l,r),k(r,s),k(r,i),n[108](l),k(o,a),Me(u,o,null),k(o,f),k(o,g),k(o,m),k(o,b),U&&U.m(b,null),k(b,p),ie[_].m(b,null),k(o,T),Me(O,o,null),k(o,j),Me(F,o,null),k(o,B),Me(A,o,null),k(o,q),Me(D,o,null),k(o,W),Me(Z,o,null),Q(v,x,J),Me(le,v,J),de=!0,H||(se=[X(l,"click",n[45]),X(g,"pointerdown",n[44])],H=!0)},p(v,J){var pe;(!de||J[0]&134217760)&&ve(e,"visible",v[5].background.mode==="custom"&&!!v[27]),J[0]&134217760&&it(e,"background-image",v[5].background.mode==="custom"&&v[27]?`url(${v[27]})`:null),(!de||J[0]&64)&&c(l,"aria-expanded",v[6]);const Te={};J[0]&64&&(Te.open=v[6]),J[0]&32&&(Te.settings=v[5]),J[0]&16&&(Te.folderSummary=v[4]),J[1]&256&&(Te.visibleAccentOptions=v[39]),J[1]&512&&(Te.visibleGradientOptions=v[40]),J[0]&256&&(Te.showAllAccents=v[8]),J[0]&128&&(Te.showAllGradients=v[7]),u.$set(Te),(!de||J[0]&64&&h!==(h=!v[6]))&&c(g,"aria-hidden",h),(!de||J[0]&64)&&ve(g,"visible",v[6]),v[5].enableBookmarkSearch?U?(U.p(v,J),J[0]&32&&$(U,1)):(U=Bl(v),U.c(),$(U,1),U.m(b,p)):U&&(Ge(),ne(U,1,1,()=>{U=null}),ze());let ue=_;_=ge(v),_===ue?ie[_].p(v,J):(Ge(),ne(ie[ue],1,1,()=>{ie[ue]=null}),ze(),C=ie[_],C?C.p(v,J):(C=ie[_]=ee[_](v),C.c()),$(C,1),C.m(b,null));const I={};J[0]&2&&(I.open=v[1]),J[1]&1024&&(I.rootIds=v[41].rootIds??[]),J[0]&33554432&&(I.expandedIds=v[25]),J[0]&65536&&(I.loadingIds=v[16]),J[0]&1048576&&(I.visibleIds=v[20]),J[0]&524288&&(I.searchQuery=v[19]),J[0]&8&&(I.searchMatches=v[3]),J[0]&4194307&&(I.selectedIds=v[1]&&v[22]?v[22]:v[0]),J[0]&8388626&&(I.summary=v[1]?v[23]:v[4]),J[0]&4194307&&(I.selectedFolderCount=v[1]?((pe=v[22])==null?void 0:pe.size)??0:v[0].size),J[0]&18874370&&(I.totalBookmarkCount=v[1]?v[24]:v[21]),O.$set(I);const E={};J[0]&4&&(E.open=v[2]),J[0]&131072&&(E.folders=v[17]),J[0]&262144&&(E.defaultFolderId=v[18]),F.$set(E);const G={};J[1]&1&&(G.open=v[31]),A.$set(G);const K={};J[1]&8&&(K.bookmark=v[34]),J[1]&4&&(K.position=v[33]),J[1]&2&&(K.visible=v[32]),D.$set(K);const te={};J[0]&1073741824&&(te.toasts=v[30]),Z.$set(te);const re={};le.$set(re)},i(v){de||($(u.$$.fragment,v),$(U),$(C),$(O.$$.fragment,v),$(F.$$.fragment,v),$(A.$$.fragment,v),$(D.$$.fragment,v),$(Z.$$.fragment,v),$(le.$$.fragment,v),de=!0)},o(v){ne(u.$$.fragment,v),ne(U),ne(C),ne(O.$$.fragment,v),ne(F.$$.fragment,v),ne(A.$$.fragment,v),ne(D.$$.fragment,v),ne(Z.$$.fragment,v),ne(le.$$.fragment,v),de=!1},d(v){v&&(V(e),V(t),V(o),V(x)),n[108](null),Ae(u),U&&U.d(),ie[_].d(),Ae(O),Ae(F),Ae(A),Ae(D),Ae(Z),n[109](null),Ae(le,v),H=!1,je(se)}}}function Ba(n={}){const e=Array.isArray(n.selectedIds)?n.selectedIds.filter(Boolean):[],t=Array.isArray(n.expandedIds)?n.expandedIds.filter(Boolean):[];return{selectedIds:Array.from(new Set(e)),expandedIds:Array.from(new Set(t))}}function Tl(n,e){const t=[...n];if(!e)return t;const o=t.findIndex(r=>r.id===e);if(o<=0)return t;const[l]=t.splice(o,1);return[l,...t]}function Xn(n,e,t=[],o=!0){const l=n.nodesById[e];return!l||!l.isFolder||(l.childrenIds??[]).forEach(s=>{const i=n.nodesById[s];i&&(i.url?t.push(i):o&&Xn(n,s,t,!0))}),t}function Fl(n=[],e){let t=!1;return{next:n.map(l=>l.id!==e||l.fallback?l:(t=!0,{...l,fallback:!0})),changed:t}}function Ta(n,e,t){var wo,yo,So,Co;let o,l,r,s,i,a,u;Ml(n,ql,d=>t(41,u=d));const f=typeof chrome<"u"?chrome:null,g=(wo=f==null?void 0:f.runtime)!=null&&wo.id?f:pa(),h=!!((yo=f==null?void 0:f.runtime)!=null&&yo.id),m=!!((So=f==null?void 0:f.storage)!=null&&So.local)&&h,b=!!((Co=f==null?void 0:f.storage)!=null&&Co.sync)&&h;let p="",_="info",C=!0,T=[],O=[],j=new Set,F=null,B=new Set,A=new Set,q=new Set,D=!1,W=!1,Z=!1,x=null,le=[],de=null,H="",se=new Set,U=null,ee=[],ie=new Map,ge=0,N=null,fe=null,v=[],J=new Map,Te=0,ue=!1,I=new Set,E=0,G=0,K=null,te="",re,pe,L=En(),Se=!1,$e=!0,We=!1,Be=!1,Fe=!1,we=!1,Je=[...yt],Ve=[...Tt],ct=[],sn=0,Le=!1,Ee=!1,_e={x:0,y:0},Ue=null,Ke="",Qe=!1,ht=[],Ct=!1,Ie=-1,It=null,an=4,vt=null,gt=null,cn=null,Bt=null,oo="",lo="",Fn=[],ro=new Map,Et=null,Dn=null,ut=null,rt=null;const Mt=[];Rl(()=>{var d,w;if((async()=>{try{await gr()}catch(y){console.error("Bookmark Dial: failed to load settings",y),t(5,L=En()),t(101,Be=m),un(L.theme),dn(L.accent),fn(L.background.gradientId)}try{await ii()}catch(y){console.error("Bookmark Dial: failed to load background",y)}t(99,$e=!1),await Pr(),mr()})(),typeof window<"u"){const y=M=>{const z=M.target;if(!(z instanceof HTMLInputElement||z instanceof HTMLTextAreaElement)){if(Ee&&M.key==="Escape"){pt(),M.stopPropagation();return}if(M.key==="Escape"){if(Ie>=0){t(11,Ie=-1),M.stopPropagation();return}if(K!==null){t(26,K=null),M.stopPropagation();return}if(Qe){go(),M.stopPropagation();return}Se&&Ln();return}if(M.key==="/"&&L.enableBookmarkSearch&&!M.ctrlKey&&!M.metaKey){M.preventDefault(),t(35,Qe=!0);return}L.mergeAllBookmarks&&!Se&&!Qe&&!Le&&qr(M)}},P=M=>{if(Ee){const Y=M.target;Y instanceof Element&&!Y.closest(".context-menu")&&pt()}if(K===null)return;const z=M.target;z instanceof Element&&z.closest(".tile-actions")||t(26,K=null)};window.addEventListener("keydown",y),window.addEventListener("pointerdown",P),Mt.push(()=>window.removeEventListener("keydown",y)),Mt.push(()=>window.removeEventListener("pointerdown",P))}if((w=(d=g==null?void 0:g.storage)==null?void 0:d.onChanged)!=null&&w.addListener){const y=(P,M)=>{if(M!=="sync"&&M!=="local")return;const Y=P[M==="sync"?Nt:$t];!Y||!Y.newValue||Er(Y.newValue)};g.storage.onChanged.addListener(y),Mt.push(()=>g.storage.onChanged.removeListener(y))}return()=>{Et&&clearTimeout(Et),vt&&(vt.disconnect(),vt=null),Bt&&(Bt.abort(),Bt=null),rt&&(URL.revokeObjectURL(rt),rt=null),typeof document<"u"&&document.body.classList.remove("settings-open"),Mt.forEach(y=>y==null?void 0:y())}});function En(){return{theme:me.theme,accent:me.accent,background:{...me.background},titleBackdrop:me.titleBackdrop,mergeAllBookmarks:me.mergeAllBookmarks,folderColumnWidth:me.folderColumnWidth,compactFolderHeader:me.compactFolderHeader,enableBookmarkSearch:me.enableBookmarkSearch,enableTopSites:me.enableTopSites,lastShortcutFolderId:me.lastShortcutFolderId}}function Mn(d){return Yl.some(w=>w.id===d)?d:me.theme}function An(d){return yt.some(w=>w.id===d)?d:me.accent}function io(d){return Tt.some(w=>w.id===d)?d:me.background.gradientId}function so(d={}){var mn,Lt,Jt,Io;const w=Mn(d.theme),y=An(d.accent),P=d.background??{},M=P.mode==="custom"?"custom":"gradient",z=io(P.gradientId),Y=typeof d.titleBackdrop=="boolean",be=Y?d.titleBackdrop:me.titleBackdrop,Xe=typeof d.mergeAllBookmarks=="boolean"||typeof d.groupFoldersTogether=="boolean",he=Xe?d.mergeAllBookmarks??d.groupFoldersTogether:me.mergeAllBookmarks,ae=typeof d.folderColumnWidth=="number"?d.folderColumnWidth:me.folderColumnWidth,ce=typeof d.compactFolderHeader=="boolean"?d.compactFolderHeader:me.compactFolderHeader,Ce=typeof d.enableBookmarkSearch=="boolean"?d.enableBookmarkSearch:me.enableBookmarkSearch,tt=typeof d.enableTopSites=="boolean"?d.enableTopSites:me.enableTopSites,Ye=d.lastShortcutFolderId??me.lastShortcutFolderId,Yt=Ba(d.folderSelection),Rn=!vl(Yt.selectedIds,((mn=d.folderSelection)==null?void 0:mn.selectedIds)??[])||!vl(Yt.expandedIds,((Lt=d.folderSelection)==null?void 0:Lt.expandedIds)??[]),Ze=w!==d.theme||y!==d.accent||M!==(((Jt=d.background)==null?void 0:Jt.mode)??me.background.mode)||z!==(((Io=d.background)==null?void 0:Io.gradientId)??me.background.gradientId)||!Y||!Xe||ae!==d.folderColumnWidth||ce!==d.compactFolderHeader||Ce!==d.enableBookmarkSearch||tt!==d.enableTopSites||Ye!==d.lastShortcutFolderId;return{settings:{theme:w,accent:y,background:{mode:M,gradientId:z},titleBackdrop:be,mergeAllBookmarks:he,folderColumnWidth:ae,compactFolderHeader:ce,enableBookmarkSearch:Ce,enableTopSites:tt,lastShortcutFolderId:Ye},folderSelection:Yt,changed:Ze||Rn||(d.version??zt)!==zt}}function Jl(d){return yt.find(w=>w.id===d)??yt[0]}function ao(d){return Tt.find(w=>w.id===d)??Tt[0]}function Xl(){t(102,Je=Tl(yt,L==null?void 0:L.accent)),t(8,we=!1)}function Zl(){t(8,we=!0)}function xl(){we?Xl():Zl()}function $l(){var d,w;t(103,Ve=Tl(Tt,((d=L==null?void 0:L.background)==null?void 0:d.mode)==="gradient"?(w=L==null?void 0:L.background)==null?void 0:w.gradientId:null)),t(7,Fe=!1)}function er(){t(7,Fe=!0)}function tr(){Fe?$l():er()}function nr(){return!Dn&&typeof window<"u"&&typeof window.matchMedia=="function"&&(Dn=window.matchMedia("(prefers-color-scheme: dark)")),Dn}function un(d){if(typeof document>"u")return;const w=Mn(d),y=nr();if(w==="system"&&y){if(document.body.classList.toggle("dark",y.matches),!ut){const P=M=>{document.body.classList.toggle("dark",M.matches)};typeof y.addEventListener=="function"?(y.addEventListener("change",P),ut=()=>y.removeEventListener("change",P)):typeof y.addListener=="function"?(y.addListener(P),ut=()=>y.removeListener(P)):ut=null,ut&&Mt.push(ut)}}else ut&&(ut(),ut=null),document.body.classList.toggle("dark",w==="dark");document.body.dataset.theme=w}function dn(d){if(typeof document>"u")return;const w=Jl(d),y=document.documentElement;y.style.setProperty("--accent-color",w.colors.base),y.style.setProperty("--accent-color-contrast",w.colors.contrast),y.style.setProperty("--accent-color-soft",w.colors.soft),y.style.setProperty("--accent-color-border",w.colors.border)}function fn(d){if(typeof document>"u")return;const w=ao(d),y=document.documentElement;y.style.setProperty("--page-background-light",w.gradients.light),y.style.setProperty("--page-background-dark",w.gradients.dark)}function mt(){if(!m||!We||!D)return;Et&&clearTimeout(Et);const d={theme:L.theme,accent:L.accent,titleBackdrop:L.titleBackdrop,mergeAllBookmarks:L.mergeAllBookmarks,folderColumnWidth:L.folderColumnWidth,compactFolderHeader:L.compactFolderHeader,enableBookmarkSearch:L.enableBookmarkSearch,enableTopSites:L.enableTopSites,lastShortcutFolderId:L.lastShortcutFolderId,background:{...L.background},folderSelection:{selectedIds:Array.from(B),expandedIds:Array.from(A)},version:zt};Et=setTimeout(async()=>{Et=null;try{const w=[g.storage.local.set({[$t]:d})];b&&w.push(g.storage.sync.set({[Nt]:d})),await Promise.all(w)}catch(w){console.error("Bookmark Dial: failed to store preferences",w)}},120)}function Ln(){Se&&(t(6,Se=!1),pe==null||pe.focus())}function or(){t(6,Se=!Se)}function lr(d){const w=Mn(d);L.theme!==w&&t(5,L={...L,theme:w})}function rr(d){const w=An(d);L.accent!==w&&t(5,L={...L,accent:w})}function ir(d){const w=!!d;L.titleBackdrop!==w&&t(5,L={...L,titleBackdrop:w})}function sr(d){const w=!!d;L.mergeAllBookmarks!==w&&t(5,L={...L,mergeAllBookmarks:w})}function ar(d){const w=Number(d);L.folderColumnWidth!==w&&t(5,L={...L,folderColumnWidth:w})}function cr(d){const w=!!d;L.compactFolderHeader!==w&&t(5,L={...L,compactFolderHeader:w})}function ur(d){const w=!!d;L.enableBookmarkSearch!==w&&(t(5,L={...L,enableBookmarkSearch:w}),w||(t(35,Qe=!1),t(9,Ke="")))}function dr(d){const w=!!d;L.enableTopSites!==w&&(t(5,L={...L,enableTopSites:w}),w&&!Ct&&mo())}function fr(d){const w=io(d),y=ao(w),P=y.accent&&yt.some(be=>be.id===y.accent)?y.accent:null,M=L.background.mode!=="gradient"||L.background.gradientId!==w,z=P?An(P):L.accent,Y=!!P&&z!==L.accent;!M&&!Y||t(5,L={...L,accent:Y?z:L.accent,background:{...L.background,mode:"gradient",gradientId:w}})}async function hr(){Ln(),await xn(),re==null||re.open()}async function gr(){if(t(101,Be=!1),t(98,ue=!1),!m){t(5,L=En()),t(0,B=new Set(Cn.selectedIds)),t(95,A=new Set(Cn.expandedIds)),t(96,D=!0),un(L.theme),dn(L.accent),fn(L.background.gradientId),bt();return}let d={},w={};if(b)try{d=await g.storage.sync.get(Nt)}catch(z){console.warn("Bookmark Dial: failed to read sync preferences",z)}try{w=await g.storage.local.get($t)}catch(z){console.warn("Bookmark Dial: failed to read local preferences",z)}let y=d==null?void 0:d[Nt],P=!1;!y&&(w!=null&&w[$t])&&(y=w[$t],P=!0);const M=so(y??Cs);t(5,L=M.settings),t(0,B=new Set(M.folderSelection.selectedIds.length?M.folderSelection.selectedIds:Cn.selectedIds)),t(95,A=new Set(M.folderSelection.expandedIds)),t(96,D=!0),t(101,Be=M.changed||P),t(98,ue=M.changed||P),un(L.theme),dn(L.accent),fn(L.background.gradientId),bt()}async function mr(){try{await Ui(g),F=await br(),await Vt(),await At(),kr(),await dt()}catch(d){console.error("Bookmark Dial: initialization failed",d),ft(_n.error,"error")}}async function br(){const d=await g.runtime.sendMessage({type:"getFolderId"});if(!(d!=null&&d.folderId))throw new Error((d==null?void 0:d.error)||"Missing folder");return d.folderId}async function Vt(){B.size===0&&F&&(t(0,B=new Set([F])),t(98,ue=!0))}async function At(){const d=Array.from(B);d.length&&(await Promise.allSettled(d.map(w=>Zt(g,w))),bt())}function kr(){var be,Xe;const d=ga(()=>dt(),150),w=(he,ae)=>{Ni(ae),!ae.url&&yr(ae)&&fo(ae.id),ae.url?Kt(ae.parentId)&&d():B.has(ae.id)&&d()};g.bookmarks.onCreated.addListener(w);const y=(he,ae)=>{Hi(he,ae),j.has(he)&&d()};g.bookmarks.onChanged.addListener(y);const P=(he,ae)=>{Gi(he,ae),(j.has(he)||Kt(ae.parentId)||Kt(ae.oldParentId))&&d()};g.bookmarks.onMoved.addListener(P);const M=(he,ae)=>{const ce=Vl(he);ce&&pr(he,{...ae,node:ce}),zi(he,ae),(j.has(he)||Kt(ae.parentId))&&(j.delete(he),d())};g.bookmarks.onRemoved.addListener(M);const z=()=>d(),Y=()=>ft("Importing bookmarks‚Ä¶");(be=g.bookmarks.onImportEnded)==null||be.addListener(z),(Xe=g.bookmarks.onImportBegan)==null||Xe.addListener(Y),Mt.push(()=>{var he,ae;g.bookmarks.onCreated.removeListener(w),g.bookmarks.onChanged.removeListener(y),g.bookmarks.onMoved.removeListener(P),g.bookmarks.onRemoved.removeListener(M),(he=g.bookmarks.onImportEnded)==null||he.removeListener(z),(ae=g.bookmarks.onImportBegan)==null||ae.removeListener(Y)})}function pr(d,w={}){if(w!=null&&w.node&&!w.node.url){const y=new Set(pn(d));if(y.size){const P=new Set(B);let M=!1;y.forEach(z=>{P.has(z)&&(P.delete(z),M=!0)}),M&&(t(0,B=P),t(98,ue=!0),bt(),mt(),B.size||Promise.resolve().then(()=>Vt()).then(()=>At()).then(()=>dt()))}d===F&&_r()}}async function _r(){ft("Default folder was removed. Recreating‚Ä¶");try{const d=await g.runtime.sendMessage({type:"resetFolderCache"});if(d!=null&&d.folderId)F=d.folderId,await fo(F),await dt(),ft("Default folder restored.","success");else throw new Error((d==null?void 0:d.error)||"Unable to recreate folder")}catch(d){console.error("Bookmark Dial: missing folder recovery failed",d),ft(_n.error,"error")}}async function co(d,w=null){const y=d instanceof Set?new Set(d):new Set(d??[]);if(!y.size)return{items:[],counts:new Map,total:0,groups:[]};if(w!=null&&w.aborted)throw new DOMException("Aborted","AbortError");const P=_t(),M=Array.from(y).filter(ce=>{const Ce=P.nodesById[ce];return!Ce||!Ce.childrenLoaded?!0:(Ce.childrenIds??[]).some(Ye=>!P.nodesById[Ye])});if(M.length>0&&await Promise.all(M.map(ce=>Zt(g,ce))),w!=null&&w.aborted)throw new DOMException("Aborted","AbortError");const z=_t(),Y=new Map,be=new Map,Xe=[],he=[];y.forEach(ce=>{const Ce=Xn(z,ce,[],!0),tt=Xn(z,ce,[],!1),Ye=Sn(ce),Yt=Ye[Ye.length-1]||"Untitled folder";Ce.forEach(Ze=>{const Lt=(wn(Ze.url)||Ze.url||Ze.url||Ze.id).toLowerCase(),Jt=be.get(ce)??new Set;Jt.add(Lt),be.set(ce,Jt),Y.has(Lt)||(Y.set(Lt,Ze.id),Xe.push({...Ze,sourceFolderId:ce,sourcePath:Ye}))});const Rn=tt.map(Ze=>((wn(Ze.url)||Ze.url||Ze.url||Ze.id).toLowerCase(),{...Ze,sourceFolderId:ce,sourcePath:Ye}));he.push({id:ce,label:Yt,path:Ye,fullPath:Ye.join(" ‚Ä∫ "),items:Rn})}),he.sort((ce,Ce)=>ce.fullPath.localeCompare(Ce.fullPath));const ae=new Map(Array.from(be.entries()).map(([ce,Ce])=>[ce,Ce.size]));return{items:Xe,counts:ae,total:Xe.length,groups:he}}async function dt(){const d=++E;if(!B.size){t(93,T=[]),t(94,O=[]),j=new Set,ie=new Map,t(21,ge=0),bt(),t(15,C=!1),ft("Select folders to populate this page.","info");return}Bt&&Bt.abort(),Bt=new AbortController;const w=Bt.signal;try{const y=await co(B,w);if(d!==E)return;ie=y.counts,t(21,ge=y.total),wr(y.items),t(94,O=y.groups.map(P=>({id:P.id,label:P.label,path:P.path,fullPath:P.fullPath,items:P.items.map(M=>uo(M))}))),bt(),t(15,C=!1),y.items.length===0?ft(_n.empty):ft("","info")}catch(y){if(y.name==="AbortError")return;console.error("Bookmark Dial: failed to load bookmarks",y),ft(_n.error,"error")}}function uo(d){const w=d.title||d.url;return{...d,displayTitle:w,initials:Cl(w),palette:Il(w),fallback:!1}}function wr(d){j=new Set(d.map(M=>M.id));const y=[],P=new Map;for(const M of d){const z=M.id,Y=ro.get(z);if(Y&&Y.title===M.title&&Y.url===M.url&&Y.index===M.index)y.push(Y),P.set(z,Y);else{const be=uo(M);y.push(be),P.set(z,be)}}ro=P,t(93,T=y)}function yr(d){return!d||d.url?!1:Kt(d.parentId)}function Kt(d){if(!d)return!1;const w=_t();let y=d;for(;y;){if(B.has(y))return!0;const P=w.nodesById[y];y=(P==null?void 0:P.parentId)??null}return!1}async function fo(d){if(!d)return;await Zt(g,d);const w=pn(d),y=new Set(B);let P=!1;w.forEach(M=>{y.has(M)||(y.add(M),P=!0)}),P&&(t(0,B=y),t(98,ue=!0),await At(),await dt(),mt())}async function Sr(d){if(!d)return;const w=pn(d);if(!w.length)return;const y=W,P=y&&N?N:y?new Set(B):B,M=new Set(P);if(w.every(Y=>M.has(Y))?w.forEach(Y=>M.delete(Y)):w.forEach(Y=>M.add(Y)),y){t(22,N=M);const Y=++G,be=await co(N);if(Y!==G)return;J=be.counts,t(24,Te=be.total),t(23,v=hn(N,J))}else jt(B,M)||(t(0,B=M),t(98,ue=!0),await Vt(),await At(),await dt(),mt())}function Cr(d){var ae;if(!d)return;const w=_t(),y=w.nodesById[d];if(!(y!=null&&y.isFolder)||!(((ae=y.childrenIds)==null?void 0:ae.some(ce=>{const Ce=w.nodesById[ce];return Ce==null?void 0:Ce.isFolder}))??!1))return;const M=W,z=M&&fe?fe:M?new Set(A):A,Y=new Set(z??[]),be=new Set(Y),Xe=(ce,{persist:Ce=!1}={})=>{M?t(97,fe=ce):(t(95,A=ce),Ce&&(t(98,ue=!0),mt()))};Y.has(d)?Y.delete(d):Y.add(d);const he=!jt(be,Y);Xe(Y,{persist:he})}async function Ir(){if(W){t(22,N=new Set),G++,J=new Map,t(24,Te=0),t(23,v=[]);return}t(0,B=new Set),t(98,ue=!0),await Vt(),await At(),await dt(),mt()}async function vr(){if(!W)return;const d=new Set(N??[]),w=new Set(fe??[]),y=!jt(B,d),P=!jt(A,w);t(1,W=!1),ho(),y&&(t(0,B=d),t(98,ue=!0),await Vt(),await At(),await dt()),P&&(t(95,A=w),t(98,ue=!0)),y||P?mt():bt()}async function Br(){await Ri(g),t(22,N=new Set(B)),t(97,fe=new Set(A)),J=new Map(ie),t(24,Te=ge),t(23,v=hn(N,J)),G=0,t(19,H=""),t(3,se=new Set),t(20,U=null),t(1,W=!0)}function ho(){t(22,N=null),t(97,fe=null),t(23,v=[]),J=new Map,t(24,Te=0),G=0,t(19,H=""),t(3,se=new Set),t(20,U=null)}function Tr(){t(1,W=!1),ho()}function hn(d,w){const y=Array.from(d??[]).map(P=>{const M=Sn(P),z=M[M.length-1]||"Untitled folder";return{id:P,path:M,label:z,fullPath:M.join(" ‚Ä∫ "),count:(w==null?void 0:w.get(P))??0}});return y.sort((P,M)=>P.fullPath.localeCompare(M.fullPath)),y}function bt(){const d=Array.from(B).sort().join(","),w=Array.from(ie.entries()).sort(([y],[P])=>y.localeCompare(P)).map(([y,P])=>`${y}:${P}`).join(",");if(d===oo&&w===lo){t(4,ee=Fn);return}oo=d,lo=w,Fn=hn(B,ie),t(4,ee=Fn)}function Fr(d){const y=_t().nodesById[d],P=W&&N?N:B;if(!(y!=null&&y.isFolder))return P.has(d)?"selected":"none";const M=pn(d);if(!M.length)return P.has(d)?"selected":"none";const z=M.filter(Y=>P.has(Y)).length;return z===0?"none":z===M.length?"selected":"partial"}async function Dr(d){var Xe;t(19,H=d);const w=d.trim();if(!w){t(3,se=new Set),t(20,U=null);return}if((Xe=g==null?void 0:g.bookmarks)!=null&&Xe.search)try{const ae=(await g.bookmarks.search({query:w})).filter(ce=>!ce.url);for(const ce of ae){await Zt(g,ce.id);let Ce=ce.parentId;for(;Ce;){await Zt(g,Ce);const tt=_t().nodesById[Ce];Ce=(tt==null?void 0:tt.parentId)??null}}}catch(he){console.warn("Bookmark Dial: folder search failed",he)}const y=qi(),P=w.toLowerCase(),z=y.filter(he=>{const ae=he.title.toLowerCase().includes(P),ce=he.path.join(" ").toLowerCase().includes(P);return ae||ce}).map(he=>he.id);t(3,se=new Set(z));const Y=new Set,be=_t();z.forEach(he=>{var Ce;let ae=be.nodesById[he];for(;ae&&(Y.add(ae.id),!!ae.parentId);)ae=be.nodesById[ae.parentId];const ce=be.nodesById[he];(Ce=ce==null?void 0:ce.childrenIds)==null||Ce.forEach(tt=>{const Ye=be.nodesById[tt];Ye!=null&&Ye.isFolder&&Y.add(tt)})}),t(20,U=Y)}function Er(d){const w=so(d),y=w.settings;(y.theme!==L.theme||y.accent!==L.accent||y.background.mode!==L.background.mode||y.background.gradientId!==L.background.gradientId||y.titleBackdrop!==L.titleBackdrop||y.mergeAllBookmarks!==L.mergeAllBookmarks||y.folderColumnWidth!==L.folderColumnWidth||y.compactFolderHeader!==L.compactFolderHeader||y.enableBookmarkSearch!==L.enableBookmarkSearch||y.enableTopSites!==L.enableTopSites)&&t(5,L={...L,...y,background:{...y.background}});const M=new Set(w.folderSelection.selectedIds),z=new Set(w.folderSelection.expandedIds),Y=!jt(M,B),be=!jt(z,A);Y&&(t(0,B=M),bt(),dt()),be&&t(95,A=z),(Y||be)&&t(98,ue=!1)}async function Mr(d){try{const w=new URL(chrome.runtime.getURL("/_favicon/"));return w.searchParams.set("pageUrl",d),w.searchParams.set("size",_s.toString()),w.toString()}catch{return""}}function Ar(d){const{next:w,changed:y}=Fl(T,d);if(!y)return;t(93,T=w);let P=!1;const M=O.map(z=>{const{next:Y,changed:be}=Fl(z.items,d);return be?(P=!0,{...z,items:Y}):z});P&&t(94,O=M)}function Lr(d){t(26,K=K===d?null:d)}function On(){t(26,K=null)}function kt(d,w="info",y=null,P=5e3){const M=++sn,z={id:M,message:d,type:w,undoData:y};let Y=[...ct,z];return Y.length>tl&&(Y=Y.slice(-tl)),t(30,ct=Y),P>0&&setTimeout(()=>Pn(M),P),M}function Pn(d){t(30,ct=ct.filter(w=>w.id!==d))}async function Or(d){if(!(d!=null&&d.undoData))return;const{action:w,data:y}=d.undoData;try{w==="removeBookmark"&&y&&(await g.bookmarks.create({parentId:y.parentId,title:y.title,url:y.url,index:y.index}),kt("Bookmark restored","success"))}catch(P){console.error("Bookmark Dial: undo failed",P),kt("Failed to undo","error")}Pn(d.id)}async function Pr(){if(!m){t(31,Le=!0);return}try{const d=await g.storage.local.get(Gn);d!=null&&d[Gn]||t(31,Le=!0)}catch(d){console.warn("Bookmark Dial: failed to check welcome state",d)}}async function jr(){if(t(31,Le=!1),m)try{await g.storage.local.set({[Gn]:!0})}catch(d){console.warn("Bookmark Dial: failed to save welcome state",d)}}function Ur(d,w){d.preventDefault(),On(),t(34,Ue=w);const y=180,P=180;let M=d.clientX,z=d.clientY;M+y>window.innerWidth&&(M=window.innerWidth-y-8),z+P>window.innerHeight&&(z=window.innerHeight-P-8),t(33,_e={x:M,y:z}),t(32,Ee=!0)}function pt(){t(32,Ee=!1),t(34,Ue=null)}async function Rr(){Ue!=null&&Ue.url&&window.open(Ue.url,"_blank"),pt()}async function Nr(){if(Ue!=null&&Ue.url)try{await navigator.clipboard.writeText(Ue.url),kt("URL copied to clipboard","success")}catch(d){console.error("Bookmark Dial: copy failed",d),kt("Failed to copy URL","error")}pt()}function Hr(){Ue&&po(Ue),pt()}function Gr(){Ue&&jn(Ue.id),pt()}function zr(d){t(9,Ke=d)}function go(){t(35,Qe=!1),t(9,Ke="")}async function mo(){var d;if(!Ct){if(!((d=g==null?void 0:g.topSites)!=null&&d.get)){t(104,Ct=!0);return}try{const w=await g.topSites.get();t(10,ht=(w||[]).map((y,P)=>({id:`topsite-${P}`,title:y.title||en(y.url),url:y.url,displayTitle:y.title||en(y.url),initials:Cl(y.title||en(y.url)),palette:Il(y.title||en(y.url)),fallback:!1,isTopSite:!0}))),t(104,Ct=!0)}catch(w){console.warn("Bookmark Dial: failed to load top sites",w),t(104,Ct=!0)}}}function qr(d){const w=L.enableTopSites?[...i,...ht]:i;if(!w.length)return;const y=Wr(),P=w.length;if(["ArrowRight","ArrowLeft","ArrowDown","ArrowUp"].includes(d.key)&&Ie<0){d.preventDefault(),t(11,Ie=0);return}if(d.key==="ArrowRight")d.preventDefault(),Ie+1<P&&t(11,Ie=Ie+1);else if(d.key==="ArrowLeft")d.preventDefault(),Ie-1>=0&&t(11,Ie=Ie-1);else if(d.key==="ArrowDown"){d.preventDefault();const z=Ie+y;z<P&&t(11,Ie=z)}else if(d.key==="ArrowUp"){d.preventDefault();const z=Ie-y;z>=0&&t(11,Ie=z)}else if(d.key==="Enter"&&Ie>=0){d.preventDefault();const z=w[Ie];z!=null&&z.url&&(window.location.href=z.url)}else if((d.key==="Delete"||d.key==="Backspace")&&Ie>=0){d.preventDefault();const z=w[Ie];if(z&&!z.isTopSite){const Y=P-1;jn(z.id),Y===0?t(11,Ie=-1):Ie>=Y&&t(11,Ie=Y-1)}}else if(d.key>="0"&&d.key<="9"){const z=d.key==="0"?9:parseInt(d.key,10)-1;if(z<P){d.preventDefault();const Y=w[z];Y!=null&&Y.url&&(window.location.href=Y.url)}}}function bo(){if(!It){an=4;return}try{an=getComputedStyle(It).getPropertyValue("grid-template-columns").split(" ").length||4}catch{an=4}}function Wr(){return an}function Vr(){!It||typeof ResizeObserver>"u"||(vt&&vt.disconnect(),vt=new ResizeObserver(()=>{bo()}),vt.observe(It),bo())}function Kr(d){t(11,Ie=d)}function Qr(d){t(105,It=d.detail.gridRef)}function Yr(d,w,y=null){if(w.isTopSite){d.preventDefault();return}t(36,gt=w),y||w.parentId,d.dataTransfer.effectAllowed="move",d.dataTransfer.setData("text/plain",w.id)}function Jr(d,w){!gt||gt.id===w.id||w.isTopSite||(d.preventDefault(),d.dataTransfer.dropEffect="move",t(37,cn=w))}function Xr(d){d.currentTarget.contains(d.relatedTarget)||t(37,cn=null)}async function Zr(d,w){if(d.preventDefault(),!gt||gt.id===w.id){gn();return}if(w.isTopSite){gn();return}try{await g.bookmarks.move(gt.id,{parentId:w.parentId,index:w.index}),kt("Bookmark moved","success")}catch(y){console.error("Bookmark Dial: move failed",y),kt("Failed to move bookmark","error")}gn()}function xr(){gn()}function gn(){t(36,gt=null),t(37,cn=null)}async function $r(d=null){x=d,t(2,Z=!0)}async function ei(d){t(2,Z=!1);const{folderId:w,url:y,title:P}=d,M=wn(y);if(!M){alert("That does not appear to be a valid URL.");return}try{await g.bookmarks.create({parentId:w,title:P,url:M}),t(5,L={...L,lastShortcutFolderId:w}),mt()}catch(z){console.error("Bookmark Dial: failed to create bookmark",z),alert("Unable to add shortcut. Please try again.")}}function ti(){t(2,Z=!1),x=null}function ko(){if(ee.length)return ee;const d=hn(B,ie);if(d.length)return d;if(F){const w=Sn(F),y=w[w.length-1]||"Bookmark Dial";return[{id:F,path:w,label:y,fullPath:w.join(" ‚Ä∫ "),count:0}]}return[]}function ni(){if(x)return x;const d=le.length>0?le:ko();return d.length===0?null:L.lastShortcutFolderId&&d.some(y=>y.id===L.lastShortcutFolderId)?L.lastShortcutFolderId:d[d.length-1].id}async function po(d){var Y;if(!(d!=null&&d.id))return;On();const w=prompt("Update the shortcut URL:",d.url??"");if(w===null)return;const y=wn(w.trim());if(!y){alert("That does not appear to be a valid URL.");return}const P=(Y=d.title)!=null&&Y.trim()?d.title:d.displayTitle||en(y),M=prompt("Update the shortcut title:",P),z=M?M.trim():P;try{await g.bookmarks.update(d.id,{title:z,url:y})}catch(be){console.error("Bookmark Dial: failed to update bookmark",be),alert("Unable to update shortcut. Please try again.")}}async function jn(d){On(),pt();const w=T.find(y=>y.id===d)||O.flatMap(y=>y.items).find(y=>y.id===d);if(w)try{const[y]=await g.bookmarks.get(d);await g.bookmarks.remove(d),kt(`"${w.displayTitle||w.title}" removed`,"info",{action:"removeBookmark",data:{parentId:String(y.parentId),title:String(y.title||""),url:String(y.url||""),index:typeof y.index=="number"?y.index:0}},8e3)}catch(y){console.error("Bookmark Dial: failed to remove bookmark",y),kt("Failed to remove bookmark","error")}}async function oi(d){if(!d){re==null||re.close();return}if(!ma(d,ws)){alert("Please choose a JPEG or PNG image under 10 MB.");return}try{m&&(await _o(d),await g.storage.local.set({[xt]:"indexeddb"})),Qt(d),t(5,L={...L,background:{...L.background,mode:"custom"}}),re==null||re.close()}catch(w){console.error("Bookmark Dial: failed to save background",w),alert("Unable to store the background image. Try a smaller file.")}}async function li(){try{m&&(await ci(),await g.storage.local.remove(xt))}catch(d){console.error("Bookmark Dial: failed to clear background",d)}Qt(null),t(5,L={...L,background:{...L.background,mode:"gradient"}}),re==null||re.close()}function ri(){re==null||re.close()}async function ii(){if(!m){Qt(null),L.background.mode==="custom"&&t(5,L={...L,background:{...L.background,mode:"gradient"}});return}try{const d=await ai();if(d){Qt(d);return}const w=await g.storage.local.get(xt),y=(w==null?void 0:w[xt])||"";if(y&&y.startsWith("data:")){try{const M=await(await fetch(y)).blob();await _o(M),await g.storage.local.set({[xt]:"indexeddb"}),Qt(M)}catch(P){console.warn("Bookmark Dial: background migration failed, using legacy",P),si(y)}return}!y&&L.background.mode==="custom"&&(t(5,L={...L,background:{...L.background,mode:"gradient"}}),t(101,Be=!0))}catch(d){console.error("Bookmark Dial: failed to load background",d)}}function Qt(d){rt&&(URL.revokeObjectURL(rt),rt=null),d?(rt=ba(d),t(27,te=rt)):t(27,te="")}function si(d){rt&&(URL.revokeObjectURL(rt),rt=null),t(27,te=d||"")}function ft(d,w="info"){t(13,p=d),t(14,_=w)}function Un(){return new Promise((d,w)=>{if(typeof indexedDB>"u"){w(new Error("IndexedDB not available"));return}const y=indexedDB.open(ys,1);y.onerror=()=>w(y.error),y.onsuccess=()=>d(y.result),y.onupgradeneeded=P=>{const M=P.target.result;M.objectStoreNames.contains(wt)||M.createObjectStore(wt)}})}async function _o(d){const w=await Un();return new Promise((y,P)=>{const M=w.transaction(wt,"readwrite"),Y=M.objectStore(wt).put(d,zn);Y.onerror=()=>P(Y.error),Y.onsuccess=()=>y(),M.oncomplete=()=>w.close()})}async function ai(){try{const d=await Un();return new Promise((w,y)=>{const P=d.transaction(wt,"readonly"),z=P.objectStore(wt).get(zn);z.onerror=()=>y(z.error),z.onsuccess=()=>w(z.result||null),P.oncomplete=()=>d.close()})}catch{return null}}async function ci(){try{const d=await Un();return new Promise((w,y)=>{const P=d.transaction(wt,"readwrite"),z=P.objectStore(wt).delete(zn);z.onerror=()=>y(z.error),z.onsuccess=()=>w(),P.oncomplete=()=>d.close()})}catch{}}function ui(d){lt[d?"unshift":"push"](()=>{pe=d,t(29,pe)})}function di(d){lt[d?"unshift":"push"](()=>{re=d,t(28,re)})}return n.$$.update=()=>{if(n.$$.dirty[3]&1024&&t(106,o=new Set(Ve.slice(0,Yn).map(d=>d.id))),n.$$.dirty[3]&512&&t(107,l=new Set(Je.slice(0,Jn).map(d=>d.id))),n.$$.dirty[0]&160|n.$$.dirty[3]&8192&&!Fe&&L.background.mode==="gradient"&&L.background.gradientId&&!o.has(L.background.gradientId)&&t(7,Fe=!0),n.$$.dirty[0]&128|n.$$.dirty[3]&1024&&t(40,r=Fe?Ve:Ve.slice(0,Yn)),n.$$.dirty[0]&288|n.$$.dirty[3]&16384&&!we&&L.accent&&!l.has(L.accent)&&t(8,we=!0),n.$$.dirty[0]&256|n.$$.dirty[3]&512&&t(39,s=we?Je:Je.slice(0,Jn)),n.$$.dirty[0]&32|n.$$.dirty[3]&488&&!$e&&D&&(un(L.theme),dn(L.accent),fn(L.background.gradientId),(Be||ue||We)&&mt(),t(100,We=!0),t(101,Be=!1),t(98,ue=!1)),n.$$.dirty[0]&64&&typeof document<"u"&&document.body.classList.toggle("settings-open",Se),n.$$.dirty[0]&32|n.$$.dirty[3]&4096&&It&&L.mergeAllBookmarks&&Vr(),n.$$.dirty[0]&10|n.$$.dirty[3]&20&&t(25,I=(()=>{const d=W&&fe?fe:A,w=new Set(d??[]);if(se.size){const y=_t();se.forEach(P=>{var z,Y;let M=((z=y.nodesById[P])==null?void 0:z.parentId)??null;for(;M;)w.add(M),M=((Y=y.nodesById[M])==null?void 0:Y.parentId)??null})}return w})()),n.$$.dirty[0]&512|n.$$.dirty[3]&1&&t(12,i=(()=>{if(!Ke.trim())return T;const d=Ke.toLowerCase().trim();return T.filter(w=>{var y,P,M;return((y=w.title)==null?void 0:y.toLowerCase().includes(d))||((P=w.url)==null?void 0:P.toLowerCase().includes(d))||((M=w.displayTitle)==null?void 0:M.toLowerCase().includes(d))})})()),n.$$.dirty[0]&512|n.$$.dirty[3]&2&&t(38,a=(()=>{if(!Ke.trim())return O;const d=Ke.toLowerCase().trim();return O.map(w=>({...w,items:w.items.filter(y=>{var P,M,z;return((P=y.title)==null?void 0:P.toLowerCase().includes(d))||((M=y.url)==null?void 0:M.toLowerCase().includes(d))||((z=y.displayTitle)==null?void 0:z.toLowerCase().includes(d))})})).filter(w=>w.items.length>0)})()),n.$$.dirty[0]&32|n.$$.dirty[3]&2048&&L.enableTopSites&&!Ct&&mo(),n.$$.dirty[0]&7200){const d=L.mergeAllBookmarks?L.enableTopSites?i.length+ht.length:i.length:0;Ie>=d&&t(11,Ie=Math.max(d-1,-1))}n.$$.dirty[0]&21&&(Z||ee.length||B.size)&&(t(17,le=ko()),t(18,de=ni()))},[B,W,Z,se,ee,L,Se,Fe,we,Ke,ht,Ie,i,p,_,C,q,le,de,H,U,ge,N,v,Te,I,K,te,re,pe,ct,Le,Ee,_e,Ue,Qe,gt,cn,a,s,r,u,xl,tr,Ln,or,lr,rr,ir,sr,ar,cr,ur,dr,fr,hr,Sr,Cr,Ir,vr,Br,Tr,Fr,Dr,Mr,Ar,Lr,Pn,Or,jr,Ur,pt,Rr,Nr,Hr,Gr,zr,go,Kr,Qr,Yr,Jr,Xr,Zr,xr,$r,ei,ti,po,jn,oi,li,ri,T,O,A,D,fe,ue,$e,We,Be,Je,Ve,Ct,It,o,l,ui,di]}class Fa extends He{constructor(e){super(),Ne(this,e,Ta,va,Re,{},null,[-1,-1,-1,-1,-1,-1,-1])}}new Fa({target:document.getElementById("app")});
