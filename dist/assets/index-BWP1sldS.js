var Ss=Object.defineProperty;var Is=(n,e,t)=>e in n?Ss(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var lo=(n,e,t)=>Is(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();function ue(){}const ml=n=>n;function Or(n){return n()}function Ao(){return Object.create(null)}function He(n){n.forEach(Or)}function ft(n){return typeof n=="function"}function xt(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Tl;function Po(n,e){return n===e?!0:(Tl||(Tl=document.createElement("a")),Tl.href=e,n===Tl.href)}function vs(n){return Object.keys(n).length===0}function jr(n,...e){if(n==null){for(const l of e)l(void 0);return ue}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Yn(n){let e;return jr(n,t=>e=t)(),e}function Rr(n,e,t){n.$$.on_destroy.push(jr(e,t))}function Oo(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const Nr=typeof window<"u";let Hl=Nr?()=>window.performance.now():()=>Date.now(),mo=Nr?n=>requestAnimationFrame(n):ue;const Kn=new Set;function Ur(n){Kn.forEach(e=>{e.c(n)||(Kn.delete(e),e.f())}),Kn.size!==0&&mo(Ur)}function ql(n){let e;return Kn.size===0&&mo(Ur),{promise:new Promise(t=>{Kn.add(e={c:n,f:t})}),abort(){Kn.delete(e)}}}const Cs=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function f(n,e){n.appendChild(e)}function zr(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function Bs(n){const e=_("style");return e.textContent="/* empty */",Es(zr(n),e),e.sheet}function Es(n,e){return f(n.head||n,e),e.sheet}function V(n,e,t){n.insertBefore(e,t||null)}function G(n){n.parentNode&&n.parentNode.removeChild(n)}function oo(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function _(n){return document.createElement(n)}function Lt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function he(n){return document.createTextNode(n)}function L(){return he(" ")}function ht(){return he("")}function q(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function ao(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Fs(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function a(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function Ts(n){return Array.from(n.childNodes)}function Me(n,e){e=""+e,n.data!==e&&(n.data=e)}function Vn(n,e){n.value=e??""}function Ol(n,e,t,l){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function jo(n,e,t){for(let l=0;l<n.options.length;l+=1){const o=n.options[l];if(o.__value===e){o.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function Ms(n){const e=n.querySelector(":checked");return e&&e.__value}function Ie(n,e,t){n.classList.toggle(e,!!t)}function Hr(n,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:l})}const jl=new Map;let Rl=0;function Ds(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function Ls(n,e){const t={stylesheet:Bs(e),rules:{}};return jl.set(n,t),t}function fl(n,e,t,l,o,r,s,i=0){const u=16.666/l;let d=`{
`;for(let S=0;S<=1;S+=u){const E=e+(t-e)*r(S);d+=S*100+`%{${s(E,1-E)}}
`}const g=d+`100% {${s(t,1-t)}}
}`,y=`__svelte_${Ds(g)}_${i}`,b=zr(n),{stylesheet:w,rules:m}=jl.get(b)||Ls(b,n);m[y]||(m[y]=!0,w.insertRule(`@keyframes ${y} ${g}`,w.cssRules.length));const p=n.style.animation||"";return n.style.animation=`${p?`${p}, `:""}${y} ${l}ms linear ${o}ms 1 both`,Rl+=1,y}function hl(n,e){const t=(n.style.animation||"").split(", "),l=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=t.length-l.length;o&&(n.style.animation=l.join(", "),Rl-=o,Rl||As())}function As(){mo(()=>{Rl||(jl.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&G(e)}),jl.clear())})}function Ps(n,e,t,l){if(!e)return ue;const o=n.getBoundingClientRect();if(e.left===o.left&&e.right===o.right&&e.top===o.top&&e.bottom===o.bottom)return ue;const{delay:r=0,duration:s=300,easing:i=ml,start:u=Hl()+r,end:d=u+s,tick:g=ue,css:y}=t(n,{from:e,to:o},l);let b=!0,w=!1,m;function p(){y&&(m=fl(n,0,1,s,r,i,y)),r||(w=!0)}function S(){y&&hl(n,m),b=!1}return ql(E=>{if(!w&&E>=u&&(w=!0),w&&E>=d&&(g(1,0),S()),!b)return!1;if(w){const C=E-u,U=0+1*i(C/s);g(U,1-U)}return!0}),p(),g(0,1),S}function Os(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,o=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=l,qr(n,o)}}function qr(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(n),o=l.transform==="none"?"":l.transform;n.style.transform=`${o} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let gl;function dl(n){gl=n}function Gr(){if(!gl)throw new Error("Function called outside component initialization");return gl}function js(n){Gr().$$.on_mount.push(n)}function Rs(){const n=Gr();return(e,t,{cancelable:l=!1}={})=>{const o=n.$$.callbacks[e];if(o){const r=Hr(e,t,{cancelable:l});return o.slice().forEach(s=>{s.call(n,r)}),!r.defaultPrevented}return!0}}function Ns(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Wn=[],Ut=[];let Qn=[];const Ro=[],Wr=Promise.resolve();let co=!1;function Vr(){co||(co=!0,Wr.then(Kr))}function Nl(){return Vr(),Wr}function Zt(n){Qn.push(n)}const ro=new Set;let Un=0;function Kr(){if(Un!==0)return;const n=gl;do{try{for(;Un<Wn.length;){const e=Wn[Un];Un++,dl(e),Us(e.$$)}}catch(e){throw Wn.length=0,Un=0,e}for(dl(null),Wn.length=0,Un=0;Ut.length;)Ut.pop()();for(let e=0;e<Qn.length;e+=1){const t=Qn[e];ro.has(t)||(ro.add(t),t())}Qn.length=0}while(Wn.length);for(;Ro.length;)Ro.pop()();co=!1,ro.clear(),dl(n)}function Us(n){if(n.fragment!==null){n.update(),He(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Zt)}}function zs(n){const e=[],t=[];Qn.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Qn=e}let il;function po(){return il||(il=Promise.resolve(),il.then(()=>{il=null})),il}function Tn(n,e,t){n.dispatchEvent(Hr(`${e?"intro":"outro"}${t}`))}const Al=new Set;let Xt;function Ze(){Xt={r:0,c:[],p:Xt}}function xe(){Xt.r||He(Xt.c),Xt=Xt.p}function x(n,e){n&&n.i&&(Al.delete(n),n.i(e))}function re(n,e,t,l){if(n&&n.o){if(Al.has(n))return;Al.add(n),Xt.c.push(()=>{Al.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}const bo={duration:0};function Hs(n,e,t){const l={direction:"in"};let o=e(n,t,l),r=!1,s,i,u=0;function d(){s&&hl(n,s)}function g(){const{delay:b=0,duration:w=300,easing:m=ml,tick:p=ue,css:S}=o||bo;S&&(s=fl(n,0,1,w,b,m,S,u++)),p(0,1);const E=Hl()+b,C=E+w;i&&i.abort(),r=!0,Zt(()=>Tn(n,!0,"start")),i=ql(U=>{if(r){if(U>=C)return p(1,0),Tn(n,!0,"end"),d(),r=!1;if(U>=E){const O=m((U-E)/w);p(O,1-O)}}return r})}let y=!1;return{start(){y||(y=!0,hl(n),ft(o)?(o=o(l),po().then(g)):g())},invalidate(){y=!1},end(){r&&(d(),r=!1)}}}function qs(n,e,t){const l={direction:"out"};let o=e(n,t,l),r=!0,s;const i=Xt;i.r+=1;let u;function d(){const{delay:g=0,duration:y=300,easing:b=ml,tick:w=ue,css:m}=o||bo;m&&(s=fl(n,1,0,y,g,b,m));const p=Hl()+g,S=p+y;Zt(()=>Tn(n,!1,"start")),"inert"in n&&(u=n.inert,n.inert=!0),ql(E=>{if(r){if(E>=S)return w(0,1),Tn(n,!1,"end"),--i.r||He(i.c),!1;if(E>=p){const C=b((E-p)/y);w(1-C,C)}}return r})}return ft(o)?po().then(()=>{o=o(l),d()}):d(),{end(g){g&&"inert"in n&&(n.inert=u),g&&o.tick&&o.tick(1,0),r&&(s&&hl(n,s),r=!1)}}}function Ml(n,e,t,l){let r=e(n,t,{direction:"both"}),s=l?0:1,i=null,u=null,d=null,g;function y(){d&&hl(n,d)}function b(m,p){const S=m.b-s;return p*=Math.abs(S),{a:s,b:m.b,d:S,duration:p,start:m.start,end:m.start+p,group:m.group}}function w(m){const{delay:p=0,duration:S=300,easing:E=ml,tick:C=ue,css:U}=r||bo,O={start:Hl()+p,b:m};m||(O.group=Xt,Xt.r+=1),"inert"in n&&(m?g!==void 0&&(n.inert=g):(g=n.inert,n.inert=!0)),i||u?u=O:(U&&(y(),d=fl(n,s,m,S,p,E,U)),m&&C(0,1),i=b(O,S),Zt(()=>Tn(n,m,"start")),ql(v=>{if(u&&v>u.start&&(i=b(u,S),u=null,Tn(n,i.b,"start"),U&&(y(),d=fl(n,s,i.b,i.duration,0,E,r.css))),i){if(v>=i.end)C(s=i.b,1-s),Tn(n,i.b,"end"),u||(i.b?y():--i.group.r||He(i.group.c)),i=null;else if(v>=i.start){const W=v-i.start;s=i.a+i.d*E(W/i.duration),C(s,1-s)}}return!!(i||u)}))}return{run(m){ft(r)?po().then(()=>{r=r({direction:m?"in":"out"}),w(m)}):w(m)},end(){y(),i=u=null}}}function ke(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ko(n,e){n.d(1),e.delete(n.key)}function Mn(n,e){re(n,1,1,()=>{e.delete(n.key)})}function Gs(n,e){n.f(),Mn(n,e)}function $t(n,e,t,l,o,r,s,i,u,d,g,y){let b=n.length,w=r.length,m=b;const p={};for(;m--;)p[n[m].key]=m;const S=[],E=new Map,C=new Map,U=[];for(m=w;m--;){const A=y(o,r,m),z=t(A);let P=s.get(z);P?U.push(()=>P.p(A,e)):(P=d(z,A),P.c()),E.set(z,S[m]=P),z in p&&C.set(z,Math.abs(m-p[z]))}const O=new Set,v=new Set;function W(A){x(A,1),A.m(i,g),s.set(A.key,A),g=A.first,w--}for(;b&&w;){const A=S[w-1],z=n[b-1],P=A.key,K=z.key;A===z?(g=A.first,b--,w--):E.has(K)?!s.has(P)||O.has(P)?W(A):v.has(K)?b--:C.get(P)>C.get(K)?(v.add(P),W(A)):(O.add(K),b--):(u(z,s),b--)}for(;b--;){const A=n[b];E.has(A.key)||u(A,s)}for(;w;)W(S[w-1]);return He(U),S}function zt(n){n&&n.c()}function Mt(n,e,t){const{fragment:l,after_update:o}=n.$$;l&&l.m(e,t),Zt(()=>{const r=n.$$.on_mount.map(Or).filter(ft);n.$$.on_destroy?n.$$.on_destroy.push(...r):He(r),n.$$.on_mount=[]}),o.forEach(Zt)}function Dt(n,e){const t=n.$$;t.fragment!==null&&(zs(t.after_update),He(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ws(n,e){n.$$.dirty[0]===-1&&(Wn.push(n),Vr(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function mn(n,e,t,l,o,r,s=null,i=[-1]){const u=gl;dl(n);const d=n.$$={fragment:null,ctx:[],props:r,update:ue,not_equal:o,bound:Ao(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ao(),dirty:i,skip_bound:!1,root:e.target||u.$$.root};s&&s(d.root);let g=!1;if(d.ctx=t?t(n,e.props||{},(y,b,...w)=>{const m=w.length?w[0]:b;return d.ctx&&o(d.ctx[y],d.ctx[y]=m)&&(!d.skip_bound&&d.bound[y]&&d.bound[y](m),g&&Ws(n,y)),b}):[],d.update(),g=!0,He(d.before_update),d.fragment=l?l(d.ctx):!1,e.target){if(e.hydrate){const y=Ts(e.target);d.fragment&&d.fragment.l(y),y.forEach(G)}else d.fragment&&d.fragment.c();e.intro&&x(n.$$.fragment),Mt(n,e.target,e.anchor),Kr()}dl(u)}class pn{constructor(){lo(this,"$$");lo(this,"$$set")}$destroy(){Dt(this,1),this.$destroy=ue}$on(e,t){if(!ft(t))return ue;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const o=l.indexOf(t);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!vs(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Vs="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Vs);const zn=[];function Ks(n,e=ue){let t;const l=new Set;function o(i){if(xt(n,i)&&(n=i,t)){const u=!zn.length;for(const d of l)d[1](),zn.push(d,n);if(u){for(let d=0;d<zn.length;d+=2)zn[d][0](zn[d+1]);zn.length=0}}}function r(i){o(i(n))}function s(i,u=ue){const d=[i,u];return l.add(d),l.size===1&&(t=e(o,r)||ue),i(n),()=>{l.delete(d),l.size===0&&t&&(t(),t=null)}}return{set:o,update:r,subscribe:s}}const Qs={nodesById:{},rootIds:[]},gt=Ks(Qs),Qr={subscribe:gt.subscribe};function _o(n,{includeChildren:e=!1}={}){const t=Array.isArray(n.children),l=t?[...n.children]:[],o=e?l.sort((i,u)=>(i.index??0)-(u.index??0)):[],s=l.filter(i=>!i.url).length>0;return{id:n.id,parentId:n.parentId??null,title:n.title??"",url:n.url??null,index:typeof n.index=="number"?n.index:0,isFolder:!n.url,childrenIds:e?o.map(i=>i.id):[],childrenLoaded:e,hasChildren:!n.url&&(e||t?s:!0)}}function Yr(n){gt.update(e=>{const t={...e.nodesById};let l=[...e.rootIds];for(const o of n){const r=t[o.id];t[o.id]=r?{...r,...o}:o,!o.parentId&&!l.includes(o.id)&&l.push(o.id)}return l.sort((o,r)=>{const s=t[o],i=t[r];return((s==null?void 0:s.index)??0)-((i==null?void 0:i.index)??0)}),{...e,nodesById:t,rootIds:l}})}function uo(n,e,t){gt.update(l=>{const o={...l.nodesById},r=o[n];if(!r)return l;const s=Array.from(new Set(e));s.sort((u,d)=>{const g=o[u],y=o[d];return((g==null?void 0:g.index)??0)-((y==null?void 0:y.index)??0)});const i=s.some(u=>{var d;return(d=o[u])==null?void 0:d.isFolder});return o[n]={...r,childrenIds:s,childrenLoaded:t?!0:r.childrenLoaded,hasChildren:i},{...l,nodesById:o}})}async function Ys(n){const e=await n.bookmarks.getTree(),t=Array.isArray(e)?e[0]:null,o=((t==null?void 0:t.children)??[]).map(r=>_o(r,{includeChildren:!1}));return gt.set({nodesById:Object.fromEntries(o.map(r=>[r.id,r])),rootIds:o.map(r=>r.id)}),o.map(r=>r.id)}async function Js(n){const e=await n.bookmarks.getTree(),t=Array.isArray(e)?e[0]:null;if(!t)return[];const l=[],o=[];function r(i,u=!1){const y=(Array.isArray(i.children)?[...i.children]:[]).sort((m,p)=>(m.index??0)-(p.index??0)),b=y.filter(m=>!m.url),w={id:i.id,parentId:i.parentId??null,title:i.title??"",url:i.url??null,index:typeof i.index=="number"?i.index:0,isFolder:!i.url,childrenIds:y.map(m=>m.id),childrenLoaded:!0,hasChildren:b.length>0};i.url||(l.push(w),u&&o.push(i.id));for(const m of b)r(m,!1)}const s=t.children??[];for(const i of s)r(i,!0);return gt.set({nodesById:Object.fromEntries(l.map(i=>[i.id,i])),rootIds:o}),o}function gn(){return Yn(gt)}function Jr(n){return Yn(gt).nodesById[n]}async function sl(n,e){const t=await n.bookmarks.getSubTree(e),l=Array.isArray(t)?t[0]:null;if(!l)return{folderIds:[]};const o=[l],r=[],s=[];for(;o.length;){const i=o.shift(),u=Array.isArray(i.children),d=_o(i,{includeChildren:u});r.push(d),i.url||s.push(i.id),u&&o.push(...i.children)}return Yr(r),r.forEach(i=>{if(i.isFolder&&uo(i.id,i.childrenIds,!0),i.parentId){const d=Yn(gt).nodesById[i.parentId];if(d){const g=d.childrenIds?[...d.childrenIds]:[];g.push(i.id),uo(i.parentId,g,d.childrenLoaded)}}}),{folderIds:s}}function Pl(n){const e=Yn(gt),t=[];let l=e.nodesById[n];for(;l&&(l.title&&t.unshift(l.title),!!l.parentId);)l=e.nodesById[l.parentId];return t}function Xs(n){const e=_o(n,{includeChildren:!1});if(Yr([e]),e.parentId){const t=Jr(e.parentId),l=t!=null&&t.childrenIds?[...t.childrenIds]:[];l.splice(e.index??l.length,0,e.id),uo(e.parentId,l,t==null?void 0:t.childrenLoaded)}}function Zs(n,e){gt.update(t=>{const l=t.nodesById[n];if(!l)return t;const o={...t.nodesById,[n]:{...l,...e}};return{...t,nodesById:o}})}function xs(n,{parentId:e,oldParentId:t,index:l}){gt.update(o=>{const r={...o.nodesById},s=r[n];if(!s)return o;const i={...s,parentId:e,index:typeof l=="number"?l:s.index};if(r[n]=i,t&&r[t]){const u=r[t],d=(u.childrenIds??[]).filter(y=>y!==n),g=d.some(y=>{var b;return(b=r[y])==null?void 0:b.isFolder});r[t]={...u,childrenIds:d,hasChildren:g}}if(e&&r[e]){const u=r[e],d=[...u.childrenIds??[]];d.includes(n)||d.splice(l??d.length,0,n);const g=d.some(y=>{var b;return(b=r[y])==null?void 0:b.isFolder});r[e]={...u,childrenIds:d,hasChildren:g}}return{...o,nodesById:r}})}function $s(n,{parentId:e}){gt.update(t=>{var i;const l={...t.nodesById},o=new Set([n]),r=[n];for(;r.length;){const u=r.pop(),d=l[u];d&&(i=d.childrenIds)!=null&&i.length&&d.childrenIds.forEach(g=>{o.has(g)||(o.add(g),r.push(g))})}o.forEach(u=>{delete l[u]});let s=t.rootIds;if(s.includes(n)&&(s=s.filter(u=>u!==n)),e&&l[e]){const u=l[e],d=(u.childrenIds??[]).filter(y=>y!==n),g=d.some(y=>{var b;return(b=l[y])==null?void 0:b.isFolder});l[e]={...u,childrenIds:d,hasChildren:g}}return{...t,nodesById:l,rootIds:s}})}function Dl(n){var o;const e=Yn(gt),t=[],l=[n];for(;l.length;){const r=l.pop(),s=e.nodesById[r];s&&s.isFolder&&(t.push(r),(o=s.childrenIds)!=null&&o.length&&s.childrenIds.forEach(i=>{const u=e.nodesById[i];u!=null&&u.isFolder&&l.push(i)}))}return t}function ea(){const n=Yn(gt);return Object.values(n.nodesById).filter(e=>e.isFolder).map(e=>({id:e.id,title:e.title??"",path:Pl(e.id)}))}function No(n,e,t){const l=n.slice();return l[26]=e[t],l}function Uo(n){let e,t,l,o,r,s,i,u,d,g,y,b,w,m=(n[12].title||"Untitled folder")+"",p,S,E,C,U,O,v,W=n[11]&&n[15]&&zo(n);return{c(){var A;e=_("li"),t=_("div"),l=_("button"),o=Lt("svg"),r=Lt("path"),d=L(),g=_("label"),y=_("input"),b=L(),w=_("span"),p=he(m),E=L(),W&&W.c(),a(r,"d","M6 4.5 10 8l-4 3.5"),a(r,"fill","none"),a(r,"stroke","currentColor"),a(r,"stroke-width","1.6"),a(r,"stroke-linecap","round"),a(r,"stroke-linejoin","round"),a(o,"viewBox","0 0 16 16"),a(o,"aria-hidden","true"),a(o,"focusable","false"),a(l,"type","button"),a(l,"class","folder-node__expander svelte-ux2jgn"),a(l,"aria-hidden",s=!n[11]),a(l,"aria-label",i=n[15]?"Collapse folder":"Expand folder"),l.disabled=u=!n[11],Ie(l,"hidden",!n[11]),a(y,"type","checkbox"),a(y,"class","folder-node__checkbox svelte-ux2jgn"),a(w,"class","folder-node__title svelte-ux2jgn"),a(w,"title",S=n[12].title||"Untitled folder"),a(g,"class","folder-node__label svelte-ux2jgn"),a(t,"class","folder-node__row svelte-ux2jgn"),a(t,"style",n[16]),a(e,"class","folder-node svelte-ux2jgn"),a(e,"data-expanded",n[15]),a(e,"data-depth",n[1]),a(e,"data-match",C=((A=n[5])==null?void 0:A.has(n[0]))??!1)},m(A,z){V(A,e,z),f(e,t),f(t,l),f(l,o),f(o,r),f(t,d),f(t,g),f(g,y),n[24](y),f(g,b),f(g,w),f(w,p),f(e,E),W&&W.m(e,null),U=!0,O||(v=[q(l,"click",n[17]),q(y,"change",n[18])],O=!0)},p(A,z){var P;(!U||z&2048&&s!==(s=!A[11]))&&a(l,"aria-hidden",s),(!U||z&32768&&i!==(i=A[15]?"Collapse folder":"Expand folder"))&&a(l,"aria-label",i),(!U||z&2048&&u!==(u=!A[11]))&&(l.disabled=u),(!U||z&2048)&&Ie(l,"hidden",!A[11]),(!U||z&4096)&&m!==(m=(A[12].title||"Untitled folder")+"")&&Me(p,m),(!U||z&4096&&S!==(S=A[12].title||"Untitled folder"))&&a(w,"title",S),A[11]&&A[15]?W?(W.p(A,z),z&34816&&x(W,1)):(W=zo(A),W.c(),x(W,1),W.m(e,null)):W&&(Ze(),re(W,1,1,()=>{W=null}),xe()),(!U||z&32768)&&a(e,"data-expanded",A[15]),(!U||z&2)&&a(e,"data-depth",A[1]),(!U||z&33&&C!==(C=((P=A[5])==null?void 0:P.has(A[0]))??!1))&&a(e,"data-match",C)},i(A){U||(x(W),U=!0)},o(A){re(W),U=!1},d(A){A&&G(e),n[24](null),W&&W.d(),O=!1,He(v)}}}function zo(n){let e,t=[],l=new Map,o,r=ke(n[13]);const s=i=>i[26];for(let i=0;i<r.length;i+=1){let u=No(n,r,i),d=s(u);l.set(d,t[i]=Ho(d,u))}return{c(){e=_("ul");for(let i=0;i<t.length;i+=1)t[i].c();a(e,"class","folder-node__children svelte-ux2jgn")},m(i,u){V(i,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(i,u){u&9214&&(r=ke(i[13]),Ze(),t=$t(t,u,s,1,i,r,l,e,Mn,Ho,null,No),xe())},i(i){if(!o){for(let u=0;u<r.length;u+=1)x(t[u]);o=!0}},o(i){for(let u=0;u<t.length;u+=1)re(t[u]);o=!1},d(i){i&&G(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Ho(n,e){let t,l,o;return l=new Xr({props:{nodeId:e[26],depth:e[1]+1,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[5],selectedIds:e[6],toggleSelection:e[7],toggleExpansion:e[8],getCheckboxState:e[9]}}),{key:n,first:null,c(){t=ht(),zt(l.$$.fragment),this.first=t},m(r,s){V(r,t,s),Mt(l,r,s),o=!0},p(r,s){e=r;const i={};s&8192&&(i.nodeId=e[26]),s&2&&(i.depth=e[1]+1),s&4&&(i.expandedIds=e[2]),s&8&&(i.loadingIds=e[3]),s&16&&(i.visibleIds=e[4]),s&32&&(i.searchMatches=e[5]),s&64&&(i.selectedIds=e[6]),s&128&&(i.toggleSelection=e[7]),s&256&&(i.toggleExpansion=e[8]),s&512&&(i.getCheckboxState=e[9]),l.$set(i)},i(r){o||(x(l.$$.fragment,r),o=!0)},o(r){re(l.$$.fragment,r),o=!1},d(r){r&&G(t),Dt(l,r)}}}function ta(n){let e,t,l=n[14]&&Uo(n);return{c(){l&&l.c(),e=ht()},m(o,r){l&&l.m(o,r),V(o,e,r),t=!0},p(o,[r]){o[14]?l?(l.p(o,r),r&16384&&x(l,1)):(l=Uo(o),l.c(),x(l,1),l.m(e.parentNode,e)):l&&(Ze(),re(l,1,1,()=>{l=null}),xe())},i(o){t||(x(l),t=!0)},o(o){re(l),t=!1},d(o){o&&G(e),l&&l.d(o)}}}function na(n,e,t){let l,o,r,s,i,u,d,g,y,b;Rr(n,Qr,J=>t(23,b=J));let{nodeId:w}=e,{depth:m=0}=e,{expandedIds:p}=e,{loadingIds:S}=e,{visibleIds:E}=e,{searchMatches:C}=e,{selectedIds:U}=e,{toggleSelection:O}=e,{toggleExpansion:v}=e,{getCheckboxState:W}=e,A;const z=`--depth: ${m}`;function P(J){J.stopPropagation(),i&&(v==null||v(w))}function K(J){J.stopPropagation(),O==null||O(w)}function X(J){Ut[J?"unshift":"push"](()=>{A=J,t(10,A),t(21,g),t(9,W),t(6,U),t(0,w)})}return n.$$set=J=>{"nodeId"in J&&t(0,w=J.nodeId),"depth"in J&&t(1,m=J.depth),"expandedIds"in J&&t(2,p=J.expandedIds),"loadingIds"in J&&t(3,S=J.loadingIds),"visibleIds"in J&&t(4,E=J.visibleIds),"searchMatches"in J&&t(5,C=J.searchMatches),"selectedIds"in J&&t(6,U=J.selectedIds),"toggleSelection"in J&&t(7,O=J.toggleSelection),"toggleExpansion"in J&&t(8,v=J.toggleExpansion),"getCheckboxState"in J&&t(9,W=J.getCheckboxState)},n.$$.update=()=>{var J,me;n.$$.dirty&8388608&&t(22,l=b),n.$$.dirty&4194305&&t(12,o=(J=l==null?void 0:l.nodesById)==null?void 0:J[w]),n.$$.dirty&4096&&t(20,r=(o==null?void 0:o.isFolder)??!1),n.$$.dirty&4198400&&t(13,s=((me=o==null?void 0:o.childrenIds)==null?void 0:me.filter(be=>{var ge;const Z=(ge=l==null?void 0:l.nodesById)==null?void 0:ge[be];return Z==null?void 0:Z.isFolder}))??[]),n.$$.dirty&1056768&&t(11,i=r&&s.length>0),n.$$.dirty&2053&&t(15,u=i&&(p==null?void 0:p.has(w))),n.$$.dirty&9&&(S==null||S.has(w)),n.$$.dirty&17&&t(19,d=!E||E.has(w)),n.$$.dirty&577&&t(21,g=W&&U?W(w):"none"),n.$$.dirty&2098176&&A&&(g==="partial"?(t(10,A.indeterminate=!0,A),t(10,A.checked=!1,A)):(t(10,A.indeterminate=!1,A),t(10,A.checked=g==="selected",A))),n.$$.dirty&1576960&&t(14,y=!!(o&&r&&d))},[w,m,p,S,E,C,U,O,v,W,A,i,o,s,y,u,z,P,K,d,r,g,l,b,X]}class Xr extends pn{constructor(e){super(),mn(this,e,na,ta,xt,{nodeId:0,depth:1,expandedIds:2,loadingIds:3,visibleIds:4,searchMatches:5,selectedIds:6,toggleSelection:7,toggleExpansion:8,getCheckboxState:9})}}function qo(n,e,t){const l=n.slice();return l[22]=e[t],l}function Go(n,e,t){const l=n.slice();return l[25]=e[t],l}function Wo(n){let e,t,l,o,r,s,i,u,d,g,y,b,w,m,p,S,E,C,U,O,v,W,A,z,P,K,X=n[9]===1?"":"s",J,me,be,Z,ge,qe,oe,ne,we=n[10]===1?"":"s",mt,$e,N,Ge,et,Ee,kt,ve,Pe,De,Oe;const rt=[oa,la],Re=[];function tt(Ce,ye){return Ce[1].length===0?0:1}w=tt(n),m=Re[w]=rt[w](n);let ae=n[9]>0&&Ko(n);function _t(Ce,ye){return Ce[8].length===0?ia:ra}let it=_t(n),Fe=it(n);return{c(){e=_("div"),t=_("section"),l=_("header"),o=_("div"),o.innerHTML='<h2 id="folder-modal-title">Select bookmark folders</h2> <p class="folder-modal__hint svelte-gn1lpb">Choose one or more folders to show in your new tab. Selecting a folder includes all of its subfolders.</p>',r=L(),s=_("button"),s.textContent="√ó",i=L(),u=_("div"),d=_("input"),g=L(),y=_("div"),b=_("div"),m.c(),p=L(),S=_("aside"),E=_("header"),C=_("h3"),C.textContent="Selected folders",U=L(),ae&&ae.c(),O=L(),Fe.c(),v=L(),W=_("footer"),A=_("div"),z=_("span"),P=he(n[9]),K=he(" folder"),J=he(X),me=he(" selected"),be=L(),Z=_("span"),Z.textContent="‚Ä¢",ge=L(),qe=_("span"),oe=he(n[10]),ne=he(" bookmark"),mt=he(we),$e=L(),N=_("div"),Ge=_("button"),Ge.textContent="Cancel",et=L(),Ee=_("button"),kt=he("Confirm selection"),a(s,"type","button"),a(s,"class","folder-modal__close svelte-gn1lpb"),a(s,"aria-label","Close"),a(l,"class","folder-modal__header svelte-gn1lpb"),a(d,"type","search"),a(d,"placeholder","Search folders"),d.value=n[5],a(d,"class","svelte-gn1lpb"),a(u,"class","folder-modal__search svelte-gn1lpb"),a(b,"class","folder-modal__tree svelte-gn1lpb"),a(E,"class","svelte-gn1lpb"),a(S,"class","folder-modal__summary svelte-gn1lpb"),a(y,"class","folder-modal__body svelte-gn1lpb"),a(Z,"aria-hidden","true"),a(A,"class","folder-modal__totals svelte-gn1lpb"),a(Ge,"type","button"),a(Ge,"class","ghost-button svelte-gn1lpb"),a(Ee,"type","button"),a(Ee,"class","primary-button svelte-gn1lpb"),Ee.disabled=ve=n[9]===0,a(N,"class","folder-modal__actions svelte-gn1lpb"),a(W,"class","folder-modal__footer svelte-gn1lpb"),a(t,"class","folder-modal svelte-gn1lpb"),a(t,"role","dialog"),a(t,"aria-modal","true"),a(t,"aria-labelledby","folder-modal-title"),a(e,"class","modal-overlay svelte-gn1lpb"),a(e,"role","presentation")},m(Ce,ye){V(Ce,e,ye),f(e,t),f(t,l),f(l,o),f(l,r),f(l,s),f(t,i),f(t,u),f(u,d),n[21](d),f(t,g),f(t,y),f(y,b),Re[w].m(b,null),f(y,p),f(y,S),f(S,E),f(E,C),f(E,U),ae&&ae.m(E,null),f(S,O),Fe.m(S,null),f(t,v),f(t,W),f(W,A),f(A,z),f(z,P),f(z,K),f(z,J),f(z,me),f(A,be),f(A,Z),f(A,ge),f(A,qe),f(qe,oe),f(qe,ne),f(qe,mt),f(W,$e),f(W,N),f(N,Ge),f(N,et),f(N,Ee),f(Ee,kt),Pe=!0,De||(Oe=[q(s,"click",function(){ft(n[14])&&n[14].apply(this,arguments)}),q(d,"input",n[19]),q(Ge,"click",function(){ft(n[14])&&n[14].apply(this,arguments)}),q(Ee,"click",function(){ft(n[15])&&n[15].apply(this,arguments)}),q(e,"click",n[18])],De=!0)},p(Ce,ye){n=Ce,(!Pe||ye&32&&d.value!==n[5])&&(d.value=n[5]);let _e=w;w=tt(n),w===_e?Re[w].p(n,ye):(Ze(),re(Re[_e],1,1,()=>{Re[_e]=null}),xe(),m=Re[w],m?m.p(n,ye):(m=Re[w]=rt[w](n),m.c()),x(m,1),m.m(b,null)),n[9]>0?ae?ae.p(n,ye):(ae=Ko(n),ae.c(),ae.m(E,null)):ae&&(ae.d(1),ae=null),it===(it=_t(n))&&Fe?Fe.p(n,ye):(Fe.d(1),Fe=it(n),Fe&&(Fe.c(),Fe.m(S,null))),(!Pe||ye&512)&&Me(P,n[9]),(!Pe||ye&512)&&X!==(X=n[9]===1?"":"s")&&Me(J,X),(!Pe||ye&1024)&&Me(oe,n[10]),(!Pe||ye&1024)&&we!==(we=n[10]===1?"":"s")&&Me(mt,we),(!Pe||ye&512&&ve!==(ve=n[9]===0))&&(Ee.disabled=ve)},i(Ce){Pe||(x(m),Pe=!0)},o(Ce){re(m),Pe=!1},d(Ce){Ce&&G(e),n[21](null),Re[w].d(),ae&&ae.d(),Fe.d(),De=!1,He(Oe)}}}function la(n){let e,t=[],l=new Map,o,r=ke(n[1]);const s=i=>i[25];for(let i=0;i<r.length;i+=1){let u=Go(n,r,i),d=s(u);l.set(d,t[i]=Vo(d,u))}return{c(){e=_("ul");for(let i=0;i<t.length;i+=1)t[i].c();a(e,"class","folder-tree svelte-gn1lpb")},m(i,u){V(i,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(i,u){u&14558&&(r=ke(i[1]),Ze(),t=$t(t,u,s,1,i,r,l,e,Mn,Vo,null,Go),xe())},i(i){if(!o){for(let u=0;u<r.length;u+=1)x(t[u]);o=!0}},o(i){for(let u=0;u<t.length;u+=1)re(t[u]);o=!1},d(i){i&&G(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function oa(n){let e;return{c(){e=_("p"),e.textContent="No bookmark folders available.",a(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,l){V(t,e,l)},p:ue,i:ue,o:ue,d(t){t&&G(e)}}}function Vo(n,e){let t,l,o;return l=new Xr({props:{nodeId:e[25],depth:0,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[6],selectedIds:e[7],toggleSelection:e[11],toggleExpansion:e[12],getCheckboxState:e[13]}}),{key:n,first:null,c(){t=ht(),zt(l.$$.fragment),this.first=t},m(r,s){V(r,t,s),Mt(l,r,s),o=!0},p(r,s){e=r;const i={};s&2&&(i.nodeId=e[25]),s&4&&(i.expandedIds=e[2]),s&8&&(i.loadingIds=e[3]),s&16&&(i.visibleIds=e[4]),s&64&&(i.searchMatches=e[6]),s&128&&(i.selectedIds=e[7]),s&2048&&(i.toggleSelection=e[11]),s&4096&&(i.toggleExpansion=e[12]),s&8192&&(i.getCheckboxState=e[13]),l.$set(i)},i(r){o||(x(l.$$.fragment,r),o=!0)},o(r){re(l.$$.fragment,r),o=!1},d(r){r&&G(t),Dt(l,r)}}}function Ko(n){let e,t,l;return{c(){e=_("button"),e.textContent="Clear all",a(e,"type","button"),a(e,"class","summary-clear svelte-gn1lpb")},m(o,r){V(o,e,r),t||(l=q(e,"click",function(){ft(n[16])&&n[16].apply(this,arguments)}),t=!0)},p(o,r){n=o},d(o){o&&G(e),t=!1,l()}}}function ra(n){let e,t=[],l=new Map,o=ke(n[8]);const r=s=>s[22].id;for(let s=0;s<o.length;s+=1){let i=qo(n,o,s),u=r(i);l.set(u,t[s]=Yo(u,i))}return{c(){e=_("ul");for(let s=0;s<t.length;s+=1)t[s].c();a(e,"class","folder-modal__selection-list svelte-gn1lpb")},m(s,i){V(s,e,i);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null)},p(s,i){i&256&&(o=ke(s[8]),t=$t(t,i,r,1,s,o,l,e,ko,Yo,null,qo))},d(s){s&&G(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function ia(n){let e;return{c(){e=_("p"),e.textContent="Pick folders to see them here.",a(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,l){V(t,e,l)},p:ue,d(t){t&&G(e)}}}function Qo(n){let e,t=n[22].count+"",l;return{c(){e=_("span"),l=he(t),a(e,"class","selection-chip__count svelte-gn1lpb")},m(o,r){V(o,e,r),f(e,l)},p(o,r){r&256&&t!==(t=o[22].count+"")&&Me(l,t)},d(o){o&&G(e)}}}function Yo(n,e){let t,l,o,r=e[22].label+"",s,i,u,d,g=typeof e[22].count=="number"&&Qo(e);return{key:n,first:null,c(){t=_("li"),l=_("span"),o=_("span"),s=he(r),i=L(),g&&g.c(),d=L(),a(o,"class","selection-chip__label svelte-gn1lpb"),a(l,"class","selection-chip svelte-gn1lpb"),a(l,"title",u=e[22].fullPath),this.first=t},m(y,b){V(y,t,b),f(t,l),f(l,o),f(o,s),f(l,i),g&&g.m(l,null),f(t,d)},p(y,b){e=y,b&256&&r!==(r=e[22].label+"")&&Me(s,r),typeof e[22].count=="number"?g?g.p(e,b):(g=Qo(e),g.c(),g.m(l,null)):g&&(g.d(1),g=null),b&256&&u!==(u=e[22].fullPath)&&a(l,"title",u)},d(y){y&&G(t),g&&g.d()}}}function sa(n){let e,t,l=n[0]&&Wo(n);return{c(){l&&l.c(),e=ht()},m(o,r){l&&l.m(o,r),V(o,e,r),t=!0},p(o,[r]){o[0]?l?(l.p(o,r),r&1&&x(l,1)):(l=Wo(o),l.c(),x(l,1),l.m(e.parentNode,e)):l&&(Ze(),re(l,1,1,()=>{l=null}),xe())},i(o){t||(x(l),t=!0)},o(o){re(l),t=!1},d(o){o&&G(e),l&&l.d(o)}}}function aa(n,e,t){let{open:l=!1}=e,{rootIds:o=[]}=e,{expandedIds:r}=e,{loadingIds:s}=e,{visibleIds:i}=e,{searchQuery:u=""}=e,{searchMatches:d}=e,{selectedIds:g}=e,{summary:y=[]}=e,{selectedFolderCount:b=0}=e,{totalBookmarkCount:w=0}=e,{toggleSelection:m}=e,{toggleExpansion:p}=e,{getCheckboxState:S}=e,{onSearchChange:E}=e,{onRequestClose:C}=e,{onConfirmSelection:U}=e,{onClearSelection:O}=e,v;function W(P){P.target===P.currentTarget&&(P.preventDefault(),C==null||C())}function A(P){E==null||E(P.target.value)}function z(P){Ut[P?"unshift":"push"](()=>{v=P,t(17,v)})}return n.$$set=P=>{"open"in P&&t(0,l=P.open),"rootIds"in P&&t(1,o=P.rootIds),"expandedIds"in P&&t(2,r=P.expandedIds),"loadingIds"in P&&t(3,s=P.loadingIds),"visibleIds"in P&&t(4,i=P.visibleIds),"searchQuery"in P&&t(5,u=P.searchQuery),"searchMatches"in P&&t(6,d=P.searchMatches),"selectedIds"in P&&t(7,g=P.selectedIds),"summary"in P&&t(8,y=P.summary),"selectedFolderCount"in P&&t(9,b=P.selectedFolderCount),"totalBookmarkCount"in P&&t(10,w=P.totalBookmarkCount),"toggleSelection"in P&&t(11,m=P.toggleSelection),"toggleExpansion"in P&&t(12,p=P.toggleExpansion),"getCheckboxState"in P&&t(13,S=P.getCheckboxState),"onSearchChange"in P&&t(20,E=P.onSearchChange),"onRequestClose"in P&&t(14,C=P.onRequestClose),"onConfirmSelection"in P&&t(15,U=P.onConfirmSelection),"onClearSelection"in P&&t(16,O=P.onClearSelection)},n.$$.update=()=>{if(n.$$.dirty&147457&&l){Nl().then(()=>{v==null||v.focus(),v==null||v.select()});const P=K=>{K.key==="Escape"&&(K.preventDefault(),C==null||C())};document.addEventListener("keydown",P,{once:!0})}},[l,o,r,s,i,u,d,g,y,b,w,m,p,S,C,U,O,v,W,A,E,z]}class ca extends pn{constructor(e){super(),mn(this,e,aa,sa,xt,{open:0,rootIds:1,expandedIds:2,loadingIds:3,visibleIds:4,searchQuery:5,searchMatches:6,selectedIds:7,summary:8,selectedFolderCount:9,totalBookmarkCount:10,toggleSelection:11,toggleExpansion:12,getCheckboxState:13,onSearchChange:20,onRequestClose:14,onConfirmSelection:15,onClearSelection:16})}}function Jo(n,e,t){const l=n.slice();return l[18]=e[t],l}function Xo(n){let e,t,l,o,r,s,i,u,d,g,y,b,w=[],m=new Map,p,S,E,C,U,O,v,W,A,z,P,K,X,J,me,be,Z,ge=ke(n[1]);const qe=oe=>oe[18].id;for(let oe=0;oe<ge.length;oe+=1){let ne=Jo(n,ge,oe),we=qe(ne);m.set(we,w[oe]=xo(we,ne))}return{c(){e=_("div"),t=_("section"),l=_("header"),o=_("h2"),o.textContent="Add New Shortcut",r=L(),s=_("button"),s.textContent="√ó",i=L(),u=_("form"),d=_("div"),g=_("label"),g.innerHTML=`Folder
            <span class="form-hint svelte-1xx9qid">Where to save the shortcut</span>`,y=L(),b=_("select");for(let oe=0;oe<w.length;oe+=1)w[oe].c();p=L(),S=_("div"),E=_("label"),E.innerHTML=`URL
            <span class="form-hint svelte-1xx9qid">The website address</span>`,C=L(),U=_("input"),O=L(),v=_("div"),W=_("label"),W.innerHTML=`Title
            <span class="form-hint svelte-1xx9qid">Display name for the shortcut</span>`,A=L(),z=_("input"),P=L(),K=_("div"),X=_("button"),X.textContent="Cancel",J=L(),me=_("button"),me.textContent="Add Shortcut",a(o,"id","add-shortcut-modal-title"),a(o,"class","svelte-1xx9qid"),a(s,"type","button"),a(s,"class","add-shortcut-modal__close svelte-1xx9qid"),a(s,"aria-label","Close"),a(l,"class","add-shortcut-modal__header svelte-1xx9qid"),a(g,"for","shortcut-folder"),a(g,"class","svelte-1xx9qid"),a(b,"id","shortcut-folder"),b.required=!0,a(b,"class","svelte-1xx9qid"),n[2]===void 0&&Zt(()=>n[14].call(b)),a(d,"class","form-group svelte-1xx9qid"),a(E,"for","shortcut-url"),a(E,"class","svelte-1xx9qid"),a(U,"id","shortcut-url"),a(U,"type","url"),a(U,"placeholder","https://example.com"),U.required=!0,a(U,"class","svelte-1xx9qid"),a(S,"class","form-group svelte-1xx9qid"),a(W,"for","shortcut-title"),a(W,"class","svelte-1xx9qid"),a(z,"id","shortcut-title"),a(z,"type","text"),a(z,"placeholder","Example Site"),z.required=!0,a(z,"class","svelte-1xx9qid"),a(v,"class","form-group svelte-1xx9qid"),a(X,"type","button"),a(X,"class","button button--secondary svelte-1xx9qid"),a(me,"type","submit"),a(me,"class","button button--primary svelte-1xx9qid"),a(K,"class","add-shortcut-modal__actions svelte-1xx9qid"),a(u,"class","add-shortcut-modal__form svelte-1xx9qid"),a(t,"class","add-shortcut-modal svelte-1xx9qid"),a(t,"role","dialog"),a(t,"aria-modal","true"),a(t,"aria-labelledby","add-shortcut-modal-title"),a(e,"class","modal-overlay svelte-1xx9qid"),a(e,"role","presentation")},m(oe,ne){V(oe,e,ne),f(e,t),f(t,l),f(l,o),f(l,r),f(l,s),f(t,i),f(t,u),f(u,d),f(d,g),f(d,y),f(d,b);for(let we=0;we<w.length;we+=1)w[we]&&w[we].m(b,null);jo(b,n[2],!0),f(u,p),f(u,S),f(S,E),f(S,C),f(S,U),n[15](U),Vn(U,n[4]),f(u,O),f(u,v),f(v,W),f(v,A),f(v,z),Vn(z,n[5]),f(u,P),f(u,K),f(K,X),f(K,J),f(K,me),be||(Z=[q(s,"click",n[7]),q(b,"change",n[14]),q(U,"input",n[16]),q(U,"blur",n[8]),q(z,"input",n[17]),q(X,"click",n[7]),q(u,"submit",n[9]),q(e,"click",n[6])],be=!0)},p(oe,ne){ne&2&&(ge=ke(oe[1]),w=$t(w,ne,qe,1,oe,ge,m,b,ko,xo,null,Jo)),ne&6&&jo(b,oe[2]),ne&16&&U.value!==oe[4]&&Vn(U,oe[4]),ne&32&&z.value!==oe[5]&&Vn(z,oe[5])},d(oe){oe&&G(e);for(let ne=0;ne<w.length;ne+=1)w[ne].d();n[15](null),be=!1,He(Z)}}}function Zo(n){let e,t=n[18].count+"",l,o;return{c(){e=he("("),l=he(t),o=he(")")},m(r,s){V(r,e,s),V(r,l,s),V(r,o,s)},p(r,s){s&2&&t!==(t=r[18].count+"")&&Me(l,t)},d(r){r&&(G(e),G(l),G(o))}}}function xo(n,e){let t,l=$o(e[18])+"",o,r,s,i,u=e[18].count!==void 0&&Zo(e);return{key:n,first:null,c(){t=_("option"),o=he(l),r=L(),u&&u.c(),s=L(),t.__value=i=e[18].id,Vn(t,t.__value),this.first=t},m(d,g){V(d,t,g),f(t,o),f(t,r),u&&u.m(t,null),f(t,s)},p(d,g){e=d,g&2&&l!==(l=$o(e[18])+"")&&Me(o,l),e[18].count!==void 0?u?u.p(e,g):(u=Zo(e),u.c(),u.m(t,s)):u&&(u.d(1),u=null),g&2&&i!==(i=e[18].id)&&(t.__value=i,Vn(t,t.__value))},d(d){d&&G(t),u&&u.d()}}}function ua(n){let e,t=n[0]&&Xo(n);return{c(){t&&t.c(),e=ht()},m(l,o){t&&t.m(l,o),V(l,e,o)},p(l,[o]){l[0]?t?t.p(l,o):(t=Xo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ue,o:ue,d(l){l&&G(e),t&&t.d(l)}}}function $o(n){return n.fullPath||n.label||"Untitled folder"}function da(n,e,t){let{open:l=!1}=e,{folders:o=[]}=e,{defaultFolderId:r=null}=e,{onConfirm:s=null}=e,{onClose:i=null}=e,u="",d="",g="",y,b=!1;function w(v){v.target===v.currentTarget&&(v.preventDefault(),m())}function m(){i==null||i()}function p(){if(!g&&d)try{const v=new URL(d);t(5,g=v.hostname.replace(/^www\./,""))}catch{}}function S(v){if(v.preventDefault(),!u){alert("Please select a folder.");return}if(!d.trim()){alert("Please enter a URL.");return}if(!g.trim()){alert("Please enter a title.");return}s==null||s({folderId:u,url:d.trim(),title:g.trim()})}function E(){u=Ms(this),t(2,u),t(0,l),t(1,o),t(10,r),t(13,b),t(3,y),t(1,o)}function C(v){Ut[v?"unshift":"push"](()=>{y=v,t(3,y)})}function U(){d=this.value,t(4,d),t(0,l),t(13,b),t(10,r),t(1,o),t(3,y)}function O(){g=this.value,t(5,g),t(0,l),t(13,b),t(10,r),t(1,o),t(3,y)}return n.$$set=v=>{"open"in v&&t(0,l=v.open),"folders"in v&&t(1,o=v.folders),"defaultFolderId"in v&&t(10,r=v.defaultFolderId),"onConfirm"in v&&t(11,s=v.onConfirm),"onClose"in v&&t(12,i=v.onClose)},n.$$.update=()=>{if(n.$$.dirty&1031&&l&&o.length>0&&(u&&o.some(W=>W.id===u)||t(2,u=r||o[0].id)),n.$$.dirty&9227)if(l&&!b){t(13,b=!0),t(4,d=""),t(5,g=""),t(2,u=r||(o.length>0?o[0].id:"")),Nl().then(()=>{y==null||y.focus()});const v=W=>{W.key==="Escape"&&(W.preventDefault(),m())};document.addEventListener("keydown",v,{once:!0})}else!l&&b&&t(13,b=!1)},[l,o,u,y,d,g,w,m,p,S,r,s,i,b,E,C,U,O]}class fa extends pn{constructor(e){super(),mn(this,e,da,ua,xt,{open:0,folders:1,defaultFolderId:10,onConfirm:11,onClose:12})}}function ha(n){let e,t,l,o;return{c(){e=_("img"),Po(e.src,t=n[8])||a(e,"src",t),a(e,"alt",""),a(e,"loading","lazy")},m(r,s){V(r,e,s),l||(o=q(e,"error",n[13]),l=!0)},p(r,s){s[0]&256&&!Po(e.src,t=r[8])&&a(e,"src",t)},d(r){r&&G(e),l=!1,o()}}}function ga(n){let e=n[0].initials+"",t;return{c(){t=he(e)},m(l,o){V(l,t,o)},p(l,o){o[0]&1&&e!==(e=l[0].initials+"")&&Me(t,e)},d(l){l&&G(t)}}}function er(n){let e,t,l,o,r,s;return{c(){e=_("div"),t=_("button"),t.textContent="Edit",l=L(),o=_("button"),o.textContent="Remove",a(t,"type","button"),a(t,"role","menuitem"),a(t,"class","tile-menu__item"),a(o,"type","button"),a(o,"role","menuitem"),a(o,"class","tile-menu__item tile-menu__item--danger"),a(e,"class","tile-menu"),a(e,"role","menu")},m(i,u){V(i,e,u),f(e,t),f(e,l),f(e,o),r||(s=[q(t,"click",n[11]),q(o,"click",n[12])],r=!0)},p:ue,d(i){i&&G(e),r=!1,He(s)}}}function ma(n){let e,t,l,o,r,s,i=n[0].displayTitle+"",u,d,g,y,b,w,m,p,S,E,C,U,O,v;function W(K,X){return K[0].fallback?ga:ha}let A=W(n),z=A(n),P=n[2]&&er(n);return{c(){e=_("article"),t=_("a"),l=_("div"),z.c(),r=L(),s=_("div"),u=he(i),y=L(),b=_("div"),w=_("button"),m=Lt("svg"),p=Lt("circle"),S=Lt("circle"),E=Lt("circle"),U=L(),P&&P.c(),a(l,"class","tile-icon"),a(l,"style",o=`--dial-color: ${n[0].palette.background}; --dial-text: ${n[0].palette.text};`),a(l,"aria-hidden","true"),a(s,"class","tile-title"),Ie(s,"tile-title--pill",n[1]),a(t,"class","tile-link"),a(t,"href",d=n[0].url||"#!"),a(t,"title",g=n[0].title||n[0].url||"Shortcut"),a(t,"draggable","false"),a(p,"cx","8"),a(p,"cy","3.5"),a(p,"r","1.25"),a(S,"cx","8"),a(S,"cy","8"),a(S,"r","1.25"),a(E,"cx","8"),a(E,"cy","12.5"),a(E,"r","1.25"),a(m,"viewBox","0 0 16 16"),a(m,"aria-hidden","true"),a(m,"focusable","false"),a(w,"class","tile-menu-button"),a(w,"type","button"),a(w,"aria-haspopup","true"),a(w,"aria-expanded",n[2]),a(w,"aria-label",C=`Open options for ${n[7]}`),Ie(w,"tile-menu-button--active",n[2]),a(b,"class","tile-actions"),a(e,"class","tile"),a(e,"draggable",n[9]),Ie(e,"tile--focused",n[3]),Ie(e,"tile--dragging",n[4]),Ie(e,"tile--drag-over",n[5]),Ie(e,"tile--top-site",n[6])},m(K,X){V(K,e,X),f(e,t),f(t,l),z.m(l,null),f(t,r),f(t,s),f(s,u),f(e,y),f(e,b),f(b,w),f(w,m),f(m,p),f(m,S),f(m,E),f(b,U),P&&P.m(b,null),O||(v=[q(t,"focus",n[15]),q(w,"click",n[10]),q(e,"contextmenu",n[14]),q(e,"dragstart",n[16]),q(e,"dragover",n[17]),q(e,"dragleave",n[18]),q(e,"drop",n[19]),q(e,"dragend",n[20])],O=!0)},p(K,X){A===(A=W(K))&&z?z.p(K,X):(z.d(1),z=A(K),z&&(z.c(),z.m(l,null))),X[0]&1&&o!==(o=`--dial-color: ${K[0].palette.background}; --dial-text: ${K[0].palette.text};`)&&a(l,"style",o),X[0]&1&&i!==(i=K[0].displayTitle+"")&&Me(u,i),X[0]&2&&Ie(s,"tile-title--pill",K[1]),X[0]&1&&d!==(d=K[0].url||"#!")&&a(t,"href",d),X[0]&1&&g!==(g=K[0].title||K[0].url||"Shortcut")&&a(t,"title",g),X[0]&4&&a(w,"aria-expanded",K[2]),X[0]&128&&C!==(C=`Open options for ${K[7]}`)&&a(w,"aria-label",C),X[0]&4&&Ie(w,"tile-menu-button--active",K[2]),K[2]?P?P.p(K,X):(P=er(K),P.c(),P.m(b,null)):P&&(P.d(1),P=null),X[0]&512&&a(e,"draggable",K[9]),X[0]&8&&Ie(e,"tile--focused",K[3]),X[0]&16&&Ie(e,"tile--dragging",K[4]),X[0]&32&&Ie(e,"tile--drag-over",K[5]),X[0]&64&&Ie(e,"tile--top-site",K[6])},i:ue,o:ue,d(K){K&&G(e),z.d(),P&&P.d(),O=!1,He(v)}}}function pa(n,e,t){let l,o,r,{bookmark:s}=e,{titleBackdrop:i=!1}=e,{menuOpen:u=!1}=e,{focused:d=!1}=e,{dragging:g=!1}=e,{dragOver:y=!1}=e,{isTopSite:b=!1}=e,{onToggleMenu:w=()=>{}}=e,{onEdit:m=()=>{}}=e,{onRemove:p=()=>{}}=e,{onFallback:S=()=>{}}=e,{onContextMenu:E=()=>{}}=e,{onFocus:C=()=>{}}=e,{onDragStart:U=()=>{}}=e,{onDragOver:O=()=>{}}=e,{onDragLeave:v=()=>{}}=e,{onDrop:W=()=>{}}=e,{onDragEnd:A=()=>{}}=e,{getFaviconUrl:z=()=>""}=e,P="Shortcut",K="",X=null;function J(N){N.preventDefault(),N.stopPropagation(),w==null||w()}function me(N){N.preventDefault(),N.stopPropagation(),m==null||m()}function be(N){N.preventDefault(),N.stopPropagation(),p==null||p()}function Z(){S==null||S()}function ge(N){N.preventDefault(),E==null||E(N)}function qe(){C==null||C()}function oe(N){if(!r){N.preventDefault();return}U==null||U(N)}function ne(N){r&&(N.preventDefault(),O==null||O(N))}function we(N){r&&(v==null||v(N))}function mt(N){r&&(N.preventDefault(),W==null||W(N))}function $e(N){r&&(A==null||A(N))}return n.$$set=N=>{"bookmark"in N&&t(0,s=N.bookmark),"titleBackdrop"in N&&t(1,i=N.titleBackdrop),"menuOpen"in N&&t(2,u=N.menuOpen),"focused"in N&&t(3,d=N.focused),"dragging"in N&&t(4,g=N.dragging),"dragOver"in N&&t(5,y=N.dragOver),"isTopSite"in N&&t(6,b=N.isTopSite),"onToggleMenu"in N&&t(21,w=N.onToggleMenu),"onEdit"in N&&t(22,m=N.onEdit),"onRemove"in N&&t(23,p=N.onRemove),"onFallback"in N&&t(24,S=N.onFallback),"onContextMenu"in N&&t(25,E=N.onContextMenu),"onFocus"in N&&t(26,C=N.onFocus),"onDragStart"in N&&t(27,U=N.onDragStart),"onDragOver"in N&&t(28,O=N.onDragOver),"onDragLeave"in N&&t(29,v=N.onDragLeave),"onDrop"in N&&t(30,W=N.onDrop),"onDragEnd"in N&&t(31,A=N.onDragEnd),"getFaviconUrl"in N&&t(32,z=N.getFaviconUrl)},n.$$.update=()=>{if(n.$$.dirty[0]&1&&t(7,P=(s==null?void 0:s.displayTitle)||(s==null?void 0:s.title)||(s==null?void 0:s.url)||"Shortcut"),n.$$.dirty[0]&1&&t(35,l=s==null?void 0:s.url),n.$$.dirty[0]&1&&t(34,o=s==null?void 0:s.fallback),n.$$.dirty[1]&30)if(l&&!o&&l!==X){t(33,X=l);const N=l;t(8,K=""),z(N).then(Ge=>{N===X&&(Ge?t(8,K=Ge):Z())}).catch(()=>{N===X&&Z()})}else o&&(t(33,X=null),t(8,K=""));n.$$.dirty[0]&64&&t(9,r=!b)},[s,i,u,d,g,y,b,P,K,r,J,me,be,Z,ge,qe,oe,ne,we,mt,$e,w,m,p,S,E,C,U,O,v,W,A,z,X,o,l]}class wo extends pn{constructor(e){super(),mn(this,e,pa,ma,xt,{bookmark:0,titleBackdrop:1,menuOpen:2,focused:3,dragging:4,dragOver:5,isTopSite:6,onToggleMenu:21,onEdit:22,onRemove:23,onFallback:24,onContextMenu:25,onFocus:26,onDragStart:27,onDragOver:28,onDragLeave:29,onDrop:30,onDragEnd:31,getFaviconUrl:32},null,[-1,-1])}}function Zr(n){const e=n-1;return e*e*e+1}function fo(n,{delay:e=0,duration:t=400,easing:l=ml}={}){const o=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:l,css:r=>`opacity: ${r*o}`}}function ho(n,{delay:e=0,duration:t=400,easing:l=Zr,x:o=0,y:r=0,opacity:s=0}={}){const i=getComputedStyle(n),u=+i.opacity,d=i.transform==="none"?"":i.transform,g=u*(1-s),[y,b]=Oo(o),[w,m]=Oo(r);return{delay:e,duration:t,easing:l,css:(p,S)=>`
			transform: ${d} translate(${(1-p)*y}${b}, ${(1-p)*w}${m});
			opacity: ${u-g*S}`}}function ba(n,{from:e,to:t},l={}){const o=getComputedStyle(n),r=o.transform==="none"?"":o.transform,[s,i]=o.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*s/t.width-(t.left+s),d=e.top+e.height*i/t.height-(t.top+i),{delay:g=0,duration:y=w=>Math.sqrt(w)*120,easing:b=Zr}=l;return{delay:g,duration:ft(y)?y(Math.sqrt(u*u+d*d)):y,easing:b,css:(w,m)=>{const p=m*u,S=m*d,E=w+m*e.width/t.width,C=w+m*e.height/t.height;return`transform: ${r} translate(${p}px, ${S}px) scale(${E}, ${C});`}}}function tr(n,e,t){const l=n.slice();return l[7]=e[t],l}function nr(n){let e,t,l;function o(){return n[5](n[7])}return{c(){e=_("button"),e.textContent="Undo",a(e,"type","button"),a(e,"class","toast__undo svelte-f4o70y")},m(r,s){V(r,e,s),t||(l=q(e,"click",o),t=!0)},p(r,s){n=r},d(r){r&&G(e),t=!1,l()}}}function lr(n,e){let t,l,o=e[7].message+"",r,s,i,u,d,g,y,b,w,m=ue,p,S,E,C=e[7].undoData&&nr(e);function U(){return e[6](e[7])}return{key:n,first:null,c(){t=_("div"),l=_("span"),r=he(o),s=L(),i=_("div"),C&&C.c(),u=L(),d=_("button"),d.textContent="√ó",g=L(),a(l,"class","toast__message svelte-f4o70y"),a(d,"type","button"),a(d,"class","toast__dismiss svelte-f4o70y"),a(d,"aria-label","Dismiss notification"),a(i,"class","toast__actions svelte-f4o70y"),a(t,"class","toast svelte-f4o70y"),a(t,"role","alert"),Ie(t,"toast--success",e[7].type==="success"),Ie(t,"toast--error",e[7].type==="error"),Ie(t,"toast--info",e[7].type==="info"),this.first=t},m(O,v){V(O,t,v),f(t,l),f(l,r),f(t,s),f(t,i),C&&C.m(i,null),f(i,u),f(i,d),f(t,g),p=!0,S||(E=q(d,"click",U),S=!0)},p(O,v){e=O,(!p||v&1)&&o!==(o=e[7].message+"")&&Me(r,o),e[7].undoData?C?C.p(e,v):(C=nr(e),C.c(),C.m(i,u)):C&&(C.d(1),C=null),(!p||v&1)&&Ie(t,"toast--success",e[7].type==="success"),(!p||v&1)&&Ie(t,"toast--error",e[7].type==="error"),(!p||v&1)&&Ie(t,"toast--info",e[7].type==="info")},r(){w=t.getBoundingClientRect()},f(){Os(t),m(),qr(t,w)},a(){m(),m=Ps(t,w,ba,{duration:250})},i(O){p||(O&&Zt(()=>{p&&(b&&b.end(1),y=Hs(t,ho,{y:50,duration:250}),y.start())}),p=!0)},o(O){y&&y.invalidate(),O&&(b=qs(t,fo,{duration:150})),p=!1},d(O){O&&G(t),C&&C.d(),O&&b&&b.end(),S=!1,E()}}}function ka(n){let e,t=[],l=new Map,o,r=ke(n[0]);const s=i=>i[7].id;for(let i=0;i<r.length;i+=1){let u=tr(n,r,i),d=s(u);l.set(d,t[i]=lr(d,u))}return{c(){e=_("div");for(let i=0;i<t.length;i+=1)t[i].c();a(e,"class","toast-container svelte-f4o70y"),a(e,"aria-live","polite"),a(e,"aria-label","Notifications")},m(i,u){V(i,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(i,[u]){if(u&7){r=ke(i[0]),Ze();for(let d=0;d<t.length;d+=1)t[d].r();t=$t(t,u,s,1,i,r,l,e,Gs,lr,null,tr);for(let d=0;d<t.length;d+=1)t[d].a();xe()}},i(i){if(!o){for(let u=0;u<r.length;u+=1)x(t[u]);o=!0}},o(i){for(let u=0;u<t.length;u+=1)re(t[u]);o=!1},d(i){i&&G(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function _a(n,e,t){let{toasts:l=[]}=e,{onDismiss:o=()=>{}}=e,{onUndo:r=()=>{}}=e;function s(g){o==null||o(g)}function i(g){r==null||r(g)}const u=g=>i(g),d=g=>s(g.id);return n.$$set=g=>{"toasts"in g&&t(0,l=g.toasts),"onDismiss"in g&&t(3,o=g.onDismiss),"onUndo"in g&&t(4,r=g.onUndo)},[l,s,i,o,r,u,d]}class wa extends pn{constructor(e){super(),mn(this,e,_a,ka,xt,{toasts:0,onDismiss:3,onUndo:4})}}function or(n){let e,t,l,o,r,s,i,u,d,g,y,b,w;return{c(){e=_("div"),t=_("article"),l=_("header"),l.innerHTML='<h2 id="welcome-title" class="svelte-1g41oro">Welcome to Bookmark Dial</h2> <p class="welcome-subtitle svelte-1g41oro">Your new tab, reimagined.</p>',o=L(),r=_("div"),r.innerHTML='<section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üìÅ</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Select Your Folders</h3> <p class="svelte-1g41oro">Open <strong class="svelte-1g41oro">Settings</strong> (gear icon) and click <strong class="svelte-1g41oro">Manage folders</strong> to choose which bookmark folders appear on your new tab.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚ûï</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Add Shortcuts</h3> <p class="svelte-1g41oro">Click the <strong class="svelte-1g41oro">+ Add shortcut</strong> tile to quickly add new bookmarks directly from this page.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üé®</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Customize Your Theme</h3> <p class="svelte-1g41oro">Choose from multiple themes, accent colors, and gradient backgrounds to personalize your experience.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚å®Ô∏è</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Keyboard Shortcuts</h3> <p class="svelte-1g41oro">Use <kbd class="svelte-1g41oro">Arrow keys</kbd> to navigate, <kbd class="svelte-1g41oro">Enter</kbd> to open, and <kbd class="svelte-1g41oro">Delete</kbd> or <kbd class="svelte-1g41oro">Backspace</kbd> to remove bookmarks.</p></div></section>',s=L(),i=_("footer"),u=_("button"),u.textContent="Get Started",a(l,"class","welcome-header svelte-1g41oro"),a(r,"class","welcome-content svelte-1g41oro"),a(u,"type","button"),a(u,"class","welcome-button svelte-1g41oro"),a(i,"class","welcome-footer svelte-1g41oro"),a(t,"class","welcome-modal svelte-1g41oro"),a(t,"role","dialog"),a(t,"aria-modal","true"),a(t,"aria-labelledby","welcome-title"),a(e,"class","welcome-overlay svelte-1g41oro"),a(e,"role","presentation")},m(m,p){V(m,e,p),f(e,t),f(t,l),f(t,o),f(t,r),f(t,s),f(t,i),f(i,u),y=!0,b||(w=[q(u,"click",function(){ft(n[1])&&n[1].apply(this,arguments)}),q(e,"click",n[2])],b=!0)},p(m,p){n=m},i(m){y||(m&&Zt(()=>{y&&(d||(d=Ml(t,ho,{y:30,duration:300},!0)),d.run(1))}),m&&Zt(()=>{y&&(g||(g=Ml(e,fo,{duration:200},!0)),g.run(1))}),y=!0)},o(m){m&&(d||(d=Ml(t,ho,{y:30,duration:300},!1)),d.run(0)),m&&(g||(g=Ml(e,fo,{duration:200},!1)),g.run(0)),y=!1},d(m){m&&G(e),m&&d&&d.end(),m&&g&&g.end(),b=!1,He(w)}}}function ya(n){let e,t,l,o=n[0]&&or(n);return{c(){o&&o.c(),e=ht()},m(r,s){o&&o.m(r,s),V(r,e,s),t||(l=q(window,"keydown",function(){ft(n[0]?n[3]:null)&&(n[0]?n[3]:null).apply(this,arguments)}),t=!0)},p(r,[s]){n=r,n[0]?o?(o.p(n,s),s&1&&x(o,1)):(o=or(n),o.c(),x(o,1),o.m(e.parentNode,e)):o&&(Ze(),re(o,1,1,()=>{o=null}),xe())},i(r){x(o)},o(r){re(o)},d(r){r&&G(e),o&&o.d(r),t=!1,l()}}}function Sa(n,e,t){let{open:l=!1}=e,{onDismiss:o=()=>{}}=e,{onGetStarted:r=()=>{}}=e;function s(u){u.target===u.currentTarget&&(o==null||o())}function i(u){u.key==="Escape"&&(u.preventDefault(),o==null||o())}return n.$$set=u=>{"open"in u&&t(0,l=u.open),"onDismiss"in u&&t(4,o=u.onDismiss),"onGetStarted"in u&&t(1,r=u.onGetStarted)},[l,r,s,i,o]}class Ia extends pn{constructor(e){super(),mn(this,e,Sa,ya,xt,{open:0,onDismiss:4,onGetStarted:1})}}function rr(n){let e,t,l,o,r,s,i,u,d,g,y,b,w,m,p,S,E,C,U;return{c(){e=_("div"),t=L(),l=_("menu"),o=_("li"),r=_("button"),r.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M9 2h5v5M14 2L7 9M6 4H3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Open in new tab`,s=L(),i=_("li"),u=_("button"),u.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><rect x="5" y="5" width="8" height="9" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"></rect><path d="M11 5V3a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg>
        Copy URL`,d=L(),g=_("li"),y=L(),b=_("li"),w=_("button"),w.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M11.5 2.5l2 2L5 13H3v-2l8.5-8.5z" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Edit bookmark`,m=L(),p=_("li"),S=_("button"),S.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M3 4h10M6 4V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v1M5 4v9a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Remove`,a(e,"class","context-menu-overlay svelte-6dpg3b"),a(e,"role","presentation"),a(r,"type","button"),a(r,"class","context-menu__item svelte-6dpg3b"),a(r,"role","menuitem"),a(o,"class","svelte-6dpg3b"),a(u,"type","button"),a(u,"class","context-menu__item svelte-6dpg3b"),a(u,"role","menuitem"),a(i,"class","svelte-6dpg3b"),a(g,"class","context-menu__divider svelte-6dpg3b"),a(g,"role","separator"),a(w,"type","button"),a(w,"class","context-menu__item svelte-6dpg3b"),a(w,"role","menuitem"),a(b,"class","svelte-6dpg3b"),a(S,"type","button"),a(S,"class","context-menu__item context-menu__item--danger svelte-6dpg3b"),a(S,"role","menuitem"),a(p,"class","svelte-6dpg3b"),a(l,"class","context-menu svelte-6dpg3b"),a(l,"style",n[1]),a(l,"aria-label",E="Actions for "+n[2])},m(O,v){V(O,e,v),V(O,t,v),V(O,l,v),f(l,o),f(o,r),f(l,s),f(l,i),f(i,u),f(l,d),f(l,g),f(l,y),f(l,b),f(b,w),f(l,m),f(l,p),f(p,S),C||(U=[q(e,"click",n[7]),q(e,"contextmenu",ao(n[7])),q(r,"click",n[5]),q(u,"click",n[6]),q(w,"click",n[3]),q(S,"click",n[4])],C=!0)},p(O,v){v&2&&a(l,"style",O[1]),v&4&&E!==(E="Actions for "+O[2])&&a(l,"aria-label",E)},d(O){O&&(G(e),G(t),G(l)),C=!1,He(U)}}}function va(n){let e,t,l,o=n[0]&&rr(n);return{c(){o&&o.c(),e=ht()},m(r,s){o&&o.m(r,s),V(r,e,s),t||(l=q(window,"keydown",function(){ft(n[0]?n[8]:null)&&(n[0]?n[8]:null).apply(this,arguments)}),t=!0)},p(r,[s]){n=r,n[0]?o?o.p(n,s):(o=rr(n),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:ue,o:ue,d(r){r&&G(e),o&&o.d(r),t=!1,l()}}}function ir(n){var r;const e=document.querySelectorAll(".context-menu__item"),t=document.activeElement;let o=Array.from(e).indexOf(t)+n;o<0&&(o=e.length-1),o>=e.length&&(o=0),(r=e[o])==null||r.focus()}function Ca(n,e,t){let l,o,{bookmark:r=null}=e,{position:s={x:0,y:0}}=e,{visible:i=!1}=e;const u=Rs();function d(){u("edit")}function g(){u("remove")}function y(){u("opennewtab")}function b(){u("copyurl")}function w(){u("close")}function m(p){p.key==="Escape"?(p.preventDefault(),w()):p.key==="ArrowDown"?(p.preventDefault(),ir(1)):p.key==="ArrowUp"&&(p.preventDefault(),ir(-1))}return n.$$set=p=>{"bookmark"in p&&t(9,r=p.bookmark),"position"in p&&t(10,s=p.position),"visible"in p&&t(0,i=p.visible)},n.$$.update=()=>{n.$$.dirty&512&&t(2,l=(r==null?void 0:r.title)||(r==null?void 0:r.url)||"bookmark"),n.$$.dirty&1024&&t(1,o=`left: ${s.x}px; top: ${s.y}px;`)},[i,o,l,d,g,y,b,w,m,r,s]}class Ba extends pn{constructor(e){super(),mn(this,e,Ca,va,xt,{bookmark:9,position:10,visible:0})}}function sr(n){let e,t,l,o,r,s,i,u,d,g,y,b=n[1]&&ar(n);return{c(){e=_("div"),t=Lt("svg"),l=Lt("circle"),o=Lt("path"),r=L(),s=_("input"),i=L(),b&&b.c(),u=L(),d=_("button"),d.innerHTML='<svg viewBox="0 0 16 16" aria-hidden="true" class="svelte-qypsdi"><path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',a(l,"cx","6.5"),a(l,"cy","6.5"),a(l,"r","5"),a(l,"stroke","currentColor"),a(l,"stroke-width","1.5"),a(l,"fill","none"),a(o,"d","M10.5 10.5L14 14"),a(o,"stroke","currentColor"),a(o,"stroke-width","1.5"),a(o,"stroke-linecap","round"),a(t,"class","search-bar__icon svelte-qypsdi"),a(t,"viewBox","0 0 16 16"),a(t,"aria-hidden","true"),a(s,"type","search"),a(s,"class","search-bar__input svelte-qypsdi"),a(s,"placeholder","Search bookmarks‚Ä¶"),s.value=n[1],a(s,"aria-label","Search bookmarks"),a(d,"type","button"),a(d,"class","search-bar__close svelte-qypsdi"),a(d,"aria-label","Close search"),a(e,"class","search-bar svelte-qypsdi"),a(e,"role","search")},m(w,m){V(w,e,m),f(e,t),f(t,l),f(t,o),f(e,r),f(e,s),n[8](s),f(e,i),b&&b.m(e,null),f(e,u),f(e,d),g||(y=[q(s,"input",n[4]),q(s,"keydown",n[6]),q(d,"click",function(){ft(n[2])&&n[2].apply(this,arguments)})],g=!0)},p(w,m){n=w,m&2&&s.value!==n[1]&&(s.value=n[1]),n[1]?b?b.p(n,m):(b=ar(n),b.c(),b.m(e,u)):b&&(b.d(1),b=null)},d(w){w&&G(e),n[8](null),b&&b.d(),g=!1,He(y)}}}function ar(n){let e,t,l;return{c(){e=_("button"),e.textContent="√ó",a(e,"type","button"),a(e,"class","search-bar__clear svelte-qypsdi"),a(e,"aria-label","Clear search")},m(o,r){V(o,e,r),t||(l=q(e,"click",n[5]),t=!0)},p:ue,d(o){o&&G(e),t=!1,l()}}}function Ea(n){let e,t=n[0]&&sr(n);return{c(){t&&t.c(),e=ht()},m(l,o){t&&t.m(l,o),V(l,e,o)},p(l,[o]){l[0]?t?t.p(l,o):(t=sr(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ue,o:ue,d(l){l&&G(e),t&&t.d(l)}}}function Fa(n,e,t){let{visible:l=!1}=e,{query:o=""}=e,{onSearchChange:r=()=>{}}=e,{onClose:s=()=>{}}=e,i;function u(b){r==null||r(b.target.value)}function d(){r==null||r(""),i==null||i.focus()}function g(b){b.key==="Escape"&&(b.preventDefault(),o?r==null||r(""):s==null||s())}function y(b){Ut[b?"unshift":"push"](()=>{i=b,t(3,i)})}return n.$$set=b=>{"visible"in b&&t(0,l=b.visible),"query"in b&&t(1,o=b.query),"onSearchChange"in b&&t(7,r=b.onSearchChange),"onClose"in b&&t(2,s=b.onClose)},n.$$.update=()=>{n.$$.dirty&9&&l&&i&&i.focus()},[l,o,s,i,u,d,g,r,y]}class Ta extends pn{constructor(e){super(),mn(this,e,Fa,Ea,xt,{visible:0,query:1,onSearchChange:7,onClose:2})}}const Ma=[{title:"ESLint",url:"https://eslint.org"},{title:"Prettier",url:"https://prettier.io"},{title:"Parcel",url:"https://parceljs.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"Visual Studio Code",url:"https://code.visualstudio.com"},{title:"npm",url:"https://www.npmjs.com"},{title:"Docker",url:"https://www.docker.com"},{title:"Kubernetes",url:"https://kubernetes.io"},{title:"Postman",url:"https://www.postman.com"},{title:"GitLab",url:"https://gitlab.com"},{title:"Bitbucket",url:"https://bitbucket.org"},{title:"Jest",url:"https://jestjs.io"},{title:"Webpack",url:"https://webpack.js.org"},{title:"Vite",url:"https://vitejs.dev"},{title:"TypeScript",url:"https://www.typescriptlang.org"},{title:"Babel",url:"https://babeljs.io"},{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Svelte",url:"https://svelte.dev"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt",url:"https://nuxt.com"},{title:"Tailwind CSS",url:"https://tailwindcss.com"},{title:"Bootstrap",url:"https://getbootstrap.com"},{title:"Sass",url:"https://sass-lang.com"},{title:"Node.js",url:"https://nodejs.org"},{title:"Deno",url:"https://deno.com"},{title:"Express",url:"https://expressjs.com"},{title:"Fastify",url:"https://www.fastify.io"},{title:"MongoDB",url:"https://www.mongodb.com"},{title:"PostgreSQL",url:"https://www.postgresql.org"},{title:"Redis",url:"https://redis.io"},{title:"MySQL",url:"https://www.mysql.com"},{title:"Vercel",url:"https://vercel.com"},{title:"Netlify",url:"https://www.netlify.com"},{title:"Heroku",url:"https://www.heroku.com"},{title:"AWS",url:"https://aws.amazon.com"},{title:"Firebase",url:"https://firebase.google.com"},{title:"Supabase",url:"https://supabase.com"},{title:"Figma",url:"https://www.figma.com"},{title:"Canva",url:"https://www.canva.com"},{title:"VS Code Extensions",url:"https://marketplace.visualstudio.com"},{title:"Chrome DevTools",url:"https://developer.chrome.com/docs/devtools"},{title:"Can I Use",url:"https://caniuse.com"},{title:"RegExr",url:"https://regexr.com"},{title:"JSON Formatter",url:"https://jsonformatter.org"},{title:"CodePen",url:"https://codepen.io"},{title:"JSFiddle",url:"https://jsfiddle.net"},{title:"Replit",url:"https://replit.com"},{title:"StackBlitz",url:"https://stackblitz.com"},{title:"GraphQL",url:"https://graphql.org"},{title:"Prisma",url:"https://www.prisma.io"},{title:"Cypress",url:"https://www.cypress.io"},{title:"Playwright",url:"https://playwright.dev"},{title:"Testing Library",url:"https://testing-library.com"},{title:"Storybook",url:"https://storybook.js.org"},{title:"Lodash",url:"https://lodash.com"},{title:"Axios",url:"https://axios-http.com"},{title:"Day.js",url:"https://day.js.org"},{title:"Chart.js",url:"https://www.chartjs.org"},{title:"Three.js",url:"https://threejs.org"},{title:"Vitest",url:"https://vitest.dev"},{title:"ESBuild",url:"https://esbuild.github.io"},{title:"Rollup",url:"https://rollupjs.org"},{title:"Gulp",url:"https://gulpjs.com"},{title:"Grunt",url:"https://gruntjs.com"},{title:"Semantic UI",url:"https://semantic-ui.com"},{title:"Material UI",url:"https://mui.com"},{title:"Chakra UI",url:"https://chakra-ui.com"},{title:"Ant Design",url:"https://ant.design"},{title:"Zustand",url:"https://zustand-demo.vercel.app"},{title:"Redux",url:"https://redux.js.org"},{title:"Recoil",url:"https://recoiljs.org"},{title:"Jotai",url:"https://jotai.org"},{title:"SWR",url:"https://swr.vercel.app"},{title:"React Query",url:"https://tanstack.com/query"},{title:"Apollo GraphQL",url:"https://www.apollographql.com"},{title:"Strapi",url:"https://strapi.io"},{title:"Contentful",url:"https://www.contentful.com"},{title:"Sanity",url:"https://www.sanity.io"},{title:"Auth0",url:"https://auth0.com"}],Tt={fiction:{classicNovels:[{title:"Project Gutenberg",url:"https://www.gutenberg.org"},{title:"The Literature Network",url:"http://www.online-literature.com"},{title:"Classic Reader",url:"http://www.classicreader.com"},{title:"Read Print",url:"http://www.readprint.com"},{title:"Free Classic Literature",url:"https://www.freeclassicebooks.com"},{title:"Classic Literature Library",url:"https://classiclit.about.com"}],modernFiction:[{title:"Electric Literature",url:"https://electricliterature.com"},{title:"The Paris Review",url:"https://www.theparisreview.org"},{title:"Granta",url:"https://granta.com"},{title:"LitHub",url:"https://lithub.com"},{title:"The Rumpus",url:"https://therumpus.net"},{title:"The Millions",url:"https://themillions.com"}],shortStories:[{title:"Daily Science Fiction",url:"https://dailysciencefiction.com"},{title:"Narrative Magazine",url:"https://www.narrativemagazine.com"},{title:"One Story",url:"https://www.one-story.com"},{title:"Flash Fiction Online",url:"https://flashfictiononline.com"},{title:"Smokelong Quarterly",url:"http://www.smokelong.com"},{title:"Zoetrope All-Story",url:"https://www.all-story.com"}]},nonFiction:{essays:[{title:"The New Yorker Essays",url:"https://www.newyorker.com/culture/personal-history"},{title:"The Atlantic Essays",url:"https://www.theatlantic.com/ideas/"},{title:"Harper's Magazine",url:"https://harpers.org"},{title:"The Believer",url:"https://believermag.com"},{title:"n+1 Magazine",url:"https://www.nplusonemag.com"},{title:"Aeon Essays",url:"https://aeon.co/essays"}],biography:[{title:"Biography.com",url:"https://www.biography.com"},{title:"Famous People",url:"https://www.thefamouspeople.com"},{title:"Britannica Biographies",url:"https://www.britannica.com/biography"},{title:"Stanford Encyclopedia",url:"https://plato.stanford.edu"},{title:"Internet Biography",url:"https://www.notablebiographies.com"},{title:"Lives of the Great",url:"https://www.famousscientists.org"}],history:[{title:"History.com",url:"https://www.history.com"},{title:"Smithsonian Magazine",url:"https://www.smithsonianmag.com/history/"},{title:"History Today",url:"https://www.historytoday.com"},{title:"BBC History",url:"https://www.bbc.co.uk/history"},{title:"American Historical",url:"https://www.historians.org"},{title:"Ancient History",url:"https://www.ancient.eu"}]},poetry:{classicPoetry:[{title:"Poetry Foundation",url:"https://www.poetryfoundation.org"},{title:"Poets.org",url:"https://poets.org"},{title:"Poetry Archive",url:"https://www.poetryarchive.org"},{title:"Famous Poets",url:"https://www.famouspoetsandpoems.com"},{title:"All Poetry",url:"https://allpoetry.com"},{title:"Classic Poetry Aloud",url:"https://www.poetryoutloud.org"}],contemporaryPoetry:[{title:"Poetry Magazine",url:"https://www.poetrymagazine.org"},{title:"The Adroit Journal",url:"https://theadroitjournal.org"},{title:"Rattle",url:"https://www.rattle.com"},{title:"Poem-a-Day",url:"https://www.poets.org/poetsorg/poem-day"},{title:"Button Poetry",url:"https://buttonpoetry.com"},{title:"Split This Rock",url:"https://www.splitthisrock.org"}],spokenWord:[{title:"TED Poetry",url:"https://www.ted.com/topics/poetry"},{title:"Poetry Slam Inc",url:"https://www.poetryslam.com"},{title:"Def Poetry",url:"https://www.hbo.com/def-poetry"},{title:"Write About Now",url:"https://www.writeaboutnow.com"},{title:"Brave New Voices",url:"https://youthspeaks.org"},{title:"Individual World",url:"https://www.iwps.org"}]},academic:{literaryCriticism:[{title:"JSTOR",url:"https://www.jstor.org"},{title:"Project MUSE",url:"https://muse.jhu.edu"},{title:"Oxford Academic",url:"https://academic.oup.com"},{title:"Cambridge Core",url:"https://www.cambridge.org/core"},{title:"Taylor & Francis",url:"https://www.tandfonline.com"},{title:"SAGE Journals",url:"https://journals.sagepub.com"}],literaryTheory:[{title:"Critical Theory",url:"https://criticalthoery.web.unc.edu"},{title:"Theory.org",url:"https://www.theory.org.uk"},{title:"Yale Theory",url:"https://theory.yale.edu"},{title:"Johns Hopkins Guide",url:"https://litguide.press.jhu.edu"},{title:"Internet Encyclopedia",url:"https://iep.utm.edu"},{title:"Stanford Literary Lab",url:"https://litlab.stanford.edu"}],journals:[{title:"PMLA",url:"https://www.mla.org/Publications/Journals/PMLA"},{title:"New Literary History",url:"https://muse.jhu.edu/journal/96"},{title:"Modern Fiction Studies",url:"https://muse.jhu.edu/journal/122"},{title:"Contemporary Literature",url:"https://muse.jhu.edu/journal/92"},{title:"Modernism/modernity",url:"https://muse.jhu.edu/journal/186"},{title:"American Literature",url:"https://read.dukeupress.edu/american-literature"}]}},{Map:pl}=Cs;function cr(n,e,t){const l=n.slice();return l[239]=e[t],l}function ur(n,e,t){const l=n.slice();return l[236]=e[t],l}function dr(n,e,t){const l=n.slice();return l[233]=e[t],l[235]=t,l}function fr(n,e,t){const l=n.slice();return l[236]=e[t],l[238]=t,l}function hr(n,e,t){const l=n.slice();return l[244]=e[t],l}function gr(n,e,t){const l=n.slice();return l[247]=e[t],l}function mr(n,e,t){const l=n.slice();return l[247]=e[t],l}function pr(n,e,t){const l=n.slice();return l[247]=e[t],l}function br(n){let e,t=n[247].label+"",l,o,r,s,i;function u(){return n[112](n[247])}return{c(){e=_("button"),l=he(t),o=L(),a(e,"type","button"),a(e,"class","choice-button"),a(e,"data-active",r=n[6].theme===n[247].id)},m(d,g){V(d,e,g),f(e,l),f(e,o),s||(i=q(e,"click",u),s=!0)},p(d,g){n=d,g[0]&64&&r!==(r=n[6].theme===n[247].id)&&a(e,"data-active",r)},d(d){d&&G(e),s=!1,i()}}}function kr(n){let e,t,l,o,r,s,i;function u(){return n[113](n[247])}return{c(){e=_("button"),a(e,"type","button"),a(e,"class","accent-swatch"),a(e,"style",t=`--swatch-color: ${n[247].colors.base};`),a(e,"data-active",l=n[6].accent===n[247].id),a(e,"aria-label",o=n[247].label),a(e,"title",r=n[247].label)},m(d,g){V(d,e,g),s||(i=q(e,"click",u),s=!0)},p(d,g){n=d,g[1]&1024&&t!==(t=`--swatch-color: ${n[247].colors.base};`)&&a(e,"style",t),g[0]&64|g[1]&1024&&l!==(l=n[6].accent===n[247].id)&&a(e,"data-active",l),g[1]&1024&&o!==(o=n[247].label)&&a(e,"aria-label",o),g[1]&1024&&r!==(r=n[247].label)&&a(e,"title",r)},d(d){d&&G(e),s=!1,i()}}}function Da(n){let e,t,l=n[9]?"Show fewer accent colors":"More accent colors",o,r,s;return{c(){e=_("div"),t=_("button"),o=he(l),a(t,"type","button"),a(t,"class","swatch-toggle-button"),a(t,"aria-expanded",n[9]),a(e,"class","swatch-toggle-row")},m(i,u){V(i,e,u),f(e,t),f(t,o),r||(s=q(t,"click",n[47]),r=!0)},p(i,u){u[0]&512&&l!==(l=i[9]?"Show fewer accent colors":"More accent colors")&&Me(o,l),u[0]&512&&a(t,"aria-expanded",i[9])},d(i){i&&G(e),r=!1,s()}}}function _r(n){let e,t,l=n[247].label+"",o,r,s,i,u,d;function g(){return n[115](n[247])}return{c(){e=_("button"),t=_("span"),o=he(l),r=L(),a(e,"type","button"),a(e,"class","gradient-option"),a(e,"style",s=`--gradient-sample-light: ${n[247].gradients.light}; --gradient-sample-dark: ${n[247].gradients.dark};`),a(e,"data-active",i=n[6].background.mode==="gradient"&&n[6].background.gradientId===n[247].id)},m(y,b){V(y,e,b),f(e,t),f(t,o),f(e,r),u||(d=q(e,"click",g),u=!0)},p(y,b){n=y,b[1]&2048&&l!==(l=n[247].label+"")&&Me(o,l),b[1]&2048&&s!==(s=`--gradient-sample-light: ${n[247].gradients.light}; --gradient-sample-dark: ${n[247].gradients.dark};`)&&a(e,"style",s),b[0]&64|b[1]&2048&&i!==(i=n[6].background.mode==="gradient"&&n[6].background.gradientId===n[247].id)&&a(e,"data-active",i)},d(y){y&&G(e),u=!1,d()}}}function La(n){let e,t,l=n[8]?"Show fewer gradients":"More gradients",o,r,s;return{c(){e=_("div"),t=_("button"),o=he(l),a(t,"type","button"),a(t,"class","swatch-toggle-button"),a(t,"aria-expanded",n[8]),a(e,"class","swatch-toggle-row")},m(i,u){V(i,e,u),f(e,t),f(t,o),r||(s=q(t,"click",n[48]),r=!0)},p(i,u){u[0]&256&&l!==(l=i[8]?"Show fewer gradients":"More gradients")&&Me(o,l),u[0]&256&&a(t,"aria-expanded",i[8])},d(i){i&&G(e),r=!1,s()}}}function Aa(n){let e=[],t=new pl,l,o=ke(n[4]);const r=s=>s[244].id;for(let s=0;s<o.length;s+=1){let i=hr(n,o,s),u=r(i);t.set(u,e[s]=wr(u,i))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();l=ht()},m(s,i){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(s,i);V(s,l,i)},p(s,i){i[0]&16&&(o=ke(s[4]),e=$t(e,i,r,1,s,o,t,l.parentNode,ko,wr,l,hr))},d(s){s&&G(l);for(let i=0;i<e.length;i+=1)e[i].d(s)}}}function Pa(n){let e;return{c(){e=_("span"),e.textContent="Default folder",a(e,"class","folder-chip folder-chip--empty"),a(e,"title","Default Bookmark Dial folder")},m(t,l){V(t,e,l)},p:ue,d(t){t&&G(e)}}}function wr(n,e){let t,l,o=e[244].label+"",r,s,i,u=e[244].count+"",d,g,y;return{key:n,first:null,c(){t=_("span"),l=_("span"),r=he(o),s=L(),i=_("span"),d=he(u),g=L(),a(l,"class","folder-chip__label"),a(i,"class","folder-chip__count"),a(t,"class","folder-chip"),a(t,"title",y=e[244].fullPath),this.first=t},m(b,w){V(b,t,w),f(t,l),f(l,r),f(t,s),f(t,i),f(i,d),f(t,g)},p(b,w){e=b,w[0]&16&&o!==(o=e[244].label+"")&&Me(r,o),w[0]&16&&u!==(u=e[244].count+"")&&Me(d,u),w[0]&16&&y!==(y=e[244].fullPath)&&a(t,"title",y)},d(b){b&&G(t)}}}function yr(n){let e,t,l,o,r,s,i,u,d,g,y,b,w,m;return{c(){e=_("div"),t=_("label"),l=_("span"),l.textContent="Folder width",o=L(),r=_("input"),i=L(),u=_("label"),d=_("input"),y=L(),b=_("div"),b.innerHTML='<span class="settings-toggle__label">Compact header</span> <span class="settings-toggle__description">Hide folder path to save space.</span>',a(l,"class","settings-control__label"),a(r,"type","range"),a(r,"min","480"),a(r,"max","1860"),a(r,"step","20"),r.value=s=n[6].folderColumnWidth,a(t,"class","settings-control"),a(d,"type","checkbox"),d.checked=g=n[6].compactFolderHeader,a(b,"class","settings-toggle__body"),a(u,"class","settings-toggle"),a(e,"class","ungrouped-settings")},m(p,S){V(p,e,S),f(e,t),f(t,l),f(t,o),f(t,r),f(e,i),f(e,u),f(u,d),f(u,y),f(u,b),w||(m=[q(r,"input",n[117]),q(d,"change",n[118])],w=!0)},p(p,S){S[0]&64&&s!==(s=p[6].folderColumnWidth)&&(r.value=s),S[0]&64&&g!==(g=p[6].compactFolderHeader)&&(d.checked=g)},d(p){p&&G(e),w=!1,He(m)}}}function Sr(n){let e,t;return e=new Ta({props:{visible:n[37],query:n[10],onSearchChange:n[80],onClose:n[81]}}),{c(){zt(e.$$.fragment)},m(l,o){Mt(e,l,o),t=!0},p(l,o){const r={};o[1]&64&&(r.visible=l[37]),o[0]&1024&&(r.query=l[10]),e.$set(r)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){re(e.$$.fragment,l),t=!1},d(l){Dt(e,l)}}}function Oa(n){let e,t=[],l=new pl,o=`${n[6].folderColumnWidth}px`,r,s=ke(n[40]);const i=u=>u[239].id;for(let u=0;u<s.length;u+=1){let d=cr(n,s,u),g=i(d);l.set(g,t[u]=Cr(g,d))}return{c(){e=_("div");for(let u=0;u<t.length;u+=1)t[u].c();a(e,"class","folder-grid-list"),a(e,"aria-label","Bookmark folders"),Ol(e,"max-width",o)},m(u,d){V(u,e,d);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);r=!0},p(u,d){d[0]&134217792|d[1]&896|d[2]&1742737792&&(s=ke(u[40]),Ze(),t=$t(t,d,i,1,u,s,l,e,Mn,Cr,null,cr),xe()),d[0]&64&&o!==(o=`${u[6].folderColumnWidth}px`)&&Ol(e,"max-width",o)},i(u){if(!r){for(let d=0;d<s.length;d+=1)x(t[d]);r=!0}},o(u){for(let d=0;d<t.length;d+=1)re(t[d]);r=!1},d(u){u&&G(e);for(let d=0;d<t.length;d+=1)t[d].d()}}}function ja(n){let e,t=[],l=new pl,o,r,s,i,u,d,g,y=ke(n[14]);const b=m=>m[236].id;for(let m=0;m<y.length;m+=1){let p=fr(n,y,m),S=b(p);l.set(S,t[m]=Br(S,p))}let w=n[6].enableTopSites&&n[11].length>0&&Er(n);return{c(){e=_("div");for(let m=0;m<t.length;m+=1)t[m].c();o=L(),w&&w.c(),r=L(),s=_("article"),i=_("button"),i.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',a(i,"class","add-button"),a(i,"type","button"),a(i,"aria-label","Add new bookmark shortcut"),a(s,"class","tile add-tile"),a(s,"draggable","false"),a(e,"id","dial-grid"),a(e,"class","grid"),a(e,"aria-label","Bookmark Dial links"),a(e,"tabindex","-1"),a(e,"role","group")},m(m,p){V(m,e,p);for(let S=0;S<t.length;S+=1)t[S]&&t[S].m(e,null);f(e,o),w&&w.m(e,null),f(e,r),f(e,s),f(s,i),n[132](e),u=!0,d||(g=q(i,"click",n[88]),d=!0)},p(m,p){p[0]&134238272|p[1]&384|p[2]&1676677504&&(y=ke(m[14]),Ze(),t=$t(t,p,b,1,m,y,l,e,Mn,Br,o,fr),xe()),m[6].enableTopSites&&m[11].length>0?w?(w.p(m,p),p[0]&2112&&x(w,1)):(w=Er(m),w.c(),x(w,1),w.m(e,r)):w&&(Ze(),re(w,1,1,()=>{w=null}),xe())},i(m){if(!u){for(let p=0;p<y.length;p+=1)x(t[p]);x(w),u=!0}},o(m){for(let p=0;p<t.length;p+=1)re(t[p]);re(w),u=!1},d(m){m&&G(e);for(let p=0;p<t.length;p+=1)t[p].d();w&&w.d(),n[132](null),d=!1,g()}}}function Ra(n){let e,t=n[239].label+"",l,o,r,s=n[239].fullPath&&n[239].fullPath!==n[239].label&&Ir(n);return{c(){e=_("h4"),l=he(t),o=L(),s&&s.c(),r=ht(),a(e,"class","folder-section__title")},m(i,u){V(i,e,u),f(e,l),V(i,o,u),s&&s.m(i,u),V(i,r,u)},p(i,u){u[1]&512&&t!==(t=i[239].label+"")&&Me(l,t),i[239].fullPath&&i[239].fullPath!==i[239].label?s?s.p(i,u):(s=Ir(i),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(i){i&&(G(e),G(o),G(r)),s&&s.d(i)}}}function Na(n){let e,t=n[239].label+"",l,o;return{c(){e=_("h4"),l=he(t),a(e,"class","folder-section__title"),a(e,"title",o=n[239].fullPath)},m(r,s){V(r,e,s),f(e,l)},p(r,s){s[1]&512&&t!==(t=r[239].label+"")&&Me(l,t),s[1]&512&&o!==(o=r[239].fullPath)&&a(e,"title",o)},d(r){r&&G(e)}}}function Ir(n){let e,t=n[239].fullPath+"",l;return{c(){e=_("p"),l=he(t),a(e,"class","folder-section__path")},m(o,r){V(o,e,r),f(e,l)},p(o,r){r[1]&512&&t!==(t=o[239].fullPath+"")&&Me(l,t)},d(o){o&&G(e)}}}function Ua(n){let e,t,l,o,r,s;function i(){return n[142](n[239])}return{c(){e=_("div"),t=_("article"),l=_("button"),l.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',a(l,"class","add-button"),a(l,"type","button"),a(t,"class","tile add-tile"),a(t,"draggable","false"),a(e,"class","grid folder-section__grid"),a(e,"role","group"),a(e,"aria-label",o=`Shortcuts in ${n[239].fullPath||n[239].label}`)},m(u,d){V(u,e,d),f(e,t),f(t,l),r||(s=q(l,"click",i),r=!0)},p(u,d){n=u,d[1]&512&&o!==(o=`Shortcuts in ${n[239].fullPath||n[239].label}`)&&a(e,"aria-label",o)},i:ue,o:ue,d(u){u&&G(e),r=!1,s()}}}function za(n){let e,t=[],l=new pl,o,r,s,i,u,d,g,y=ke(n[239].items);const b=m=>m[236].id;for(let m=0;m<y.length;m+=1){let p=ur(n,y,m),S=b(p);l.set(S,t[m]=vr(S,p))}function w(){return n[141](n[239])}return{c(){e=_("div");for(let m=0;m<t.length;m+=1)t[m].c();o=L(),r=_("article"),s=_("button"),s.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',a(s,"class","add-button"),a(s,"type","button"),a(r,"class","tile add-tile"),a(r,"draggable","false"),a(e,"class","grid folder-section__grid"),a(e,"role","group"),a(e,"aria-label",i=`Shortcuts in ${n[239].fullPath||n[239].label}`)},m(m,p){V(m,e,p);for(let S=0;S<t.length;S+=1)t[S]&&t[S].m(e,null);f(e,o),f(e,r),f(r,s),u=!0,d||(g=q(s,"click",w),d=!0)},p(m,p){n=m,p[0]&134217792|p[1]&896|p[2]&1675628928&&(y=ke(n[239].items),Ze(),t=$t(t,p,b,1,n,y,l,e,Mn,vr,o,ur),xe()),(!u||p[1]&512&&i!==(i=`Shortcuts in ${n[239].fullPath||n[239].label}`))&&a(e,"aria-label",i)},i(m){if(!u){for(let p=0;p<y.length;p+=1)x(t[p]);u=!0}},o(m){for(let p=0;p<t.length;p+=1)re(t[p]);u=!1},d(m){m&&G(e);for(let p=0;p<t.length;p+=1)t[p].d();d=!1,g()}}}function vr(n,e){var w,m;let t,l,o;function r(){return e[133](e[236])}function s(){return e[134](e[236])}function i(){return e[135](e[236])}function u(){return e[136](e[236])}function d(...p){return e[137](e[236],...p)}function g(...p){return e[138](e[236],e[239],...p)}function y(...p){return e[139](e[236],...p)}function b(...p){return e[140](e[236],...p)}return l=new wo({props:{bookmark:e[236],titleBackdrop:e[6].titleBackdrop,menuOpen:e[27]===e[236].id,focused:!1,dragging:((w=e[38])==null?void 0:w.id)===e[236].id,dragOver:((m=e[39])==null?void 0:m.id)===e[236].id,onToggleMenu:r,onEdit:s,onRemove:i,onFallback:u,onContextMenu:d,onFocus:rc,onDragStart:g,onDragOver:y,onDragLeave:e[85],onDrop:b,onDragEnd:e[87],getFaviconUrl:So}}),{key:n,first:null,c(){t=ht(),zt(l.$$.fragment),this.first=t},m(p,S){V(p,t,S),Mt(l,p,S),o=!0},p(p,S){var C,U;e=p;const E={};S[1]&512&&(E.bookmark=e[236]),S[0]&64&&(E.titleBackdrop=e[6].titleBackdrop),S[0]&134217728|S[1]&512&&(E.menuOpen=e[27]===e[236].id),S[1]&640&&(E.dragging=((C=e[38])==null?void 0:C.id)===e[236].id),S[1]&768&&(E.dragOver=((U=e[39])==null?void 0:U.id)===e[236].id),S[1]&512&&(E.onToggleMenu=r),S[1]&512&&(E.onEdit=s),S[1]&512&&(E.onRemove=i),S[1]&512&&(E.onFallback=u),S[1]&512&&(E.onContextMenu=d),S[1]&512&&(E.onDragStart=g),S[1]&512&&(E.onDragOver=y),S[1]&512&&(E.onDrop=b),l.$set(E)},i(p){o||(x(l.$$.fragment,p),o=!0)},o(p){re(l.$$.fragment,p),o=!1},d(p){p&&G(t),Dt(l,p)}}}function Cr(n,e){let t,l,o,r,s,i,u,d;function g(S,E){return S[6].compactFolderHeader?Na:Ra}let y=g(e),b=y(e);const w=[za,Ua],m=[];function p(S,E){return S[239].items.length?0:1}return s=p(e),i=m[s]=w[s](e),{key:n,first:null,c(){t=_("section"),l=_("header"),o=_("div"),b.c(),r=L(),i.c(),u=L(),a(o,"class","folder-section__titles"),a(l,"class","folder-section__header"),a(t,"class","folder-section"),this.first=t},m(S,E){V(S,t,E),f(t,l),f(l,o),b.m(o,null),f(t,r),m[s].m(t,null),f(t,u),d=!0},p(S,E){e=S,y===(y=g(e))&&b?b.p(e,E):(b.d(1),b=y(e),b&&(b.c(),b.m(o,null)));let C=s;s=p(e),s===C?m[s].p(e,E):(Ze(),re(m[C],1,1,()=>{m[C]=null}),xe(),i=m[s],i?i.p(e,E):(i=m[s]=w[s](e),i.c()),x(i,1),i.m(t,u))},i(S){d||(x(i),d=!0)},o(S){re(i),d=!1},d(S){S&&G(t),b.d(),m[s].d()}}}function Br(n,e){var m,p;let t,l,o;function r(){return e[122](e[236])}function s(){return e[123](e[236])}function i(){return e[124](e[236])}function u(){return e[125](e[236])}function d(...S){return e[126](e[236],...S)}function g(){return e[127](e[238])}function y(...S){return e[128](e[236],...S)}function b(...S){return e[129](e[236],...S)}function w(...S){return e[130](e[236],...S)}return l=new wo({props:{bookmark:e[236],titleBackdrop:e[6].titleBackdrop,menuOpen:e[27]===e[236].id,focused:e[12]===e[238],dragging:((m=e[38])==null?void 0:m.id)===e[236].id,dragOver:((p=e[39])==null?void 0:p.id)===e[236].id,onToggleMenu:r,onEdit:s,onRemove:i,onFallback:u,onContextMenu:d,onFocus:g,onDragStart:y,onDragOver:b,onDragLeave:e[85],onDrop:w,onDragEnd:e[87],getFaviconUrl:So}}),{key:n,first:null,c(){t=ht(),zt(l.$$.fragment),this.first=t},m(S,E){V(S,t,E),Mt(l,S,E),o=!0},p(S,E){var U,O;e=S;const C={};E[0]&16384&&(C.bookmark=e[236]),E[0]&64&&(C.titleBackdrop=e[6].titleBackdrop),E[0]&134234112&&(C.menuOpen=e[27]===e[236].id),E[0]&20480&&(C.focused=e[12]===e[238]),E[0]&16384|E[1]&128&&(C.dragging=((U=e[38])==null?void 0:U.id)===e[236].id),E[0]&16384|E[1]&256&&(C.dragOver=((O=e[39])==null?void 0:O.id)===e[236].id),E[0]&16384&&(C.onToggleMenu=r),E[0]&16384&&(C.onEdit=s),E[0]&16384&&(C.onRemove=i),E[0]&16384&&(C.onFallback=u),E[0]&16384&&(C.onContextMenu=d),E[0]&16384&&(C.onFocus=g),E[0]&16384&&(C.onDragStart=y),E[0]&16384&&(C.onDragOver=b),E[0]&16384&&(C.onDrop=w),l.$set(C)},i(S){o||(x(l.$$.fragment,S),o=!0)},o(S){re(l.$$.fragment,S),o=!1},d(S){S&&G(t),Dt(l,S)}}}function Er(n){let e=[],t=new pl,l,o,r=ke(n[11]);const s=i=>i[233].id;for(let i=0;i<r.length;i+=1){let u=dr(n,r,i),d=s(u);t.set(d,e[i]=Fr(d,u))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=ht()},m(i,u){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(i,u);V(i,l,u),o=!0},p(i,u){u[0]&22592|u[2]&1048576&&(r=ke(i[11]),Ze(),e=$t(e,u,s,1,i,r,t,l.parentNode,Mn,Fr,l,dr),xe())},i(i){if(!o){for(let u=0;u<r.length;u+=1)x(e[u]);o=!0}},o(i){for(let u=0;u<e.length;u+=1)re(e[u]);o=!1},d(i){i&&G(l);for(let u=0;u<e.length;u+=1)e[u].d(i)}}}function Fr(n,e){let t,l,o;function r(){return e[131](e[235])}return l=new wo({props:{bookmark:e[233],titleBackdrop:e[6].titleBackdrop,menuOpen:!1,focused:e[12]===e[14].length+e[235],dragging:!1,dragOver:!1,onToggleMenu:Ja,onEdit:Xa,onRemove:Za,onFallback:xa,onContextMenu:$a,onFocus:r,onDragStart:ec,onDragOver:tc,onDragLeave:nc,onDrop:lc,onDragEnd:oc,getFaviconUrl:So,isTopSite:!0}}),{key:n,first:null,c(){t=ht(),zt(l.$$.fragment),this.first=t},m(s,i){V(s,t,i),Mt(l,s,i),o=!0},p(s,i){e=s;const u={};i[0]&2048&&(u.bookmark=e[233]),i[0]&64&&(u.titleBackdrop=e[6].titleBackdrop),i[0]&22528&&(u.focused=e[12]===e[14].length+e[235]),i[0]&18432&&(u.onFocus=r),l.$set(u)},i(s){o||(x(l.$$.fragment,s),o=!0)},o(s){re(l.$$.fragment,s),o=!1},d(s){s&&G(t),Dt(l,s)}}}function Ha(n){var Il;let e,t,l,o,r,s,i,u,d,g,y,b,w,m,p,S,E,C,U,O,v,W,A,z,P,K,X,J,me,be,Z,ge,qe,oe,ne,we,mt,$e,N,Ge,et,Ee,kt,ve,Pe,De,Oe,rt,Re,tt,ae,_t,it,Fe,Ce,ye,_e,wt,nt,yt,T,Ye,Ht,en,qt,St,Gt,It,vt,Wt,bl,Vt,Kt,Jn,Se,pt,tn,st,At,se,Ct,nn,Qt,Te,Je,Yt,Jt,Xn,Pt,Zn,at,Dn,Be,ln,Ot,Cn,on,bt,Ln,kl,rn,bn,xn,_l,Bn,wl,An,yl,lt,Bt,En,Et,Pn,kn,$n,_n,je,On,el,sn=ke(n[44]),Ne=[];for(let B=0;B<sn.length;B+=1)Ne[B]=br(pr(n,sn,B));let an=ke(n[41]),Ue=[];for(let B=0;B<an.length;B+=1)Ue[B]=kr(mr(n,an,B));let cn=n[45].length>zl&&Da(n),wn=ke(n[42]),We=[];for(let B=0;B<wn.length;B+=1)We[B]=_r(gr(n,wn,B));let un=n[46].length>Ul&&La(n);function yn(B,Q){return B[4].length===0?Pa:Aa}let jt=yn(n),Ft=jt(n),Xe=!n[6].mergeAllBookmarks&&yr(n),Le=n[6].enableBookmarkSearch&&Sr(n);const tl=[ja,Oa],ze=[];function Sl(B,Q){return B[6].mergeAllBookmarks?0:1}return Te=Sl(n),Je=ze[Te]=tl[Te](n),Jt=new ca({props:{open:n[1],rootIds:n[43].rootIds??[],expandedIds:n[26],loadingIds:n[17],visibleIds:n[21],searchQuery:n[20],searchMatches:n[3],selectedIds:n[1]&&n[23]?n[23]:n[0],summary:n[1]?n[24]:n[4],selectedFolderCount:n[1]?((Il=n[23])==null?void 0:Il.size)??0:n[0].size,totalBookmarkCount:n[1]?n[25]:n[22],toggleSelection:n[61],toggleExpansion:n[62],getCheckboxState:n[67],onSearchChange:n[68],onRequestClose:n[66],onConfirmSelection:n[64],onClearSelection:n[63]}}),Pt=new fa({props:{open:n[2],folders:n[18],defaultFolderId:n[19],onConfirm:n[89],onClose:n[90]}}),at=new Ia({props:{open:n[33],onDismiss:n[73],onGetStarted:n[73]}}),Be=new Ba({props:{bookmark:n[36],position:n[35],visible:n[34]}}),Be.$on("edit",n[78]),Be.$on("remove",n[79]),Be.$on("opennewtab",n[76]),Be.$on("copyurl",n[77]),Be.$on("close",n[75]),Ot=new wa({props:{toasts:n[32],onDismiss:n[71],onUndo:n[72]}}),{c(){e=_("div"),t=L(),l=_("div"),o=_("button"),r=Lt("svg"),s=Lt("path"),i=Lt("path"),u=L(),d=_("aside"),g=_("header"),y=_("h2"),y.innerHTML=`<img src="/icons/icon-48.png" alt="Bookmark Dial" class="settings-drawer__brand-icon"/>
        Settings`,b=L(),w=_("button"),w.textContent="√ó",m=L(),p=_("section"),S=_("h3"),S.textContent="Theme",E=L(),C=_("div");for(let B=0;B<Ne.length;B+=1)Ne[B].c();U=L(),O=_("section"),v=_("h3"),v.textContent="Accent color",W=L(),A=_("div");for(let B=0;B<Ue.length;B+=1)Ue[B].c();z=L(),cn&&cn.c(),P=L(),K=_("section"),X=_("h3"),X.textContent="Tile titles",J=L(),me=_("label"),be=_("input"),ge=L(),qe=_("div"),qe.innerHTML='<span class="settings-toggle__label">Rounded backdrop</span>',oe=L(),ne=_("section"),we=_("h3"),we.textContent="Gradient background",mt=L(),$e=_("div");for(let B=0;B<We.length;B+=1)We[B].c();N=L(),un&&un.c(),Ge=L(),et=_("section"),Ee=_("button"),Ee.textContent="Custom background‚Ä¶",kt=L(),ve=_("section"),Pe=_("h3"),Pe.textContent="Folders",De=L(),Oe=_("div"),rt=_("div"),Ft.c(),Re=L(),tt=_("button"),tt.textContent="Manage folders",ae=L(),_t=_("label"),it=_("input"),Ce=L(),ye=_("div"),ye.innerHTML='<span class="settings-toggle__label">Merge bookmarks from all folders</span> <span class="settings-toggle__description">Display all bookmarks in a single deduplicated grid.</span>',_e=L(),Xe&&Xe.c(),wt=L(),nt=_("section"),yt=_("h3"),yt.textContent="Experimental",T=L(),Ye=_("label"),Ht=_("input"),qt=L(),St=_("div"),St.innerHTML='<span class="settings-toggle__label">Bookmark search</span> <span class="settings-toggle__description">Press <kbd>/</kbd> to search bookmarks.</span>',Gt=L(),It=_("label"),vt=_("input"),bl=L(),Vt=_("div"),Vt.innerHTML='<span class="settings-toggle__label">Show frequently visited</span> <span class="settings-toggle__description">Include your most visited sites alongside bookmarks.</span>',Jn=L(),Se=_("div"),tn=L(),st=_("main"),Le&&Le.c(),At=L(),se=_("section"),Ct=he(n[15]),Qt=L(),Je.c(),Yt=L(),zt(Jt.$$.fragment),Xn=L(),zt(Pt.$$.fragment),Zn=L(),zt(at.$$.fragment),Dn=L(),zt(Be.$$.fragment),ln=L(),zt(Ot.$$.fragment),Cn=L(),on=_("dialog"),bt=_("form"),Ln=_("header"),Ln.innerHTML="<h2>Custom background</h2>",kl=L(),rn=_("div"),bn=_("label"),xn=_("span"),xn.textContent="Choose an image (JPEG/PNG, up to 10¬†MB)",_l=L(),Bn=_("input"),wl=L(),An=_("p"),An.textContent="The selected image is stored locally on this device only.",yl=L(),lt=_("footer"),Bt=_("button"),Bt.textContent="Remove",En=L(),Et=_("span"),Pn=L(),kn=_("button"),kn.textContent="Cancel",$n=L(),_n=_("button"),_n.textContent="Save",a(e,"id","background-layer"),Ie(e,"visible",n[6].background.mode==="custom"&&!!n[28]),Ol(e,"background-image",n[6].background.mode==="custom"&&n[28]?`url(${n[28]})`:null),a(s,"d","M12 8.75a3.25 3.25 0 1 1 0 6.5 3.25 3.25 0 0 1 0-6.5Z"),a(s,"fill","none"),a(s,"stroke","currentColor"),a(s,"stroke-width","1.6"),a(i,"d","M21 12l-2.938 3.5-1.562 4.294L12 19l-4.5.794L5.938 15.5 3 12l2.938-3.5L7.5 4.206 12 5l4.5-.794L18.062 8.5 21 12Z"),a(i,"fill","none"),a(i,"stroke","currentColor"),a(i,"stroke-width","1.6"),a(i,"stroke-linecap","round"),a(i,"stroke-linejoin","round"),a(r,"class","icon-button__glyph"),a(r,"viewBox","0 0 24 24"),a(r,"aria-hidden","true"),a(r,"focusable","false"),a(r,"role","img"),a(o,"class","icon-button"),a(o,"type","button"),a(o,"title","Settings"),a(o,"aria-label","Open settings"),a(o,"aria-expanded",n[7]),a(o,"aria-controls","settings-drawer"),a(w,"type","button"),a(w,"class","settings-drawer__close"),a(w,"aria-label","Close settings"),a(g,"class","settings-drawer__header"),a(C,"class","choice-row"),a(p,"class","settings-group"),a(A,"class","accent-grid"),a(O,"class","settings-group"),a(be,"type","checkbox"),be.checked=Z=n[6].titleBackdrop,a(qe,"class","settings-toggle__body"),a(me,"class","settings-toggle"),a(me,"title","Adds a soft highlight behind each title for contrast."),a(K,"class","settings-group"),a($e,"class","gradient-grid"),a(ne,"class","settings-group"),a(Ee,"type","button"),a(Ee,"class","custom-background-button"),a(et,"class","settings-group"),a(rt,"class","folder-bar__summary"),a(tt,"type","button"),a(tt,"class","ghost-button folder-bar__action"),a(Oe,"class","folder-bar"),a(it,"type","checkbox"),it.checked=Fe=n[6].mergeAllBookmarks,a(ye,"class","settings-toggle__body"),a(_t,"class","settings-toggle folder-group-toggle"),a(ve,"class","settings-group settings-group--folders"),a(Ht,"type","checkbox"),Ht.checked=en=n[6].enableBookmarkSearch,a(St,"class","settings-toggle__body"),a(Ye,"class","settings-toggle"),a(vt,"type","checkbox"),vt.checked=Wt=n[6].enableTopSites,a(Vt,"class","settings-toggle__body"),a(It,"class","settings-toggle"),a(nt,"class","settings-group"),a(d,"id","settings-drawer"),a(d,"class","settings-drawer"),a(d,"data-open",n[7]),a(d,"aria-hidden",Kt=!n[7]),a(d,"tabindex","-1"),a(Se,"class","settings-overlay"),a(Se,"aria-hidden",pt=!n[7]),Ie(Se,"visible",n[7]),a(se,"id","status"),a(se,"role","status"),a(se,"aria-live","polite"),a(se,"data-tone",nn=n[15]?n[16]:null),a(l,"class","page"),a(Bn,"type","file"),a(Bn,"accept","image/png,image/jpeg,image/jpg"),a(bn,"class","file-picker"),a(An,"class","hint"),a(rn,"class","dialog-body"),a(Bt,"type","button"),a(Bt,"id","clear-background"),a(Bt,"class","ghost-button"),a(Et,"class","spacer"),a(kn,"type","button"),a(kn,"id","cancel-background"),a(_n,"type","submit"),a(_n,"id","save-background"),a(lt,"class","dialog-footer"),a(bt,"id","background-form"),a(bt,"method","dialog")},m(B,Q){V(B,e,Q),V(B,t,Q),V(B,l,Q),f(l,o),f(o,r),f(r,s),f(r,i),n[111](o),f(l,u),f(l,d),f(d,g),f(g,y),f(g,b),f(g,w),f(d,m),f(d,p),f(p,S),f(p,E),f(p,C);for(let Ae=0;Ae<Ne.length;Ae+=1)Ne[Ae]&&Ne[Ae].m(C,null);f(d,U),f(d,O),f(O,v),f(O,W),f(O,A);for(let Ae=0;Ae<Ue.length;Ae+=1)Ue[Ae]&&Ue[Ae].m(A,null);f(O,z),cn&&cn.m(O,null),f(d,P),f(d,K),f(K,X),f(K,J),f(K,me),f(me,be),f(me,ge),f(me,qe),f(d,oe),f(d,ne),f(ne,we),f(ne,mt),f(ne,$e);for(let Ae=0;Ae<We.length;Ae+=1)We[Ae]&&We[Ae].m($e,null);f(ne,N),un&&un.m(ne,null),f(d,Ge),f(d,et),f(et,Ee),f(d,kt),f(d,ve),f(ve,Pe),f(ve,De),f(ve,Oe),f(Oe,rt),Ft.m(rt,null),f(Oe,Re),f(Oe,tt),f(ve,ae),f(ve,_t),f(_t,it),f(_t,Ce),f(_t,ye),f(ve,_e),Xe&&Xe.m(ve,null),f(d,wt),f(d,nt),f(nt,yt),f(nt,T),f(nt,Ye),f(Ye,Ht),f(Ye,qt),f(Ye,St),f(nt,Gt),f(nt,It),f(It,vt),f(It,bl),f(It,Vt),n[121](d),f(l,Jn),f(l,Se),f(l,tn),f(l,st),Le&&Le.m(st,null),f(st,At),f(st,se),f(se,Ct),f(st,Qt),ze[Te].m(st,null),f(l,Yt),Mt(Jt,l,null),f(l,Xn),Mt(Pt,l,null),f(l,Zn),Mt(at,l,null),f(l,Dn),Mt(Be,l,null),f(l,ln),Mt(Ot,l,null),V(B,Cn,Q),V(B,on,Q),f(on,bt),f(bt,Ln),f(bt,kl),f(bt,rn),f(rn,bn),f(bn,xn),f(bn,_l),f(bn,Bn),n[143](Bn),f(rn,wl),f(rn,An),f(bt,yl),f(bt,lt),f(lt,Bt),f(lt,En),f(lt,Et),f(lt,Pn),f(lt,kn),f(lt,$n),f(lt,_n),n[144](on),je=!0,On||(el=[q(o,"click",n[50]),q(w,"click",n[49]),q(be,"change",n[114]),q(Ee,"click",n[60]),q(tt,"click",n[65]),q(it,"change",n[116]),q(Ht,"change",n[119]),q(vt,"change",n[120]),q(d,"click",Fs(n[110])),q(Se,"pointerdown",n[49]),q(Bt,"click",ao(n[94])),q(kn,"click",ao(n[95])),q(bt,"submit",n[93])],On=!0)},p(B,Q){var Cl;if((!je||Q[0]&268435520)&&Ie(e,"visible",B[6].background.mode==="custom"&&!!B[28]),Q[0]&268435520&&Ol(e,"background-image",B[6].background.mode==="custom"&&B[28]?`url(${B[28]})`:null),(!je||Q[0]&128)&&a(o,"aria-expanded",B[7]),Q[0]&64|Q[1]&1056768){sn=ke(B[44]);let $;for($=0;$<sn.length;$+=1){const Ve=pr(B,sn,$);Ne[$]?Ne[$].p(Ve,Q):(Ne[$]=br(Ve),Ne[$].c(),Ne[$].m(C,null))}for(;$<Ne.length;$+=1)Ne[$].d(1);Ne.length=sn.length}if(Q[0]&64|Q[1]&2098176){an=ke(B[41]);let $;for($=0;$<an.length;$+=1){const Ve=mr(B,an,$);Ue[$]?Ue[$].p(Ve,Q):(Ue[$]=kr(Ve),Ue[$].c(),Ue[$].m(A,null))}for(;$<Ue.length;$+=1)Ue[$].d(1);Ue.length=an.length}if(B[45].length>zl&&cn.p(B,Q),(!je||Q[0]&64&&Z!==(Z=B[6].titleBackdrop))&&(be.checked=Z),Q[0]&64|Q[1]&268437504){wn=ke(B[42]);let $;for($=0;$<wn.length;$+=1){const Ve=gr(B,wn,$);We[$]?We[$].p(Ve,Q):(We[$]=_r(Ve),We[$].c(),We[$].m($e,null))}for(;$<We.length;$+=1)We[$].d(1);We.length=wn.length}B[46].length>Ul&&un.p(B,Q),jt===(jt=yn(B))&&Ft?Ft.p(B,Q):(Ft.d(1),Ft=jt(B),Ft&&(Ft.c(),Ft.m(rt,null))),(!je||Q[0]&64&&Fe!==(Fe=B[6].mergeAllBookmarks))&&(it.checked=Fe),B[6].mergeAllBookmarks?Xe&&(Xe.d(1),Xe=null):Xe?Xe.p(B,Q):(Xe=yr(B),Xe.c(),Xe.m(ve,null)),(!je||Q[0]&64&&en!==(en=B[6].enableBookmarkSearch))&&(Ht.checked=en),(!je||Q[0]&64&&Wt!==(Wt=B[6].enableTopSites))&&(vt.checked=Wt),(!je||Q[0]&128)&&a(d,"data-open",B[7]),(!je||Q[0]&128&&Kt!==(Kt=!B[7]))&&a(d,"aria-hidden",Kt),(!je||Q[0]&128&&pt!==(pt=!B[7]))&&a(Se,"aria-hidden",pt),(!je||Q[0]&128)&&Ie(Se,"visible",B[7]),B[6].enableBookmarkSearch?Le?(Le.p(B,Q),Q[0]&64&&x(Le,1)):(Le=Sr(B),Le.c(),x(Le,1),Le.m(st,At)):Le&&(Ze(),re(Le,1,1,()=>{Le=null}),xe()),(!je||Q[0]&32768)&&Me(Ct,B[15]),(!je||Q[0]&98304&&nn!==(nn=B[15]?B[16]:null))&&a(se,"data-tone",nn);let Ae=Te;Te=Sl(B),Te===Ae?ze[Te].p(B,Q):(Ze(),re(ze[Ae],1,1,()=>{ze[Ae]=null}),xe(),Je=ze[Te],Je?Je.p(B,Q):(Je=ze[Te]=tl[Te](B),Je.c()),x(Je,1),Je.m(st,null));const ct={};Q[0]&2&&(ct.open=B[1]),Q[1]&4096&&(ct.rootIds=B[43].rootIds??[]),Q[0]&67108864&&(ct.expandedIds=B[26]),Q[0]&131072&&(ct.loadingIds=B[17]),Q[0]&2097152&&(ct.visibleIds=B[21]),Q[0]&1048576&&(ct.searchQuery=B[20]),Q[0]&8&&(ct.searchMatches=B[3]),Q[0]&8388611&&(ct.selectedIds=B[1]&&B[23]?B[23]:B[0]),Q[0]&16777234&&(ct.summary=B[1]?B[24]:B[4]),Q[0]&8388611&&(ct.selectedFolderCount=B[1]?((Cl=B[23])==null?void 0:Cl.size)??0:B[0].size),Q[0]&37748738&&(ct.totalBookmarkCount=B[1]?B[25]:B[22]),Jt.$set(ct);const jn={};Q[0]&4&&(jn.open=B[2]),Q[0]&262144&&(jn.folders=B[18]),Q[0]&524288&&(jn.defaultFolderId=B[19]),Pt.$set(jn);const vl={};Q[1]&4&&(vl.open=B[33]),at.$set(vl);const Rn={};Q[1]&32&&(Rn.bookmark=B[36]),Q[1]&16&&(Rn.position=B[35]),Q[1]&8&&(Rn.visible=B[34]),Be.$set(Rn);const nl={};Q[1]&2&&(nl.toasts=B[32]),Ot.$set(nl)},i(B){je||(x(Le),x(Je),x(Jt.$$.fragment,B),x(Pt.$$.fragment,B),x(at.$$.fragment,B),x(Be.$$.fragment,B),x(Ot.$$.fragment,B),je=!0)},o(B){re(Le),re(Je),re(Jt.$$.fragment,B),re(Pt.$$.fragment,B),re(at.$$.fragment,B),re(Be.$$.fragment,B),re(Ot.$$.fragment,B),je=!1},d(B){B&&(G(e),G(t),G(l),G(Cn),G(on)),n[111](null),oo(Ne,B),oo(Ue,B),cn&&cn.d(),oo(We,B),un&&un.d(),Ft.d(),Xe&&Xe.d(),n[121](null),Le&&Le.d(),ze[Te].d(),Dt(Jt),Dt(Pt),Dt(at),Dt(Be),Dt(Ot),n[143](null),n[144](null),On=!1,He(el)}}}const qa=64,al="customBackgroundImage",cl="uiPreferences",Hn="dialPreferences",qn=2,io="hasSeenWelcome",Tr=5,Ga="BookmarkDialDB",vn="backgrounds",yo="customBackground",Ul=6,zl=10;function Mr(n=[],e=[]){return n.length!==e.length?!1:n.every((t,l)=>t===e[l])}function Wa(n={}){const e=Array.isArray(n.selectedIds)?n.selectedIds.filter(Boolean):[],t=Array.isArray(n.expandedIds)?n.expandedIds.filter(Boolean):[];return{selectedIds:Array.from(new Set(e)),expandedIds:Array.from(new Set(t))}}function Gn(n,e){if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function Dr(n,e){const t=[...n];if(!e)return t;const l=t.findIndex(r=>r.id===e);if(l<=0)return t;const[o]=t.splice(l,1);return[o,...t]}function go(n,e,t=[],l=!0){const o=n.nodesById[e];return!o||!o.isFolder||(o.childrenIds??[]).forEach(s=>{const i=n.nodesById[s];i&&(i.url?t.push(i):l&&go(n,s,t,!0))}),t}function Lr(n){const e=n.title||n.url;return{...n,displayTitle:e,initials:xr(e),palette:$r(e),fallback:!1}}async function So(n){try{const e=new URL(chrome.runtime.getURL("/_favicon/"));return e.searchParams.set("pageUrl",n),e.searchParams.set("size",qa.toString()),e.toString()}catch{return""}}function Ar(n=[],e){let t=!1;return{next:n.map(o=>o.id!==e||o.fallback?o:(t=!0,{...o,fallback:!0})),changed:t}}function Ll(n){try{return new URL(n).href}catch{try{return new URL(`https://${n}`).href}catch{return null}}}function ul(n){try{return new URL(n).hostname.replace(/^www\./i,"")}catch{return n}}function xr(n){return n?n.trim().split(/\s+/)[0].slice(0,2).toUpperCase():"‚Ä¢"}function Va(n,e){let t;return(...l)=>{clearTimeout(t),t=setTimeout(()=>n(...l),e)}}function $r(n){const e=(n||"").trim().toLowerCase();if(!e)return{background:"linear-gradient(145deg, #fde68a, #fbbf24)",text:"rgba(15, 23, 42, 0.85)"};let t=0,l=0,o=0;for(let p=0;p<e.length;p++){const S=e.charCodeAt(p),E=p+1;t+=S*E,l+=S*(E+1.5),o+=S*(E+2.5)}const r=so(t,360),s=so(l,36)-18,i=so(r+24+s,360),u=52+Math.abs(l)%30,d=42+Math.abs(o)%20,g=Math.min(96,u+8),y=Math.min(78,d+12),b=`hsl(${r}, ${u}%, ${d}%)`,w=`hsl(${i}, ${g}%, ${y}%)`,m=d>54?"rgba(30, 41, 59, 0.85)":"rgba(255, 255, 255, 0.88)";return{background:`linear-gradient(140deg, ${b}, ${w})`,text:m}}function so(n,e){return(n%e+e)%e}function Io(){return new Promise((n,e)=>{if(typeof indexedDB>"u"){e(new Error("IndexedDB not available"));return}const t=indexedDB.open(Ga,1);t.onerror=()=>e(t.error),t.onsuccess=()=>n(t.result),t.onupgradeneeded=l=>{const o=l.target.result;o.objectStoreNames.contains(vn)||o.createObjectStore(vn)}})}async function Pr(n){const e=await Io();return new Promise((t,l)=>{const o=e.transaction(vn,"readwrite"),s=o.objectStore(vn).put(n,yo);s.onerror=()=>l(s.error),s.onsuccess=()=>t(),o.oncomplete=()=>e.close()})}async function Ka(){try{const n=await Io();return new Promise((e,t)=>{const l=n.transaction(vn,"readonly"),r=l.objectStore(vn).get(yo);r.onerror=()=>t(r.error),r.onsuccess=()=>e(r.result||null),l.oncomplete=()=>n.close()})}catch{return null}}async function Qa(){try{const n=await Io();return new Promise((e,t)=>{const l=n.transaction(vn,"readwrite"),r=l.objectStore(vn).delete(yo);r.onerror=()=>t(r.error),r.onsuccess=()=>e(),l.oncomplete=()=>n.close()})}catch{}}function Ya(n){return n?URL.createObjectURL(n):""}const Ja=()=>{},Xa=()=>{},Za=()=>{},xa=()=>{},$a=()=>{},ec=()=>{},tc=()=>{},nc=()=>{},lc=()=>{},oc=()=>{},rc=()=>{};function ic(n,e,t){var Fo,To,Mo,Do;let l,o,r,s,i,u,d;Rr(n,Qr,c=>t(43,d=c));const g={loading:"Loading Bookmark Dial‚Ä¶",empty:"No bookmarks yet. Add shortcuts from this page or the bookmark manager.",error:"Bookmark Dial folder is unavailable. Try reopening the tab or reinstalling the extension."},y={selectedIds:[],expandedIds:[]},b=10*1024*1024,w=[{id:"dark",label:"Dark"},{id:"light",label:"Light"},{id:"system",label:"System"}],m=[{id:"cobalt",label:"Cobalt",colors:{base:"#2563eb",contrast:"#f8fafc",soft:"rgba(37, 99, 235, 0.14)",border:"rgba(37, 99, 235, 0.45)"}},{id:"violet",label:"Violet",colors:{base:"#8b5cf6",contrast:"#faf5ff",soft:"rgba(139, 92, 246, 0.16)",border:"rgba(139, 92, 246, 0.45)"}},{id:"emerald",label:"Emerald",colors:{base:"#059669",contrast:"#ecfdf5",soft:"rgba(5, 150, 105, 0.14)",border:"rgba(5, 150, 105, 0.45)"}},{id:"amber",label:"Amber",colors:{base:"#d97706",contrast:"#fffbeb",soft:"rgba(217, 119, 6, 0.18)",border:"rgba(217, 119, 6, 0.5)"}},{id:"rose",label:"Rose",colors:{base:"#e11d48",contrast:"#fff1f2",soft:"rgba(225, 29, 72, 0.16)",border:"rgba(225, 29, 72, 0.45)"}},{id:"slate",label:"Slate",colors:{base:"#475569",contrast:"#f8fafc",soft:"rgba(71, 85, 105, 0.18)",border:"rgba(71, 85, 105, 0.5)"}},{id:"sky",label:"Sky",colors:{base:"#0284c7",contrast:"#e0f2fe",soft:"rgba(2, 132, 199, 0.16)",border:"rgba(2, 132, 199, 0.45)"}},{id:"blush",label:"Blush",colors:{base:"#ec4899",contrast:"#fff0f6",soft:"rgba(236, 72, 153, 0.18)",border:"rgba(236, 72, 153, 0.5)"}},{id:"moss",label:"Moss",colors:{base:"#4d7c0f",contrast:"#ecfccb",soft:"rgba(77, 124, 15, 0.18)",border:"rgba(77, 124, 15, 0.5)"}},{id:"bronze",label:"Bronze",colors:{base:"#b45309",contrast:"#fff7ed",soft:"rgba(180, 83, 9, 0.2)",border:"rgba(180, 83, 9, 0.55)"}},{id:"orchid",label:"Orchid",colors:{base:"#c026d3",contrast:"#fdf4ff",soft:"rgba(192, 38, 211, 0.18)",border:"rgba(192, 38, 211, 0.5)"}},{id:"mint",label:"Mint",colors:{base:"#14b8a6",contrast:"#e0fefa",soft:"rgba(20, 184, 166, 0.16)",border:"rgba(20, 184, 166, 0.46)"}},{id:"graphite",label:"Graphite",colors:{base:"#1f2937",contrast:"#f8fafc",soft:"rgba(31, 41, 55, 0.22)",border:"rgba(31, 41, 55, 0.6)"}},{id:"sunset",label:"Sunset",colors:{base:"#ea580c",contrast:"#fff7ed",soft:"rgba(234, 88, 12, 0.18)",border:"rgba(234, 88, 12, 0.52)"}},{id:"glacier",label:"Glacier",colors:{base:"#0ea5e9",contrast:"#f0f9ff",soft:"rgba(14, 165, 233, 0.16)",border:"rgba(14, 165, 233, 0.45)"}},{id:"amethyst",label:"Amethyst",colors:{base:"#6d28d9",contrast:"#f5f3ff",soft:"rgba(109, 40, 217, 0.18)",border:"rgba(109, 40, 217, 0.5)"}},{id:"sand",label:"Sand",colors:{base:"#ca8a04",contrast:"#fffbeb",soft:"rgba(202, 138, 4, 0.2)",border:"rgba(202, 138, 4, 0.5)"}},{id:"cranberry",label:"Cranberry",colors:{base:"#be123c",contrast:"#fff1f5",soft:"rgba(190, 18, 60, 0.18)",border:"rgba(190, 18, 60, 0.5)"}}],p=[{id:"aurora",label:"Aurora",gradients:{light:"linear-gradient(135deg, #d8b4fe 0%, #6366f1 50%, #22d3ee 100%)",dark:"linear-gradient(135deg, #312e81 0%, #1e3a8a 50%, #0f172a 100%)"},accent:"violet"},{id:"sunrise",label:"Sunrise",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 50%, #f97316 100%)",dark:"linear-gradient(135deg, #7c2d12 0%, #c2410c 45%, #ea580c 100%)"},accent:"amber"},{id:"forest",label:"Forest",gradients:{light:"linear-gradient(135deg, #bbf7d0 0%, #34d399 50%, #0f766e 100%)",dark:"linear-gradient(135deg, #064e3b 0%, #059669 50%, #0f172a 100%)"},accent:"emerald"},{id:"ocean",label:"Ocean",gradients:{light:"linear-gradient(135deg, #bae6fd 0%, #38bdf8 50%, #0ea5e9 100%)",dark:"linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #082f49 100%)"},accent:"sky"},{id:"twilight",label:"Twilight",gradients:{light:"linear-gradient(135deg, #fecdd3 0%, #fda4af 50%, #fb7185 100%)",dark:"linear-gradient(135deg, #7f1d1d 0%, #be123c 50%, #9f1239 100%)"},accent:"orchid"},{id:"slate",label:"Slate",gradients:{light:"linear-gradient(135deg, #e2e8f0 0%, #cbd5f5 50%, #94a3b8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #0f172a 50%, #020617 100%)"},accent:"slate"},{id:"blossom",label:"Blossom",gradients:{light:"linear-gradient(135deg, #ffe4e6 0%, #fbcfe8 45%, #f472b6 100%)",dark:"linear-gradient(135deg, #831843 0%, #9d174d 50%, #701a75 100%)"},accent:"blush"},{id:"lagoon",label:"Lagoon",gradients:{light:"linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 40%, #5eead4 100%)",dark:"linear-gradient(135deg, #022c22 0%, #0d9488 45%, #14b8a6 100%)"},accent:"mint"},{id:"ember",label:"Ember",gradients:{light:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 40%, #fb7185 100%)",dark:"linear-gradient(135deg, #450a0a 0%, #9f1239 50%, #be123c 100%)"},accent:"rose"},{id:"lilac",label:"Lilac",gradients:{light:"linear-gradient(135deg, #f5f3ff 0%, #ede9fe 45%, #d8b4fe 100%)",dark:"linear-gradient(135deg, #312e81 0%, #5b21b6 50%, #7c3aed 100%)"},accent:"violet"},{id:"zenith",label:"Zenith",gradients:{light:"linear-gradient(135deg, #e0f2fe 0%, #dbeafe 45%, #818cf8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #1f3b8a 45%, #3730a3 100%)"},accent:"cobalt"},{id:"sage",label:"Sage",gradients:{light:"linear-gradient(135deg, #ecfccb 0%, #bbf7d0 45%, #84cc16 100%)",dark:"linear-gradient(135deg, #052e16 0%, #166534 45%, #15803d 100%)"},accent:"moss"},{id:"velvet",label:"Velvet",gradients:{light:"linear-gradient(135deg, #fdf4ff 0%, #f5d0fe 45%, #f0abfc 100%)",dark:"linear-gradient(135deg, #4a044e 0%, #6b21a8 45%, #86198f 100%)"},accent:"orchid"},{id:"citrus",label:"Citrus",gradients:{light:"linear-gradient(135deg, #fefce8 0%, #fef08a 45%, #facc15 100%)",dark:"linear-gradient(135deg, #422006 0%, #854d0e 50%, #b45309 100%)"},accent:"amber"},{id:"glacier",label:"Glacier",gradients:{light:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 45%, #bae6fd 100%)",dark:"linear-gradient(135deg, #082f49 0%, #0c4a6e 45%, #0284c7 100%)"},accent:"sky"},{id:"terracotta",label:"Terracotta",gradients:{light:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 45%, #f97316 100%)",dark:"linear-gradient(135deg, #431407 0%, #7c2d12 45%, #9a3412 100%)"},accent:"bronze"},{id:"nocturne",label:"Nocturne",gradients:{light:"linear-gradient(135deg, #ede9fe 0%, #c7d2fe 45%, #4338ca 100%)",dark:"linear-gradient(135deg, #020617 0%, #111827 45%, #312e81 100%)"},accent:"slate"},{id:"horizon",label:"Horizon",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 40%, #60a5fa 100%)",dark:"linear-gradient(135deg, #451a03 0%, #9a3412 45%, #1d4ed8 100%)"},accent:"cobalt"}],S=p[0],C={theme:"system",accent:S!=null&&S.accent&&m.some(c=>c.id===S.accent)?S.accent:m[0].id,background:{mode:"gradient",gradientId:(S==null?void 0:S.id)??p[0].id},titleBackdrop:!1,mergeAllBookmarks:!0,folderColumnWidth:1170,compactFolderHeader:!0,enableBookmarkSearch:!1,enableTopSites:!1,lastShortcutFolderId:null},U={...C,folderSelection:{...y},version:qn},O=typeof chrome<"u"?chrome:null,v=(Fo=O==null?void 0:O.runtime)!=null&&Fo.id?O:Bi(),W=!!((To=O==null?void 0:O.runtime)!=null&&To.id),A=!!((Mo=O==null?void 0:O.storage)!=null&&Mo.local)&&W,z=!!((Do=O==null?void 0:O.storage)!=null&&Do.sync)&&W;let P=g.loading,K="info",X=[],J=[],me=new Set,be=null,Z=new Set,ge=new Set,qe=new Set,oe=!1,ne=!1,we=!1,mt=null,$e=[],N=null,Ge="",et=new Set,Ee=null,kt=[],ve=new Map,Pe=0,De=null,Oe=null,rt=[],Re=new Map,tt=0,ae=!1,_t=new Set,it=0,Fe=0,Ce=null,ye="",_e,wt,nt,yt,T=Ot(),Ye=!1,Ht=!0,en=!1,qt=!1,St=!1,Gt=!1,It=[...m],vt=[...p],Wt=[],bl=0,Vt=!1,Kt=!1,Jn={x:0,y:0},Se=null,pt="",tn=!1,st=[],At=!1,se=-1,Ct=null,nn=4,Qt=null,Te=null,Je=null,Yt=null,Jt="",Xn="",Pt=[],Zn=new Map,at=null,Dn=null,Be=null;const ln=[];js(()=>{var c,h;if((async()=>{try{await wn()}catch(k){console.error("Bookmark Dial: failed to load settings",k),t(6,T=Ot()),t(104,qt=A),lt(T.theme),Bt(T.accent),En(T.background.gradientId)}try{await Ii()}catch(k){console.error("Bookmark Dial: failed to load background",k)}t(102,Ht=!1),await oi(),We()})(),typeof window<"u"){const k=F=>{const j=F.target;if(!(j instanceof HTMLInputElement||j instanceof HTMLTextAreaElement)){if(Kt&&F.key==="Escape"){In(),F.stopPropagation();return}if(F.key==="Escape"){if(se>=0){t(12,se=-1),F.stopPropagation();return}if(Ce!==null){t(27,Ce=null),F.stopPropagation();return}if(tn){vo(),F.stopPropagation();return}Ye&&Pn();return}if(F.key==="/"&&T.enableBookmarkSearch&&!F.ctrlKey&&!F.metaKey){F.preventDefault(),t(37,tn=!0);return}T.mergeAllBookmarks&&!Ye&&!tn&&!Vt&&di(F)}},M=F=>{if(Kt){const R=F.target;R instanceof Element&&!R.closest(".context-menu")&&In()}if(Ce===null)return;const j=F.target;j instanceof Element&&j.closest(".tile-actions")||t(27,Ce=null)};window.addEventListener("keydown",k),window.addEventListener("pointerdown",M),ln.push(()=>window.removeEventListener("keydown",k)),ln.push(()=>window.removeEventListener("pointerdown",M))}if((h=(c=v==null?void 0:v.storage)==null?void 0:c.onChanged)!=null&&h.addListener){const k=(M,F)=>{if(F!=="sync"&&F!=="local")return;const R=M[F==="sync"?Hn:cl];!R||!R.newValue||ni(R.newValue)};v.storage.onChanged.addListener(k),ln.push(()=>v.storage.onChanged.removeListener(k))}return()=>{at&&clearTimeout(at),Qt&&(Qt.disconnect(),Qt=null),Yt&&(Yt.abort(),Yt=null),Rt&&(URL.revokeObjectURL(Rt),Rt=null),typeof document<"u"&&document.body.classList.remove("settings-open"),ln.forEach(k=>k==null?void 0:k())}});function Ot(){return{theme:C.theme,accent:C.accent,background:{...C.background},titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,folderColumnWidth:C.folderColumnWidth,compactFolderHeader:C.compactFolderHeader,enableBookmarkSearch:C.enableBookmarkSearch,enableTopSites:C.enableTopSites,lastShortcutFolderId:C.lastShortcutFolderId}}function Cn(c){return w.some(h=>h.id===c)?c:C.theme}function on(c){return m.some(h=>h.id===c)?c:C.accent}function bt(c){return p.some(h=>h.id===c)?c:C.background.gradientId}function Ln(c={}){var ot,Nt,hn,rl;const h=Cn(c.theme),k=on(c.accent),M=c.background??{},F=M.mode==="custom"?"custom":"gradient",j=bt(M.gradientId),R=typeof c.titleBackdrop=="boolean",ie=R?c.titleBackdrop:C.titleBackdrop,Ke=typeof c.mergeAllBookmarks=="boolean"||typeof c.groupFoldersTogether=="boolean",le=Ke?c.mergeAllBookmarks??c.groupFoldersTogether:C.mergeAllBookmarks,te=typeof c.folderColumnWidth=="number"?c.folderColumnWidth:C.folderColumnWidth,ee=typeof c.compactFolderHeader=="boolean"?c.compactFolderHeader:C.compactFolderHeader,pe=typeof c.enableBookmarkSearch=="boolean"?c.enableBookmarkSearch:C.enableBookmarkSearch,ut=typeof c.enableTopSites=="boolean"?c.enableTopSites:C.enableTopSites,Qe=c.lastShortcutFolderId??C.lastShortcutFolderId,fn=Wa(c.folderSelection),de=!Mr(fn.selectedIds,((ot=c.folderSelection)==null?void 0:ot.selectedIds)??[])||!Mr(fn.expandedIds,((Nt=c.folderSelection)==null?void 0:Nt.expandedIds)??[]),ce=h!==c.theme||k!==c.accent||F!==(((hn=c.background)==null?void 0:hn.mode)??C.background.mode)||j!==(((rl=c.background)==null?void 0:rl.gradientId)??C.background.gradientId)||!R||!Ke||te!==c.folderColumnWidth||ee!==c.compactFolderHeader||pe!==c.enableBookmarkSearch||ut!==c.enableTopSites||Qe!==c.lastShortcutFolderId;return{settings:{theme:h,accent:k,background:{mode:F,gradientId:j},titleBackdrop:ie,mergeAllBookmarks:le,folderColumnWidth:te,compactFolderHeader:ee,enableBookmarkSearch:pe,enableTopSites:ut,lastShortcutFolderId:Qe},folderSelection:fn,changed:ce||de||(c.version??qn)!==qn}}function kl(c){return m.find(h=>h.id===c)??m[0]}function rn(c){return p.find(h=>h.id===c)??p[0]}function bn(){t(105,It=Dr(m,T==null?void 0:T.accent)),t(9,Gt=!1)}function xn(){t(9,Gt=!0)}function _l(){Gt?bn():xn()}function Bn(){var c,h;t(106,vt=Dr(p,((c=T==null?void 0:T.background)==null?void 0:c.mode)==="gradient"?(h=T==null?void 0:T.background)==null?void 0:h.gradientId:null)),t(8,St=!1)}function wl(){t(8,St=!0)}function An(){St?Bn():wl()}function yl(){return!Dn&&typeof window<"u"&&typeof window.matchMedia=="function"&&(Dn=window.matchMedia("(prefers-color-scheme: dark)")),Dn}function lt(c){if(typeof document>"u")return;const h=Cn(c),k=yl();if(h==="system"&&k){if(document.body.classList.toggle("dark",k.matches),!Be){const M=F=>{document.body.classList.toggle("dark",F.matches)};typeof k.addEventListener=="function"?(k.addEventListener("change",M),Be=()=>k.removeEventListener("change",M)):typeof k.addListener=="function"?(k.addListener(M),Be=()=>k.removeListener(M)):Be=null,Be&&ln.push(Be)}}else Be&&(Be(),Be=null),document.body.classList.toggle("dark",h==="dark");document.body.dataset.theme=h}function Bt(c){if(typeof document>"u")return;const h=kl(c),k=document.documentElement;k.style.setProperty("--accent-color",h.colors.base),k.style.setProperty("--accent-color-contrast",h.colors.contrast),k.style.setProperty("--accent-color-soft",h.colors.soft),k.style.setProperty("--accent-color-border",h.colors.border)}function En(c){if(typeof document>"u")return;const h=rn(c),k=document.documentElement;k.style.setProperty("--page-background-light",h.gradients.light),k.style.setProperty("--page-background-dark",h.gradients.dark)}function Et(){if(!A||!en||!oe)return;at&&clearTimeout(at);const c={theme:T.theme,accent:T.accent,titleBackdrop:T.titleBackdrop,mergeAllBookmarks:T.mergeAllBookmarks,folderColumnWidth:T.folderColumnWidth,compactFolderHeader:T.compactFolderHeader,enableBookmarkSearch:T.enableBookmarkSearch,enableTopSites:T.enableTopSites,lastShortcutFolderId:T.lastShortcutFolderId,background:{...T.background},folderSelection:{selectedIds:Array.from(Z),expandedIds:Array.from(ge)},version:qn};at=setTimeout(async()=>{at=null;try{const h=[v.storage.local.set({[cl]:c})];z&&h.push(v.storage.sync.set({[Hn]:c})),await Promise.all(h)}catch(h){console.error("Bookmark Dial: failed to store preferences",h)}},120)}function Pn(){if(Ye&&(t(7,Ye=!1),typeof document<"u"&&yt)){const c=document.activeElement;c&&yt.contains(c)&&(nt==null||nt.focus())}}function kn(){t(7,Ye=!Ye)}function $n(c){const h=Cn(c);T.theme!==h&&t(6,T={...T,theme:h})}function _n(c){const h=on(c);T.accent!==h&&t(6,T={...T,accent:h})}function je(c){const h=!!c;T.titleBackdrop!==h&&t(6,T={...T,titleBackdrop:h})}function On(c){const h=!!c;T.mergeAllBookmarks!==h&&t(6,T={...T,mergeAllBookmarks:h})}function el(c){const h=Number(c);T.folderColumnWidth!==h&&t(6,T={...T,folderColumnWidth:h})}function sn(c){const h=!!c;T.compactFolderHeader!==h&&t(6,T={...T,compactFolderHeader:h})}function Ne(c){const h=!!c;T.enableBookmarkSearch!==h&&(t(6,T={...T,enableBookmarkSearch:h}),h||(t(37,tn=!1),t(10,pt="")))}function an(c){const h=!!c;T.enableTopSites!==h&&(t(6,T={...T,enableTopSites:h}),h&&!At&&Co())}function Ue(c){const h=bt(c),k=rn(h),M=k.accent&&m.some(ie=>ie.id===k.accent)?k.accent:null,F=T.background.mode!=="gradient"||T.background.gradientId!==h,j=M?on(M):T.accent,R=!!M&&j!==T.accent;!F&&!R||t(6,T={...T,accent:R?j:T.accent,background:{...T.background,mode:"gradient",gradientId:h}})}async function cn(){Pn(),await Nl(),_i()}async function wn(){if(t(104,qt=!1),t(101,ae=!1),!A){t(6,T=Ot()),t(0,Z=new Set(y.selectedIds)),t(98,ge=new Set(y.expandedIds)),t(99,oe=!0),lt(T.theme),Bt(T.accent),En(T.background.gradientId),Ve();return}let c={},h={};if(z)try{c=await v.storage.sync.get(Hn)}catch(j){console.warn("Bookmark Dial: failed to read sync preferences",j)}try{h=await v.storage.local.get(cl)}catch(j){console.warn("Bookmark Dial: failed to read local preferences",j)}let k=c==null?void 0:c[Hn],M=!1;!k&&(h!=null&&h[cl])&&(k=h[cl],M=!0);const F=Ln(k??U);t(6,T=F.settings),t(0,Z=new Set(F.folderSelection.selectedIds.length?F.folderSelection.selectedIds:y.selectedIds)),t(98,ge=new Set(F.folderSelection.expandedIds)),t(99,oe=!0),t(104,qt=F.changed||M),t(101,ae=F.changed||M),lt(T.theme),Bt(T.accent),En(T.background.gradientId),Ve()}async function We(){try{await Ys(v),be=await un(),await yn(),await jt(),Ft(),await ze()}catch(c){console.error("Bookmark Dial: initialization failed",c),dn(g.error,"error")}}async function un(){const c=await v.runtime.sendMessage({type:"getFolderId"});if(!(c!=null&&c.folderId))throw new Error((c==null?void 0:c.error)||"Missing folder");return c.folderId}async function yn(){Z.size===0&&be&&(t(0,Z=new Set([be])),t(101,ae=!0))}async function jt(){const c=Array.from(Z);c.length&&(await Promise.allSettled(c.map(h=>sl(v,h))),Ve())}function Ft(){var ie,Ke;const c=Va(()=>ze(),150),h=(le,te)=>{Xs(te),!te.url&&Il(te)&&Q(te.id),te.url?B(te.parentId)&&c():Z.has(te.id)&&c()};v.bookmarks.onCreated.addListener(h);const k=(le,te)=>{Zs(le,te),me.has(le)&&c()};v.bookmarks.onChanged.addListener(k);const M=(le,te)=>{xs(le,te),(me.has(le)||B(te.parentId)||B(te.oldParentId))&&c()};v.bookmarks.onMoved.addListener(M);const F=(le,te)=>{const ee=Jr(le);ee&&Xe(le,{...te,node:ee}),$s(le,te),(me.has(le)||B(te.parentId))&&(me.delete(le),c())};v.bookmarks.onRemoved.addListener(F);const j=()=>c(),R=()=>dn("Importing bookmarks‚Ä¶");(ie=v.bookmarks.onImportEnded)==null||ie.addListener(j),(Ke=v.bookmarks.onImportBegan)==null||Ke.addListener(R),ln.push(()=>{var le,te;v.bookmarks.onCreated.removeListener(h),v.bookmarks.onChanged.removeListener(k),v.bookmarks.onMoved.removeListener(M),v.bookmarks.onRemoved.removeListener(F),(le=v.bookmarks.onImportEnded)==null||le.removeListener(j),(te=v.bookmarks.onImportBegan)==null||te.removeListener(R)})}function Xe(c,h={}){if(h!=null&&h.node&&!h.node.url){const k=new Set(Dl(c));if(k.size){const M=new Set(Z);let F=!1;k.forEach(j=>{M.has(j)&&(M.delete(j),F=!0)}),F&&(t(0,Z=M),t(101,ae=!0),Ve(),Et(),Z.size||Promise.resolve().then(()=>yn()).then(()=>jt()).then(()=>ze()))}c===be&&Le()}}async function Le(){dn("Default folder was removed. Recreating‚Ä¶");try{const c=await v.runtime.sendMessage({type:"resetFolderCache"});if(c!=null&&c.folderId)be=c.folderId,await Q(be),await ze(),dn("Default folder restored.","success");else throw new Error((c==null?void 0:c.error)||"Unable to recreate folder")}catch(c){console.error("Bookmark Dial: missing folder recovery failed",c),dn(g.error,"error")}}async function tl(c,h=null){const k=c instanceof Set?new Set(c):new Set(c??[]);if(!k.size)return{items:[],counts:new Map,total:0,groups:[]};if(h!=null&&h.aborted)throw new DOMException("Aborted","AbortError");const M=gn(),F=Array.from(k).filter(ee=>{const pe=M.nodesById[ee];return!pe||!pe.childrenLoaded});if(F.length>0&&await Promise.all(F.map(ee=>sl(v,ee))),h!=null&&h.aborted)throw new DOMException("Aborted","AbortError");const j=gn(),R=new Map,ie=new Map,Ke=[],le=[];k.forEach(ee=>{const pe=go(j,ee,[],!0),ut=go(j,ee,[],!1),Qe=Pl(ee),fn=Qe[Qe.length-1]||"Untitled folder";pe.forEach(ce=>{const Nt=(Ll(ce.url)||ce.url||ce.url||ce.id).toLowerCase();R.has(Nt)||(R.set(Nt,ce.id),Ke.push({...ce,sourceFolderId:ee,sourcePath:Qe}))});const de=ut.map(ce=>{const Nt=(Ll(ce.url)||ce.url||ce.url||ce.id).toLowerCase(),hn=ie.get(ee)??new Set;return hn.add(Nt),ie.set(ee,hn),{...ce,sourceFolderId:ee,sourcePath:Qe}});le.push({id:ee,label:fn,path:Qe,fullPath:Qe.join(" ‚Ä∫ "),items:de})}),le.sort((ee,pe)=>ee.fullPath.localeCompare(pe.fullPath));const te=new Map(Array.from(ie.entries()).map(([ee,pe])=>[ee,pe.size]));return{items:Ke,counts:te,total:Ke.length,groups:le}}async function ze(){const c=++it;if(!Z.size){t(96,X=[]),t(97,J=[]),me=new Set,ve=new Map,t(22,Pe=0),Ve(),dn("Select folders to populate this page.","info");return}Yt&&Yt.abort(),Yt=new AbortController;const h=Yt.signal;try{const k=await tl(Z,h);if(c!==it)return;ve=k.counts,t(22,Pe=k.total),Sl(k.items),t(97,J=k.groups.map(M=>({id:M.id,label:M.label,path:M.path,fullPath:M.fullPath,items:M.items.map(F=>Lr(F))}))),Ve(),k.items.length===0?dn(g.empty):dn("","info")}catch(k){if(k.name==="AbortError")return;console.error("Bookmark Dial: failed to load bookmarks",k),dn(g.error,"error")}}function Sl(c){me=new Set(c.map(F=>F.id));const k=[],M=new Map;for(const F of c){const j=F.id,R=Zn.get(j);if(R&&R.title===F.title&&R.url===F.url&&R.index===F.index)k.push(R),M.set(j,R);else{const ie=Lr(F);k.push(ie),M.set(j,ie)}}Zn=M,t(96,X=k)}function Il(c){return!c||c.url?!1:B(c.parentId)}function B(c){if(!c)return!1;const h=gn();let k=c;for(;k;){if(Z.has(k))return!0;const M=h.nodesById[k];k=(M==null?void 0:M.parentId)??null}return!1}async function Q(c){if(!c)return;await sl(v,c);const h=Dl(c),k=new Set(Z);let M=!1;h.forEach(F=>{k.has(F)||(k.add(F),M=!0)}),M&&(t(0,Z=k),t(101,ae=!0),await jt(),await ze(),Et())}async function Ae(c){if(!c)return;const h=Dl(c);if(!h.length)return;const k=ne,M=k&&De?De:k?new Set(Z):Z,F=new Set(M);if(h.every(R=>F.has(R))?h.forEach(R=>F.delete(R)):h.forEach(R=>F.add(R)),k){t(23,De=F);const R=++Fe,ie=await tl(De);if(R!==Fe)return;Re=ie.counts,t(25,tt=ie.total),t(24,rt=$(De,Re))}else Gn(Z,F)||(t(0,Z=F),t(101,ae=!0),await yn(),await jt(),await ze(),Et())}function ct(c){var te;if(!c)return;const h=gn(),k=h.nodesById[c];if(!(k!=null&&k.isFolder)||!(((te=k.childrenIds)==null?void 0:te.some(ee=>{const pe=h.nodesById[ee];return pe==null?void 0:pe.isFolder}))??!1))return;const F=ne,j=F&&Oe?Oe:F?new Set(ge):ge,R=new Set(j??[]),ie=new Set(R),Ke=(ee,{persist:pe=!1}={})=>{F?t(100,Oe=ee):(t(98,ge=ee),pe&&(t(101,ae=!0),Et()))};R.has(c)?R.delete(c):R.add(c);const le=!Gn(ie,R);Ke(R,{persist:le})}async function jn(){if(ne){t(23,De=new Set),Fe++,Re=new Map,t(25,tt=0),t(24,rt=[]);return}t(0,Z=new Set),t(101,ae=!0),await yn(),await jt(),await ze(),Et()}async function vl(){if(!ne)return;const c=new Set(De??[]),h=new Set(Oe??[]),k=!Gn(Z,c),M=!Gn(ge,h);t(1,ne=!1),nl(),k&&(t(0,Z=c),t(101,ae=!0),await yn(),await jt(),await ze()),M&&(t(98,ge=h),t(101,ae=!0)),k||M?Et():Ve()}async function Rn(){await Js(v),t(23,De=new Set(Z)),t(100,Oe=new Set(ge)),Re=new Map(ve),t(25,tt=Pe),t(24,rt=$(De,Re)),Fe=0,t(20,Ge=""),t(3,et=new Set),t(21,Ee=null),t(1,ne=!0)}function nl(){t(23,De=null),t(100,Oe=null),t(24,rt=[]),Re=new Map,t(25,tt=0),Fe=0,t(20,Ge=""),t(3,et=new Set),t(21,Ee=null)}function Cl(){t(1,ne=!1),nl()}function $(c,h){gn();const k=Array.from(c??[]).map(M=>{const F=Pl(M),j=F[F.length-1]||"Untitled folder";return{id:M,path:F,label:j,fullPath:F.join(" ‚Ä∫ "),count:(h==null?void 0:h.get(M))??0}});return k.sort((M,F)=>M.fullPath.localeCompare(F.fullPath)),k}function Ve(){const c=Array.from(Z).sort().join(","),h=Array.from(ve.entries()).sort(([k],[M])=>k.localeCompare(M)).map(([k,M])=>`${k}:${M}`).join(",");if(c===Jt&&h===Xn){t(4,kt=Pt);return}Jt=c,Xn=h,Pt=$(Z,ve),t(4,kt=Pt)}function ei(c){const k=gn().nodesById[c],M=ne&&De?De:Z;if(!(k!=null&&k.isFolder))return M.has(c)?"selected":"none";const F=Dl(c);if(!F.length)return M.has(c)?"selected":"none";const j=F.filter(R=>M.has(R)).length;return j===0?"none":j===F.length?"selected":"partial"}async function ti(c){var Ke;t(20,Ge=c);const h=c.trim();if(!h){t(3,et=new Set),t(21,Ee=null);return}if((Ke=v==null?void 0:v.bookmarks)!=null&&Ke.search)try{const te=(await v.bookmarks.search({query:h})).filter(ee=>!ee.url);for(const ee of te){await sl(v,ee.id);let pe=ee.parentId;for(;pe;){await sl(v,pe);const ut=gn().nodesById[pe];pe=(ut==null?void 0:ut.parentId)??null}}}catch(le){console.warn("Bookmark Dial: folder search failed",le)}const k=ea(),M=h.toLowerCase(),j=k.filter(le=>{const te=le.title.toLowerCase().includes(M),ee=le.path.join(" ").toLowerCase().includes(M);return te||ee}).map(le=>le.id);t(3,et=new Set(j));const R=new Set,ie=gn();j.forEach(le=>{var pe;let te=ie.nodesById[le];for(;te&&(R.add(te.id),!!te.parentId);)te=ie.nodesById[te.parentId];const ee=ie.nodesById[le];(pe=ee==null?void 0:ee.childrenIds)==null||pe.forEach(ut=>{const Qe=ie.nodesById[ut];Qe!=null&&Qe.isFolder&&R.add(ut)})}),t(21,Ee=R)}function ni(c){const h=Ln(c),k=h.settings;(k.theme!==T.theme||k.accent!==T.accent||k.background.mode!==T.background.mode||k.background.gradientId!==T.background.gradientId||k.titleBackdrop!==T.titleBackdrop||k.mergeAllBookmarks!==T.mergeAllBookmarks||k.folderColumnWidth!==T.folderColumnWidth||k.compactFolderHeader!==T.compactFolderHeader||k.enableBookmarkSearch!==T.enableBookmarkSearch||k.enableTopSites!==T.enableTopSites)&&t(6,T={...T,...k,background:{...k.background}});const F=new Set(h.folderSelection.selectedIds),j=new Set(h.folderSelection.expandedIds),R=!Gn(F,Z),ie=!Gn(j,ge);R&&(t(0,Z=F),Ve(),ze()),ie&&t(98,ge=j),(R||ie)&&t(101,ae=!1)}function Gl(c){const{next:h,changed:k}=Ar(X,c);if(!k)return;t(96,X=h);let M=!1;const F=J.map(j=>{const{next:R,changed:ie}=Ar(j.items,c);return ie?(M=!0,{...j,items:R}):j});M&&t(97,J=F)}function Wl(c){t(27,Ce=Ce===c?null:c)}function Vl(){t(27,Ce=null)}function Sn(c,h="info",k=null,M=5e3){const F=++bl,j={id:F,message:c,type:h,undoData:k};let R=[...Wt,j];return R.length>Tr&&(R=R.slice(-Tr)),t(32,Wt=R),M>0&&setTimeout(()=>Kl(F),M),F}function Kl(c){t(32,Wt=Wt.filter(h=>h.id!==c))}async function li(c){if(!(c!=null&&c.undoData))return;const{action:h,data:k}=c.undoData;try{h==="removeBookmark"&&k&&(await v.bookmarks.create({parentId:k.parentId,title:k.title,url:k.url,index:k.index}),Sn("Bookmark restored","success"))}catch(M){console.error("Bookmark Dial: undo failed",M),Sn("Failed to undo","error")}Kl(c.id)}async function oi(){if(!A){t(33,Vt=!0);return}try{const c=await v.storage.local.get(io);c!=null&&c[io]||t(33,Vt=!0)}catch(c){console.warn("Bookmark Dial: failed to check welcome state",c)}}async function ri(){if(t(33,Vt=!1),A)try{await v.storage.local.set({[io]:!0})}catch(c){console.warn("Bookmark Dial: failed to save welcome state",c)}}function Ql(c,h){c.preventDefault(),Vl(),t(36,Se=h);const k=180,M=180;let F=c.clientX,j=c.clientY;F+k>window.innerWidth&&(F=window.innerWidth-k-8),j+M>window.innerHeight&&(j=window.innerHeight-M-8),t(35,Jn={x:F,y:j}),t(34,Kt=!0)}function In(){t(34,Kt=!1),t(36,Se=null)}async function ii(){Se!=null&&Se.url&&window.open(Se.url,"_blank"),In()}async function si(){if(Se!=null&&Se.url)try{await navigator.clipboard.writeText(Se.url),Sn("URL copied to clipboard","success")}catch(c){console.error("Bookmark Dial: copy failed",c),Sn("Failed to copy URL","error")}In()}function ai(){Se&&El(Se),In()}function ci(){Se&&ll(Se.id),In()}function ui(c){t(10,pt=c)}function vo(){t(37,tn=!1),t(10,pt="")}async function Co(){var c;if(!At){if(!((c=v==null?void 0:v.topSites)!=null&&c.get)){t(107,At=!0);return}try{const h=await v.topSites.get();t(11,st=(h||[]).map((k,M)=>({id:`topsite-${M}`,title:k.title||ul(k.url),url:k.url,displayTitle:k.title||ul(k.url),initials:xr(k.title||ul(k.url)),palette:$r(k.title||ul(k.url)),fallback:!1,isTopSite:!0}))),t(107,At=!0)}catch(h){console.warn("Bookmark Dial: failed to load top sites",h),t(107,At=!0)}}}function di(c){const h=T.enableTopSites?[...i,...st]:i;if(!h.length)return;const k=fi(),M=h.length;if(["ArrowRight","ArrowLeft","ArrowDown","ArrowUp"].includes(c.key)&&se<0){c.preventDefault(),t(12,se=0);return}if(c.key==="ArrowRight")c.preventDefault(),se+1<M&&t(12,se=se+1);else if(c.key==="ArrowLeft")c.preventDefault(),se-1>=0&&t(12,se=se-1);else if(c.key==="ArrowDown"){c.preventDefault();const j=se+k;j<M&&t(12,se=j)}else if(c.key==="ArrowUp"){c.preventDefault();const j=se-k;j>=0&&t(12,se=j)}else if(c.key==="Enter"&&se>=0){c.preventDefault();const j=h[se];j!=null&&j.url&&(window.location.href=j.url)}else if((c.key==="Delete"||c.key==="Backspace")&&se>=0){c.preventDefault();const j=h[se];if(j&&!j.isTopSite){const R=M-1;ll(j.id),R===0?t(12,se=-1):se>=R&&t(12,se=R-1)}}else if(c.key>="0"&&c.key<="9"){const j=c.key==="0"?9:parseInt(c.key,10)-1;if(j<M){c.preventDefault();const R=h[j];R!=null&&R.url&&(window.location.href=R.url)}}}function Bo(){if(!Ct){nn=4;return}try{nn=getComputedStyle(Ct).getPropertyValue("grid-template-columns").split(" ").length||4}catch{nn=4}}function fi(){return nn}function hi(){!Ct||typeof ResizeObserver>"u"||(Qt&&Qt.disconnect(),Qt=new ResizeObserver(()=>{Bo()}),Qt.observe(Ct),Bo())}function Yl(c){t(12,se=c)}function Jl(c,h,k=null){if(h.isTopSite){c.preventDefault();return}t(38,Te=h),k||h.parentId,c.dataTransfer.effectAllowed="move",c.dataTransfer.setData("text/plain",h.id)}function Xl(c,h){!Te||Te.id===h.id||h.isTopSite||(c.preventDefault(),c.dataTransfer.dropEffect="move",t(39,Je=h))}function gi(c){c.currentTarget.contains(c.relatedTarget)||t(39,Je=null)}async function Zl(c,h){if(c.preventDefault(),!Te||Te.id===h.id){Bl();return}if(h.isTopSite){Bl();return}try{await v.bookmarks.move(Te.id,{parentId:h.parentId,index:h.index}),Sn("Bookmark moved","success")}catch(k){console.error("Bookmark Dial: move failed",k),Sn("Failed to move bookmark","error")}Bl()}function mi(){Bl()}function Bl(){t(38,Te=null),t(39,Je=null)}async function xl(c=null){mt=c,t(2,we=!0)}async function pi(c){t(2,we=!1);const{folderId:h,url:k,title:M}=c,F=Ll(k);if(!F){alert("That does not appear to be a valid URL.");return}try{await v.bookmarks.create({parentId:h,title:M,url:F}),t(6,T={...T,lastShortcutFolderId:h}),Et()}catch(j){console.error("Bookmark Dial: failed to create bookmark",j),alert("Unable to add shortcut. Please try again.")}}function bi(){t(2,we=!1),mt=null}function Eo(){if(kt.length)return kt;const c=$(Z,ve);if(c.length)return c;if(be){const h=Pl(be),k=h[h.length-1]||"Bookmark Dial";return[{id:be,path:h,label:k,fullPath:h.join(" ‚Ä∫ "),count:0}]}return[]}function ki(){if(mt)return mt;const c=$e.length>0?$e:Eo();return c.length===0?null:T.lastShortcutFolderId&&c.some(k=>k.id===T.lastShortcutFolderId)?T.lastShortcutFolderId:c[c.length-1].id}async function El(c){var R;if(!(c!=null&&c.id))return;Vl();const h=prompt("Update the shortcut URL:",c.url??"");if(h===null)return;const k=Ll(h.trim());if(!k){alert("That does not appear to be a valid URL.");return}const M=(R=c.title)!=null&&R.trim()?c.title:c.displayTitle||ul(k),F=prompt("Update the shortcut title:",M),j=F?F.trim():M;try{await v.bookmarks.update(c.id,{title:j,url:k})}catch(ie){console.error("Bookmark Dial: failed to update bookmark",ie),alert("Unable to update shortcut. Please try again.")}}async function ll(c){Vl(),In();const h=X.find(k=>k.id===c)||J.flatMap(k=>k.items).find(k=>k.id===c);if(h)try{const[k]=await v.bookmarks.get(c);await v.bookmarks.remove(c),Sn(`"${h.displayTitle||h.title}" removed`,"info",{action:"removeBookmark",data:{parentId:String(k.parentId),title:String(k.title||""),url:String(k.url||""),index:typeof k.index=="number"?k.index:0}},8e3)}catch(k){console.error("Bookmark Dial: failed to remove bookmark",k),Sn("Failed to remove bookmark","error")}}function _i(){wt&&t(30,wt.value="",wt),_e==null||_e.showModal()}let Rt=null;async function wi(c){var k;c.preventDefault();const h=(k=wt==null?void 0:wt.files)==null?void 0:k[0];if(!h){_e==null||_e.close();return}if(!Ci(h)){alert("Please choose a JPEG or PNG image under 10 MB.");return}try{A&&(await Pr(h),await v.storage.local.set({[al]:"indexeddb"})),ol(h),t(6,T={...T,background:{...T.background,mode:"custom"}}),_e==null||_e.close()}catch(M){console.error("Bookmark Dial: failed to save background",M),alert("Unable to store the background image. Try a smaller file.")}}async function yi(){try{A&&(await Qa(),await v.storage.local.remove(al))}catch(c){console.error("Bookmark Dial: failed to clear background",c)}ol(null),t(6,T={...T,background:{...T.background,mode:"gradient"}}),_e==null||_e.close()}function Si(){_e==null||_e.close()}async function Ii(){if(!A){ol(null),T.background.mode==="custom"&&t(6,T={...T,background:{...T.background,mode:"gradient"}});return}try{const c=await Ka();if(c){ol(c);return}const h=await v.storage.local.get(al),k=(h==null?void 0:h[al])||"";if(k&&k.startsWith("data:")){try{const F=await(await fetch(k)).blob();await Pr(F),await v.storage.local.set({[al]:"indexeddb"}),ol(F)}catch(M){console.warn("Bookmark Dial: background migration failed, using legacy",M),vi(k)}return}!k&&T.background.mode==="custom"&&(t(6,T={...T,background:{...T.background,mode:"gradient"}}),t(104,qt=!0))}catch(c){console.error("Bookmark Dial: failed to load background",c)}}function ol(c){Rt&&(URL.revokeObjectURL(Rt),Rt=null),c?(Rt=Ya(c),t(28,ye=Rt)):t(28,ye="")}function vi(c){Rt&&(URL.revokeObjectURL(Rt),Rt=null),t(28,ye=c||"")}function dn(c,h="info"){t(15,P=c),t(16,K=h)}function Ci(c){return["image/jpeg","image/png"].includes(c.type)&&c.size<=b}function Bi(){console.info("Bookmark Dial: using mock Chrome APIs for development");let c="mock-folder",h=1;const k={onCreated:new Set,onChanged:new Set,onMoved:new Set,onRemoved:new Set,onImportBegan:new Set,onImportEnded:new Set},M=new Set,F=new Map,j=new Map([["speedDialFolderId",c],[Hn,{version:qn,theme:C.theme,accent:C.accent,titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,background:{...C.background},folderSelection:{selectedIds:[c],expandedIds:[]}}]]),R=new Map;function ie(I,...D){const H=k[I];H&&H.forEach(Y=>{try{Y(...D)}catch(fe){console.error(`Mock chrome ${I} handler failed`,fe)}})}function Ke(I,D){!D||Object.keys(D).length===0||M.forEach(H=>{try{H(D,I)}catch(Y){console.error("Mock chrome storage listener failed",Y)}})}function le(I){return I===void 0?void 0:JSON.parse(JSON.stringify(I))}function te(I,D){if(Array.isArray(D)){const H={};return D.forEach(Y=>H[Y]=I.get(Y)),H}if(typeof D=="object"&&D!==null){const H={...D};for(const Y of Object.keys(D))I.has(Y)&&(H[Y]=I.get(Y));return H}return{[D]:I.get(D)}}function ee(I,D,H){const Y={};Object.entries(H||{}).forEach(([fe,dt])=>{const Fn=I.get(fe);I.set(fe,dt),Y[fe]={oldValue:le(Fn),newValue:le(dt)}}),Ke(D,Y)}function pe(I,D,H){const Y=Array.isArray(H)?H:[H],fe={};Y.forEach(dt=>{if(!I.has(dt))return;const Fn=I.get(dt);I.delete(dt),fe[dt]={oldValue:le(Fn),newValue:void 0}}),Ke(D,fe)}function ut(I){I!=null&&I.children&&(I.children.forEach((D,H)=>{D.index=H}),I.hasChildren=I.children.some(D=>!D.url))}function Qe(I,D,H){const Y=R.get(I);if(!Y)throw new Error(`Parent ${I} not found`);Array.isArray(Y.children)||(Y.children=[]);const fe=typeof H=="number"?Math.max(0,Math.min(H,Y.children.length)):Y.children.length;Y.children.splice(fe,0,D),D.parentId=I,ut(Y)}function fn(I,D){const H=R.get(I);if(!(H!=null&&H.children))return;const Y=H.children.findIndex(fe=>fe.id===D);Y!==-1&&(H.children.splice(Y,1),ut(H))}function de({id:I,parentId:D=null,title:H="Untitled folder",index:Y}){const fe=I??`mock-folder-${h++}`,dt={id:fe,parentId:D,title:H,index:typeof Y=="number"?Y:0,children:[]};return R.set(fe,dt),D&&Qe(D,dt,Y),dt}function ce({id:I,parentId:D,title:H,url:Y,index:fe}){if(!D)throw new Error("Bookmarks require a parent folder");const dt=I??`mock-bookmark-${h++}`,Fn={id:dt,parentId:D,title:H??Y??"Untitled",url:Y,index:typeof fe=="number"?fe:0};return R.set(dt,Fn),Qe(D,Fn,fe),Fn}function ot(I,D=!1){if(!I)return null;const H={id:I.id,parentId:I.parentId??void 0,title:I.title,index:I.index};return I.url&&(H.url=I.url),D&&Array.isArray(I.children)&&(H.children=I.children.map(Y=>ot(Y,!0))),H}function Nt(I){I&&(Array.isArray(I.children)&&[...I.children].forEach(D=>Nt(D)),R.delete(I.id))}const hn=de({id:"0",parentId:null,title:""}),rl=de({id:"1",parentId:hn.id,title:"Bookmarks Bar"});de({id:"2",parentId:hn.id,title:"Other Bookmarks"}),de({id:"3",parentId:hn.id,title:"Mobile Bookmarks"});const Fl=de({id:"1-reading",parentId:"1",title:"Reading List"}),as=de({id:"2-inspiration",parentId:"2",title:"Inspiration"});function Lo(I){[{title:"Svelte",url:"https://svelte.dev"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"Vite",url:"https://vitejs.dev"}].forEach((Y,fe)=>{ce({parentId:I,title:Y.title,url:Y.url,index:fe})});const H=de({id:`${I}-frameworks`,parentId:I,title:"Frameworks"});[{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Ember.js",url:"https://emberjs.com"},{title:"Lit",url:"https://lit.dev"},{title:"Solid",url:"https://www.solidjs.com"},{title:"Alpine.js",url:"https://alpinejs.dev"},{title:"Preact",url:"https://preact.dev"},{title:"Backbone.js",url:"https://backbonejs.org"},{title:"jQuery",url:"https://jquery.com"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt.js",url:"https://nuxt.com"}].forEach((Y,fe)=>{ce({parentId:H.id,title:Y.title,url:Y.url,index:fe})})}de({id:c,parentId:rl.id,title:"Bookmark Dial"}),Lo(c);const cs=de({id:"bookmarks-bar-tooling",parentId:rl.id,title:"Developer Tools"});Ma.forEach((I,D)=>{ce({parentId:cs.id,title:I.title,url:I.url,index:D})});const $l=de({id:"reading-fiction",parentId:Fl.id,title:"Fiction"}),us=de({id:"reading-fiction-classic",parentId:$l.id,title:"Classic Novels"});Tt.fiction.classicNovels.forEach((I,D)=>{ce({parentId:us.id,title:I.title,url:I.url,index:D})});const ds=de({id:"reading-fiction-modern",parentId:$l.id,title:"Modern Fiction"});Tt.fiction.modernFiction.forEach((I,D)=>{ce({parentId:ds.id,title:I.title,url:I.url,index:D})});const fs=de({id:"reading-fiction-short",parentId:$l.id,title:"Short Stories"});Tt.fiction.shortStories.forEach((I,D)=>{ce({parentId:fs.id,title:I.title,url:I.url,index:D})});const eo=de({id:"reading-nonfiction",parentId:Fl.id,title:"Non-Fiction"}),hs=de({id:"reading-nonfiction-essays",parentId:eo.id,title:"Essays"});Tt.nonFiction.essays.forEach((I,D)=>{ce({parentId:hs.id,title:I.title,url:I.url,index:D})});const gs=de({id:"reading-nonfiction-bio",parentId:eo.id,title:"Biography"});Tt.nonFiction.biography.forEach((I,D)=>{ce({parentId:gs.id,title:I.title,url:I.url,index:D})});const ms=de({id:"reading-nonfiction-history",parentId:eo.id,title:"History"});Tt.nonFiction.history.forEach((I,D)=>{ce({parentId:ms.id,title:I.title,url:I.url,index:D})});const to=de({id:"reading-poetry",parentId:Fl.id,title:"Poetry"}),ps=de({id:"reading-poetry-classic",parentId:to.id,title:"Classic Poetry"});Tt.poetry.classicPoetry.forEach((I,D)=>{ce({parentId:ps.id,title:I.title,url:I.url,index:D})});const bs=de({id:"reading-poetry-contemporary",parentId:to.id,title:"Contemporary Poetry"});Tt.poetry.contemporaryPoetry.forEach((I,D)=>{ce({parentId:bs.id,title:I.title,url:I.url,index:D})});const ks=de({id:"reading-poetry-spoken",parentId:to.id,title:"Spoken Word"});Tt.poetry.spokenWord.forEach((I,D)=>{ce({parentId:ks.id,title:I.title,url:I.url,index:D})});const no=de({id:"reading-academic",parentId:Fl.id,title:"Academic"}),_s=de({id:"reading-academic-criticism",parentId:no.id,title:"Literary Criticism"});Tt.academic.literaryCriticism.forEach((I,D)=>{ce({parentId:_s.id,title:I.title,url:I.url,index:D})});const ws=de({id:"reading-academic-theory",parentId:no.id,title:"Literary Theory"});Tt.academic.literaryTheory.forEach((I,D)=>{ce({parentId:ws.id,title:I.title,url:I.url,index:D})});const ys=de({id:"reading-academic-journals",parentId:no.id,title:"Academic Journals"});Tt.academic.journals.forEach((I,D)=>{ce({parentId:ys.id,title:I.title,url:I.url,index:D})}),[{title:"Muz.li",url:"https://muz.li"},{title:"Awwwards",url:"https://www.awwwards.com"},{title:"Dribbble",url:"https://dribbble.com"}].forEach((I,D)=>{ce({parentId:as.id,title:I.title,url:I.url,index:D})});function Nn(I){const D=k[I];return{addListener:H=>D.add(H),removeListener:H=>D.delete(H)}}return{runtime:{sendMessage:async I=>{if((I==null?void 0:I.type)==="getFolderId")return{folderId:c};if((I==null?void 0:I.type)==="resetFolderCache"){const D=`mock-folder-${Date.now().toString(36)}`,H=R.get(c);if(H){const fe=H.parentId;fe&&fn(fe,H.id),Nt(H)}c=D;const Y=de({id:c,parentId:"1",title:"Bookmark Dial"});return Lo(Y.id),ee(j,"sync",{speedDialFolderId:c,[Hn]:{version:qn,theme:C.theme,accent:C.accent,titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,background:{...C.background},folderSelection:{selectedIds:[c],expandedIds:[]}}}),{folderId:c}}return{}}},bookmarks:{onCreated:Nn("onCreated"),onChanged:Nn("onChanged"),onMoved:Nn("onMoved"),onRemoved:Nn("onRemoved"),onImportBegan:Nn("onImportBegan"),onImportEnded:Nn("onImportEnded"),async getTree(){return[ot(R.get("0"),!0)]},async getChildren(I){const D=R.get(I);return D!=null&&D.children?D.children.map(H=>ot(H,!1)):[]},async getSubTree(I){const D=R.get(I);return D?[ot(D,!0)]:[]},async search(I){const D=String((I==null?void 0:I.query)??"").trim().toLowerCase();return D?Array.from(R.values()).filter(H=>!H.url&&(H.title||"").toLowerCase().includes(D)).map(H=>ot(H,!1)):[]},async create({parentId:I,title:D,url:H}){const Y=H?ce({parentId:I,title:D,url:H}):de({parentId:I,title:D});return ie("onCreated",Y.id,ot(Y,!0)),ot(Y,!0)},async update(I,D={}){const H=R.get(I);if(!H)throw new Error("Bookmark not found");const Y={};return typeof D.title=="string"&&(H.title=D.title,Y.title=D.title),typeof D.url=="string"&&(H.url=D.url,Y.url=D.url),ie("onChanged",I,Y),ot(H,!1)},async remove(I){const D=R.get(I);if(!D)throw new Error("Bookmark not found");const H=ot(D,!0);D.parentId&&fn(D.parentId,I),Nt(D),ie("onRemoved",I,{parentId:H.parentId??null,node:H})},async move(I,{parentId:D,index:H}){const Y=R.get(I);if(!Y)throw new Error("Bookmark not found");const fe=Y.parentId??null;return fe&&fn(fe,I),Qe(D,Y,H),ie("onMoved",I,{parentId:D,oldParentId:fe,index:H}),ot(Y,!1)}},storage:{local:{async get(I){return te(F,I)},async set(I){ee(F,"local",I)},async remove(I){pe(F,"local",I)}},sync:{async get(I){return te(j,I)},async set(I){ee(j,"sync",I)},async remove(I){pe(j,"sync",I)}},onChanged:{addListener(I){M.add(I)},removeListener(I){M.delete(I)}}},topSites:{async get(){return[{title:"Google",url:"https://www.google.com"},{title:"YouTube",url:"https://www.youtube.com"},{title:"Facebook",url:"https://www.facebook.com"},{title:"Twitter",url:"https://twitter.com"},{title:"Reddit",url:"https://www.reddit.com"},{title:"Wikipedia",url:"https://www.wikipedia.org"},{title:"Amazon",url:"https://www.amazon.com"},{title:"Netflix",url:"https://www.netflix.com"}]}}}}function Ei(c){Ns.call(this,n,c)}function Fi(c){Ut[c?"unshift":"push"](()=>{nt=c,t(31,nt)})}const Ti=c=>$n(c.id),Mi=c=>_n(c.id),Di=c=>je(c.currentTarget.checked),Li=c=>Ue(c.id),Ai=c=>On(c.currentTarget.checked),Pi=c=>el(c.currentTarget.value),Oi=c=>sn(c.currentTarget.checked),ji=c=>Ne(c.currentTarget.checked),Ri=c=>an(c.currentTarget.checked);function Ni(c){Ut[c?"unshift":"push"](()=>{yt=c,t(5,yt)})}const Ui=c=>Wl(c.id),zi=c=>El(c),Hi=c=>ll(c.id),qi=c=>Gl(c.id),Gi=(c,h)=>Ql(h,c),Wi=c=>Yl(c),Vi=(c,h)=>Jl(h,c),Ki=(c,h)=>Xl(h,c),Qi=(c,h)=>Zl(h,c),Yi=c=>Yl(i.length+c);function Ji(c){Ut[c?"unshift":"push"](()=>{Ct=c,t(13,Ct)})}const Xi=c=>Wl(c.id),Zi=c=>El(c),xi=c=>ll(c.id),$i=c=>Gl(c.id),es=(c,h)=>Ql(h,c),ts=(c,h,k)=>Jl(k,c,h.id),ns=(c,h)=>Xl(h,c),ls=(c,h)=>Zl(h,c),os=c=>xl(c.id),rs=c=>xl(c.id);function is(c){Ut[c?"unshift":"push"](()=>{wt=c,t(30,wt)})}function ss(c){Ut[c?"unshift":"push"](()=>{_e=c,t(29,_e)})}return n.$$.update=()=>{if(n.$$.dirty[3]&8192&&t(108,l=new Set(vt.slice(0,Ul).map(c=>c.id))),n.$$.dirty[3]&4096&&t(109,o=new Set(It.slice(0,zl).map(c=>c.id))),n.$$.dirty[0]&320|n.$$.dirty[3]&32768&&!St&&T.background.mode==="gradient"&&T.background.gradientId&&!l.has(T.background.gradientId)&&t(8,St=!0),n.$$.dirty[0]&256|n.$$.dirty[3]&8192&&t(42,r=St?vt:vt.slice(0,Ul)),n.$$.dirty[0]&576|n.$$.dirty[3]&65536&&!Gt&&T.accent&&!o.has(T.accent)&&t(9,Gt=!0),n.$$.dirty[0]&512|n.$$.dirty[3]&4096&&t(41,s=Gt?It:It.slice(0,zl)),n.$$.dirty[0]&64|n.$$.dirty[3]&3904&&!Ht&&oe&&(lt(T.theme),Bt(T.accent),En(T.background.gradientId),(qt||ae||en)&&Et(),t(103,en=!0),t(104,qt=!1),t(101,ae=!1)),n.$$.dirty[0]&128&&typeof document<"u"&&document.body.classList.toggle("settings-open",Ye),n.$$.dirty[0]&160&&Ye&&Nl().then(()=>{yt==null||yt.focus()}),n.$$.dirty[0]&8256&&Ct&&T.mergeAllBookmarks&&hi(),n.$$.dirty[0]&10|n.$$.dirty[3]&160&&t(26,_t=(()=>{const c=ne&&Oe?Oe:ge,h=new Set(c??[]);if(et.size){const k=gn();et.forEach(M=>{var j,R;let F=((j=k.nodesById[M])==null?void 0:j.parentId)??null;for(;F;)h.add(F),F=((R=k.nodesById[F])==null?void 0:R.parentId)??null})}return h})()),n.$$.dirty[0]&1024|n.$$.dirty[3]&8&&t(14,i=(()=>{if(!pt.trim())return X;const c=pt.toLowerCase().trim();return X.filter(h=>{var k,M,F;return((k=h.title)==null?void 0:k.toLowerCase().includes(c))||((M=h.url)==null?void 0:M.toLowerCase().includes(c))||((F=h.displayTitle)==null?void 0:F.toLowerCase().includes(c))})})()),n.$$.dirty[0]&1024|n.$$.dirty[3]&16&&t(40,u=(()=>{if(!pt.trim())return J;const c=pt.toLowerCase().trim();return J.map(h=>({...h,items:h.items.filter(k=>{var M,F,j;return((M=k.title)==null?void 0:M.toLowerCase().includes(c))||((F=k.url)==null?void 0:F.toLowerCase().includes(c))||((j=k.displayTitle)==null?void 0:j.toLowerCase().includes(c))})})).filter(h=>h.items.length>0)})()),n.$$.dirty[0]&64|n.$$.dirty[3]&16384&&T.enableTopSites&&!At&&Co(),n.$$.dirty[0]&22592){const c=T.mergeAllBookmarks?T.enableTopSites?i.length+st.length:i.length:0;se>=c&&t(12,se=Math.max(c-1,-1))}n.$$.dirty[0]&21&&(we||kt.length||Z.size)&&(t(18,$e=Eo()),t(19,N=ki()))},[Z,ne,we,et,kt,yt,T,Ye,St,Gt,pt,st,se,Ct,i,P,K,qe,$e,N,Ge,Ee,Pe,De,rt,tt,_t,Ce,ye,_e,wt,nt,Wt,Vt,Kt,Jn,Se,tn,Te,Je,u,s,r,d,w,m,p,_l,An,Pn,kn,$n,_n,je,On,el,sn,Ne,an,Ue,cn,Ae,ct,jn,vl,Rn,Cl,ei,ti,Gl,Wl,Kl,li,ri,Ql,In,ii,si,ai,ci,ui,vo,Yl,Jl,Xl,gi,Zl,mi,xl,pi,bi,El,ll,wi,yi,Si,X,J,ge,oe,Oe,ae,Ht,en,qt,It,vt,At,l,o,Ei,Fi,Ti,Mi,Di,Li,Ai,Pi,Oi,ji,Ri,Ni,Ui,zi,Hi,qi,Gi,Wi,Vi,Ki,Qi,Yi,Ji,Xi,Zi,xi,$i,es,ts,ns,ls,os,rs,is,ss]}class sc extends pn{constructor(e){super(),mn(this,e,ic,Ha,xt,{},null,[-1,-1,-1,-1,-1,-1,-1,-1,-1])}}new sc({target:document.getElementById("app")});
