var is=Object.defineProperty;var ss=(n,e,t)=>e in n?is(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Xl=(n,e,t)=>ss(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();function ae(){}const dl=n=>n;function Ir(n){return n()}function Io(){return Object.create(null)}function Ne(n){n.forEach(Ir)}function ct(n){return typeof n=="function"}function Yt(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Cl;function Co(n,e){return n===e?!0:(Cl||(Cl=document.createElement("a")),Cl.href=e,n===Cl.href)}function as(n){return Object.keys(n).length===0}function Cr(n,...e){if(n==null){for(const l of e)l(void 0);return ae}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Wn(n){let e;return Cr(n,t=>e=t)(),e}function Br(n,e,t){n.$$.on_destroy.push(Cr(e,t))}function Bo(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const Fr=typeof window<"u";let Nl=Fr?()=>window.performance.now():()=>Date.now(),ao=Fr?n=>requestAnimationFrame(n):ae;const qn=new Set;function Er(n){qn.forEach(e=>{e.c(n)||(qn.delete(e),e.f())}),qn.size!==0&&ao(Er)}function Ul(n){let e;return qn.size===0&&ao(Er),{promise:new Promise(t=>{qn.add(e={c:n,f:t})}),abort(){qn.delete(e)}}}const cs=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function f(n,e){n.appendChild(e)}function Tr(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function us(n){const e=k("style");return e.textContent="/* empty */",ds(Tr(n),e),e.sheet}function ds(n,e){return f(n.head||n,e),e.sheet}function W(n,e,t){n.insertBefore(e,t||null)}function H(n){n.parentNode&&n.parentNode.removeChild(n)}function xl(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function k(n){return document.createElement(n)}function Lt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function de(n){return document.createTextNode(n)}function L(){return de(" ")}function ut(){return de("")}function z(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function no(n){return function(e){return e.preventDefault(),n.call(this,e)}}function fs(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function s(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function hs(n){return Array.from(n.childNodes)}function De(n,e){e=""+e,n.data!==e&&(n.data=e)}function Hn(n,e){n.value=e??""}function Dl(n,e,t,l){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function Fo(n,e,t){for(let l=0;l<n.options.length;l+=1){const o=n.options[l];if(o.__value===e){o.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function gs(n){const e=n.querySelector(":checked");return e&&e.__value}function we(n,e,t){n.classList.toggle(e,!!t)}function Mr(n,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:l})}const Al=new Map;let Pl=0;function ms(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function ps(n,e){const t={stylesheet:us(e),rules:{}};return Al.set(n,t),t}function al(n,e,t,l,o,r,a,i=0){const c=16.666/l;let d=`{
`;for(let y=0;y<=1;y+=c){const B=e+(t-e)*r(y);d+=y*100+`%{${a(B,1-B)}}
`}const g=d+`100% {${a(t,1-t)}}
}`,w=`__svelte_${ms(g)}_${i}`,b=Tr(n),{stylesheet:_,rules:m}=Al.get(b)||ps(b,n);m[w]||(m[w]=!0,_.insertRule(`@keyframes ${w} ${g}`,_.cssRules.length));const p=n.style.animation||"";return n.style.animation=`${p?`${p}, `:""}${w} ${l}ms linear ${o}ms 1 both`,Pl+=1,w}function cl(n,e){const t=(n.style.animation||"").split(", "),l=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=t.length-l.length;o&&(n.style.animation=l.join(", "),Pl-=o,Pl||bs())}function bs(){ao(()=>{Pl||(Al.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&H(e)}),Al.clear())})}function ks(n,e,t,l){if(!e)return ae;const o=n.getBoundingClientRect();if(e.left===o.left&&e.right===o.right&&e.top===o.top&&e.bottom===o.bottom)return ae;const{delay:r=0,duration:a=300,easing:i=dl,start:c=Nl()+r,end:d=c+a,tick:g=ae,css:w}=t(n,{from:e,to:o},l);let b=!0,_=!1,m;function p(){w&&(m=al(n,0,1,a,r,i,w)),r||(_=!0)}function y(){w&&cl(n,m),b=!1}return Ul(B=>{if(!_&&B>=c&&(_=!0),_&&B>=d&&(g(1,0),y()),!b)return!1;if(_){const C=B-c,R=0+1*i(C/a);g(R,1-R)}return!0}),p(),g(0,1),y}function _s(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,o=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=l,Lr(n,o)}}function Lr(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(n),o=l.transform==="none"?"":l.transform;n.style.transform=`${o} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let ul;function sl(n){ul=n}function Dr(){if(!ul)throw new Error("Function called outside component initialization");return ul}function ws(n){Dr().$$.on_mount.push(n)}function ys(){const n=Dr();return(e,t,{cancelable:l=!1}={})=>{const o=n.$$.callbacks[e];if(o){const r=Mr(e,t,{cancelable:l});return o.slice().forEach(a=>{a.call(n,r)}),!r.defaultPrevented}return!0}}function Ss(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const zn=[],Rt=[];let Gn=[];const Eo=[],Ar=Promise.resolve();let lo=!1;function Pr(){lo||(lo=!0,Ar.then(Or))}function Ol(){return Pr(),Ar}function Jt(n){Gn.push(n)}const $l=new Set;let On=0;function Or(){if(On!==0)return;const n=ul;do{try{for(;On<zn.length;){const e=zn[On];On++,sl(e),vs(e.$$)}}catch(e){throw zn.length=0,On=0,e}for(sl(null),zn.length=0,On=0;Rt.length;)Rt.pop()();for(let e=0;e<Gn.length;e+=1){const t=Gn[e];$l.has(t)||($l.add(t),t())}Gn.length=0}while(zn.length);for(;Eo.length;)Eo.pop()();lo=!1,$l.clear(),sl(n)}function vs(n){if(n.fragment!==null){n.update(),Ne(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Jt)}}function Is(n){const e=[],t=[];Gn.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Gn=e}let ll;function co(){return ll||(ll=Promise.resolve(),ll.then(()=>{ll=null})),ll}function wn(n,e,t){n.dispatchEvent(Mr(`${e?"intro":"outro"}${t}`))}const Ml=new Set;let Qt;function Je(){Qt={r:0,c:[],p:Qt}}function Ye(){Qt.r||Ne(Qt.c),Qt=Qt.p}function x(n,e){n&&n.i&&(Ml.delete(n),n.i(e))}function oe(n,e,t,l){if(n&&n.o){if(Ml.has(n))return;Ml.add(n),Qt.c.push(()=>{Ml.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}const uo={duration:0};function Cs(n,e,t){const l={direction:"in"};let o=e(n,t,l),r=!1,a,i,c=0;function d(){a&&cl(n,a)}function g(){const{delay:b=0,duration:_=300,easing:m=dl,tick:p=ae,css:y}=o||uo;y&&(a=al(n,0,1,_,b,m,y,c++)),p(0,1);const B=Nl()+b,C=B+_;i&&i.abort(),r=!0,Jt(()=>wn(n,!0,"start")),i=Ul(R=>{if(r){if(R>=C)return p(1,0),wn(n,!0,"end"),d(),r=!1;if(R>=B){const j=m((R-B)/_);p(j,1-j)}}return r})}let w=!1;return{start(){w||(w=!0,cl(n),ct(o)?(o=o(l),co().then(g)):g())},invalidate(){w=!1},end(){r&&(d(),r=!1)}}}function Bs(n,e,t){const l={direction:"out"};let o=e(n,t,l),r=!0,a;const i=Qt;i.r+=1;let c;function d(){const{delay:g=0,duration:w=300,easing:b=dl,tick:_=ae,css:m}=o||uo;m&&(a=al(n,1,0,w,g,b,m));const p=Nl()+g,y=p+w;Jt(()=>wn(n,!1,"start")),"inert"in n&&(c=n.inert,n.inert=!0),Ul(B=>{if(r){if(B>=y)return _(0,1),wn(n,!1,"end"),--i.r||Ne(i.c),!1;if(B>=p){const C=b((B-p)/w);_(1-C,C)}}return r})}return ct(o)?co().then(()=>{o=o(l),d()}):d(),{end(g){g&&"inert"in n&&(n.inert=c),g&&o.tick&&o.tick(1,0),r&&(a&&cl(n,a),r=!1)}}}function Bl(n,e,t,l){let r=e(n,t,{direction:"both"}),a=l?0:1,i=null,c=null,d=null,g;function w(){d&&cl(n,d)}function b(m,p){const y=m.b-a;return p*=Math.abs(y),{a,b:m.b,d:y,duration:p,start:m.start,end:m.start+p,group:m.group}}function _(m){const{delay:p=0,duration:y=300,easing:B=dl,tick:C=ae,css:R}=r||uo,j={start:Nl()+p,b:m};m||(j.group=Qt,Qt.r+=1),"inert"in n&&(m?g!==void 0&&(n.inert=g):(g=n.inert,n.inert=!0)),i||c?c=j:(R&&(w(),d=al(n,a,m,y,p,B,R)),m&&C(0,1),i=b(j,y),Jt(()=>wn(n,m,"start")),Ul(I=>{if(c&&I>c.start&&(i=b(c,y),c=null,wn(n,i.b,"start"),R&&(w(),d=al(n,a,i.b,i.duration,0,B,r.css))),i){if(I>=i.end)C(a=i.b,1-a),wn(n,i.b,"end"),c||(i.b?w():--i.group.r||Ne(i.group.c)),i=null;else if(I>=i.start){const V=I-i.start;a=i.a+i.d*B(V/i.duration),C(a,1-a)}}return!!(i||c)}))}return{run(m){ct(r)?co().then(()=>{r=r({direction:m?"in":"out"}),_(m)}):_(m)},end(){w(),i=c=null}}}function be(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function fo(n,e){n.d(1),e.delete(n.key)}function yn(n,e){oe(n,1,1,()=>{e.delete(n.key)})}function Fs(n,e){n.f(),yn(n,e)}function Zt(n,e,t,l,o,r,a,i,c,d,g,w){let b=n.length,_=r.length,m=b;const p={};for(;m--;)p[n[m].key]=m;const y=[],B=new Map,C=new Map,R=[];for(m=_;m--;){const P=w(o,r,m),N=t(P);let A=a.get(N);A?R.push(()=>A.p(P,e)):(A=d(N,P),A.c()),B.set(N,y[m]=A),N in p&&C.set(N,Math.abs(m-p[N]))}const j=new Set,I=new Set;function V(P){x(P,1),P.m(i,g),a.set(P.key,P),g=P.first,_--}for(;b&&_;){const P=y[_-1],N=n[b-1],A=P.key,K=N.key;P===N?(g=P.first,b--,_--):B.has(K)?!a.has(A)||j.has(A)?V(P):I.has(K)?b--:C.get(A)>C.get(K)?(I.add(A),V(P)):(j.add(K),b--):(c(N,a),b--)}for(;b--;){const P=n[b];B.has(P.key)||c(P,a)}for(;_;)V(y[_-1]);return Ne(R),y}function Nt(n){n&&n.c()}function Tt(n,e,t){const{fragment:l,after_update:o}=n.$$;l&&l.m(e,t),Jt(()=>{const r=n.$$.on_mount.map(Ir).filter(ct);n.$$.on_destroy?n.$$.on_destroy.push(...r):Ne(r),n.$$.on_mount=[]}),o.forEach(Jt)}function Mt(n,e){const t=n.$$;t.fragment!==null&&(Is(t.after_update),Ne(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Es(n,e){n.$$.dirty[0]===-1&&(zn.push(n),Pr(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function an(n,e,t,l,o,r,a=null,i=[-1]){const c=ul;sl(n);const d=n.$$={fragment:null,ctx:[],props:r,update:ae,not_equal:o,bound:Io(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Io(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};a&&a(d.root);let g=!1;if(d.ctx=t?t(n,e.props||{},(w,b,..._)=>{const m=_.length?_[0]:b;return d.ctx&&o(d.ctx[w],d.ctx[w]=m)&&(!d.skip_bound&&d.bound[w]&&d.bound[w](m),g&&Es(n,w)),b}):[],d.update(),g=!0,Ne(d.before_update),d.fragment=l?l(d.ctx):!1,e.target){if(e.hydrate){const w=hs(e.target);d.fragment&&d.fragment.l(w),w.forEach(H)}else d.fragment&&d.fragment.c();e.intro&&x(n.$$.fragment),Tt(n,e.target,e.anchor),Or()}sl(c)}class cn{constructor(){Xl(this,"$$");Xl(this,"$$set")}$destroy(){Mt(this,1),this.$destroy=ae}$on(e,t){if(!ct(t))return ae;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const o=l.indexOf(t);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!as(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ts="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ts);const jn=[];function Ms(n,e=ae){let t;const l=new Set;function o(i){if(Yt(n,i)&&(n=i,t)){const c=!jn.length;for(const d of l)d[1](),jn.push(d,n);if(c){for(let d=0;d<jn.length;d+=2)jn[d][0](jn[d+1]);jn.length=0}}}function r(i){o(i(n))}function a(i,c=ae){const d=[i,c];return l.add(d),l.size===1&&(t=e(o,r)||ae),i(n),()=>{l.delete(d),l.size===0&&t&&(t(),t=null)}}return{set:o,update:r,subscribe:a}}const Ls={nodesById:{},rootIds:[]},dt=Ms(Ls),jr={subscribe:dt.subscribe};function ho(n,{includeChildren:e=!1}={}){const t=Array.isArray(n.children),l=t?[...n.children]:[],o=e?l.sort((i,c)=>(i.index??0)-(c.index??0)):[],a=l.filter(i=>!i.url).length>0;return{id:n.id,parentId:n.parentId??null,title:n.title??"",url:n.url??null,index:typeof n.index=="number"?n.index:0,isFolder:!n.url,childrenIds:e?o.map(i=>i.id):[],childrenLoaded:e,hasChildren:!n.url&&(e||t?a:!0)}}function Rr(n){dt.update(e=>{const t={...e.nodesById};let l=[...e.rootIds];for(const o of n){const r=t[o.id];t[o.id]=r?{...r,...o}:o,!o.parentId&&!l.includes(o.id)&&l.push(o.id)}return l.sort((o,r)=>{const a=t[o],i=t[r];return((a==null?void 0:a.index)??0)-((i==null?void 0:i.index)??0)}),{...e,nodesById:t,rootIds:l}})}function oo(n,e,t){dt.update(l=>{const o={...l.nodesById},r=o[n];if(!r)return l;const a=Array.from(new Set(e));a.sort((c,d)=>{const g=o[c],w=o[d];return((g==null?void 0:g.index)??0)-((w==null?void 0:w.index)??0)});const i=a.some(c=>{var d;return(d=o[c])==null?void 0:d.isFolder});return o[n]={...r,childrenIds:a,childrenLoaded:t?!0:r.childrenLoaded,hasChildren:i},{...l,nodesById:o}})}async function Ds(n){const e=await n.bookmarks.getTree(),t=Array.isArray(e)?e[0]:null,o=((t==null?void 0:t.children)??[]).map(r=>ho(r,{includeChildren:!1}));return dt.set({nodesById:Object.fromEntries(o.map(r=>[r.id,r])),rootIds:o.map(r=>r.id)}),o.map(r=>r.id)}async function As(n){const e=await n.bookmarks.getTree(),t=Array.isArray(e)?e[0]:null;if(!t)return[];const l=[],o=[];function r(i,c=!1){const w=(Array.isArray(i.children)?[...i.children]:[]).sort((m,p)=>(m.index??0)-(p.index??0)),b=w.filter(m=>!m.url),_={id:i.id,parentId:i.parentId??null,title:i.title??"",url:i.url??null,index:typeof i.index=="number"?i.index:0,isFolder:!i.url,childrenIds:w.map(m=>m.id),childrenLoaded:!0,hasChildren:b.length>0};i.url||(l.push(_),c&&o.push(i.id));for(const m of b)r(m,!1)}const a=t.children??[];for(const i of a)r(i,!0);return dt.set({nodesById:Object.fromEntries(l.map(i=>[i.id,i])),rootIds:o}),o}function mn(){return Wn(dt)}function Nr(n){return Wn(dt).nodesById[n]}async function ol(n,e){const t=await n.bookmarks.getSubTree(e),l=Array.isArray(t)?t[0]:null;if(!l)return{folderIds:[]};const o=[l],r=[],a=[];for(;o.length;){const i=o.shift(),c=Array.isArray(i.children),d=ho(i,{includeChildren:c});r.push(d),i.url||a.push(i.id),c&&o.push(...i.children)}return Rr(r),r.forEach(i=>{if(i.isFolder&&oo(i.id,i.childrenIds,!0),i.parentId){const d=Wn(dt).nodesById[i.parentId];if(d){const g=d.childrenIds?[...d.childrenIds]:[];g.push(i.id),oo(i.parentId,g,d.childrenLoaded)}}}),{folderIds:a}}function Ll(n){const e=Wn(dt),t=[];let l=e.nodesById[n];for(;l&&(l.title&&t.unshift(l.title),!!l.parentId);)l=e.nodesById[l.parentId];return t}function Ps(n){const e=ho(n,{includeChildren:!1});if(Rr([e]),e.parentId){const t=Nr(e.parentId),l=t!=null&&t.childrenIds?[...t.childrenIds]:[];l.splice(e.index??l.length,0,e.id),oo(e.parentId,l,t==null?void 0:t.childrenLoaded)}}function Os(n,e){dt.update(t=>{const l=t.nodesById[n];if(!l)return t;const o={...t.nodesById,[n]:{...l,...e}};return{...t,nodesById:o}})}function js(n,{parentId:e,oldParentId:t,index:l}){dt.update(o=>{const r={...o.nodesById},a=r[n];if(!a)return o;const i={...a,parentId:e,index:typeof l=="number"?l:a.index};if(r[n]=i,t&&r[t]){const c=r[t],d=(c.childrenIds??[]).filter(w=>w!==n),g=d.some(w=>{var b;return(b=r[w])==null?void 0:b.isFolder});r[t]={...c,childrenIds:d,hasChildren:g}}if(e&&r[e]){const c=r[e],d=[...c.childrenIds??[]];d.includes(n)||d.splice(l??d.length,0,n);const g=d.some(w=>{var b;return(b=r[w])==null?void 0:b.isFolder});r[e]={...c,childrenIds:d,hasChildren:g}}return{...o,nodesById:r}})}function Rs(n,{parentId:e}){dt.update(t=>{var i;const l={...t.nodesById},o=new Set([n]),r=[n];for(;r.length;){const c=r.pop(),d=l[c];d&&(i=d.childrenIds)!=null&&i.length&&d.childrenIds.forEach(g=>{o.has(g)||(o.add(g),r.push(g))})}o.forEach(c=>{delete l[c]});let a=t.rootIds;if(a.includes(n)&&(a=a.filter(c=>c!==n)),e&&l[e]){const c=l[e],d=(c.childrenIds??[]).filter(w=>w!==n),g=d.some(w=>{var b;return(b=l[w])==null?void 0:b.isFolder});l[e]={...c,childrenIds:d,hasChildren:g}}return{...t,nodesById:l,rootIds:a}})}function Fl(n){var o;const e=Wn(dt),t=[],l=[n];for(;l.length;){const r=l.pop(),a=e.nodesById[r];a&&a.isFolder&&(t.push(r),(o=a.childrenIds)!=null&&o.length&&a.childrenIds.forEach(i=>{const c=e.nodesById[i];c!=null&&c.isFolder&&l.push(i)}))}return t}function Ns(){const n=Wn(dt);return Object.values(n.nodesById).filter(e=>e.isFolder).map(e=>({id:e.id,title:e.title??"",path:Ll(e.id)}))}function To(n,e,t){const l=n.slice();return l[26]=e[t],l}function Mo(n){let e,t,l,o,r,a,i,c,d,g,w,b,_,m=(n[12].title||"Untitled folder")+"",p,y,B,C,R,j,I,V=n[11]&&n[15]&&Lo(n);return{c(){var P;e=k("li"),t=k("div"),l=k("button"),o=Lt("svg"),r=Lt("path"),d=L(),g=k("label"),w=k("input"),b=L(),_=k("span"),p=de(m),B=L(),V&&V.c(),s(r,"d","M6 4.5 10 8l-4 3.5"),s(r,"fill","none"),s(r,"stroke","currentColor"),s(r,"stroke-width","1.6"),s(r,"stroke-linecap","round"),s(r,"stroke-linejoin","round"),s(o,"viewBox","0 0 16 16"),s(o,"aria-hidden","true"),s(o,"focusable","false"),s(l,"type","button"),s(l,"class","folder-node__expander svelte-ux2jgn"),s(l,"aria-hidden",a=!n[11]),s(l,"aria-label",i=n[15]?"Collapse folder":"Expand folder"),l.disabled=c=!n[11],we(l,"hidden",!n[11]),s(w,"type","checkbox"),s(w,"class","folder-node__checkbox svelte-ux2jgn"),s(_,"class","folder-node__title svelte-ux2jgn"),s(_,"title",y=n[12].title||"Untitled folder"),s(g,"class","folder-node__label svelte-ux2jgn"),s(t,"class","folder-node__row svelte-ux2jgn"),s(t,"style",n[16]),s(e,"class","folder-node svelte-ux2jgn"),s(e,"data-expanded",n[15]),s(e,"data-depth",n[1]),s(e,"data-match",C=((P=n[5])==null?void 0:P.has(n[0]))??!1)},m(P,N){W(P,e,N),f(e,t),f(t,l),f(l,o),f(o,r),f(t,d),f(t,g),f(g,w),n[24](w),f(g,b),f(g,_),f(_,p),f(e,B),V&&V.m(e,null),R=!0,j||(I=[z(l,"click",n[17]),z(w,"change",n[18])],j=!0)},p(P,N){var A;(!R||N&2048&&a!==(a=!P[11]))&&s(l,"aria-hidden",a),(!R||N&32768&&i!==(i=P[15]?"Collapse folder":"Expand folder"))&&s(l,"aria-label",i),(!R||N&2048&&c!==(c=!P[11]))&&(l.disabled=c),(!R||N&2048)&&we(l,"hidden",!P[11]),(!R||N&4096)&&m!==(m=(P[12].title||"Untitled folder")+"")&&De(p,m),(!R||N&4096&&y!==(y=P[12].title||"Untitled folder"))&&s(_,"title",y),P[11]&&P[15]?V?(V.p(P,N),N&34816&&x(V,1)):(V=Lo(P),V.c(),x(V,1),V.m(e,null)):V&&(Je(),oe(V,1,1,()=>{V=null}),Ye()),(!R||N&32768)&&s(e,"data-expanded",P[15]),(!R||N&2)&&s(e,"data-depth",P[1]),(!R||N&33&&C!==(C=((A=P[5])==null?void 0:A.has(P[0]))??!1))&&s(e,"data-match",C)},i(P){R||(x(V),R=!0)},o(P){oe(V),R=!1},d(P){P&&H(e),n[24](null),V&&V.d(),j=!1,Ne(I)}}}function Lo(n){let e,t=[],l=new Map,o,r=be(n[13]);const a=i=>i[26];for(let i=0;i<r.length;i+=1){let c=To(n,r,i),d=a(c);l.set(d,t[i]=Do(d,c))}return{c(){e=k("ul");for(let i=0;i<t.length;i+=1)t[i].c();s(e,"class","folder-node__children svelte-ux2jgn")},m(i,c){W(i,e,c);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(i,c){c&9214&&(r=be(i[13]),Je(),t=Zt(t,c,a,1,i,r,l,e,yn,Do,null,To),Ye())},i(i){if(!o){for(let c=0;c<r.length;c+=1)x(t[c]);o=!0}},o(i){for(let c=0;c<t.length;c+=1)oe(t[c]);o=!1},d(i){i&&H(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function Do(n,e){let t,l,o;return l=new Ur({props:{nodeId:e[26],depth:e[1]+1,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[5],selectedIds:e[6],toggleSelection:e[7],toggleExpansion:e[8],getCheckboxState:e[9]}}),{key:n,first:null,c(){t=ut(),Nt(l.$$.fragment),this.first=t},m(r,a){W(r,t,a),Tt(l,r,a),o=!0},p(r,a){e=r;const i={};a&8192&&(i.nodeId=e[26]),a&2&&(i.depth=e[1]+1),a&4&&(i.expandedIds=e[2]),a&8&&(i.loadingIds=e[3]),a&16&&(i.visibleIds=e[4]),a&32&&(i.searchMatches=e[5]),a&64&&(i.selectedIds=e[6]),a&128&&(i.toggleSelection=e[7]),a&256&&(i.toggleExpansion=e[8]),a&512&&(i.getCheckboxState=e[9]),l.$set(i)},i(r){o||(x(l.$$.fragment,r),o=!0)},o(r){oe(l.$$.fragment,r),o=!1},d(r){r&&H(t),Mt(l,r)}}}function Us(n){let e,t,l=n[14]&&Mo(n);return{c(){l&&l.c(),e=ut()},m(o,r){l&&l.m(o,r),W(o,e,r),t=!0},p(o,[r]){o[14]?l?(l.p(o,r),r&16384&&x(l,1)):(l=Mo(o),l.c(),x(l,1),l.m(e.parentNode,e)):l&&(Je(),oe(l,1,1,()=>{l=null}),Ye())},i(o){t||(x(l),t=!0)},o(o){oe(l),t=!1},d(o){o&&H(e),l&&l.d(o)}}}function zs(n,e,t){let l,o,r,a,i,c,d,g,w,b;Br(n,jr,Y=>t(23,b=Y));let{nodeId:_}=e,{depth:m=0}=e,{expandedIds:p}=e,{loadingIds:y}=e,{visibleIds:B}=e,{searchMatches:C}=e,{selectedIds:R}=e,{toggleSelection:j}=e,{toggleExpansion:I}=e,{getCheckboxState:V}=e,P;const N=`--depth: ${m}`;function A(Y){Y.stopPropagation(),i&&(I==null||I(_))}function K(Y){Y.stopPropagation(),j==null||j(_)}function X(Y){Rt[Y?"unshift":"push"](()=>{P=Y,t(10,P),t(21,g),t(9,V),t(6,R),t(0,_)})}return n.$$set=Y=>{"nodeId"in Y&&t(0,_=Y.nodeId),"depth"in Y&&t(1,m=Y.depth),"expandedIds"in Y&&t(2,p=Y.expandedIds),"loadingIds"in Y&&t(3,y=Y.loadingIds),"visibleIds"in Y&&t(4,B=Y.visibleIds),"searchMatches"in Y&&t(5,C=Y.searchMatches),"selectedIds"in Y&&t(6,R=Y.selectedIds),"toggleSelection"in Y&&t(7,j=Y.toggleSelection),"toggleExpansion"in Y&&t(8,I=Y.toggleExpansion),"getCheckboxState"in Y&&t(9,V=Y.getCheckboxState)},n.$$.update=()=>{var Y,he;n.$$.dirty&8388608&&t(22,l=b),n.$$.dirty&4194305&&t(12,o=(Y=l==null?void 0:l.nodesById)==null?void 0:Y[_]),n.$$.dirty&4096&&t(20,r=(o==null?void 0:o.isFolder)??!1),n.$$.dirty&4198400&&t(13,a=((he=o==null?void 0:o.childrenIds)==null?void 0:he.filter(pe=>{var fe;const Z=(fe=l==null?void 0:l.nodesById)==null?void 0:fe[pe];return Z==null?void 0:Z.isFolder}))??[]),n.$$.dirty&1056768&&t(11,i=r&&a.length>0),n.$$.dirty&2053&&t(15,c=i&&(p==null?void 0:p.has(_))),n.$$.dirty&9&&(y==null||y.has(_)),n.$$.dirty&17&&t(19,d=!B||B.has(_)),n.$$.dirty&577&&t(21,g=V&&R?V(_):"none"),n.$$.dirty&2098176&&P&&(g==="partial"?(t(10,P.indeterminate=!0,P),t(10,P.checked=!1,P)):(t(10,P.indeterminate=!1,P),t(10,P.checked=g==="selected",P))),n.$$.dirty&1576960&&t(14,w=!!(o&&r&&d))},[_,m,p,y,B,C,R,j,I,V,P,i,o,a,w,c,N,A,K,d,r,g,l,b,X]}class Ur extends cn{constructor(e){super(),an(this,e,zs,Us,Yt,{nodeId:0,depth:1,expandedIds:2,loadingIds:3,visibleIds:4,searchMatches:5,selectedIds:6,toggleSelection:7,toggleExpansion:8,getCheckboxState:9})}}function Ao(n,e,t){const l=n.slice();return l[22]=e[t],l}function Po(n,e,t){const l=n.slice();return l[25]=e[t],l}function Oo(n){let e,t,l,o,r,a,i,c,d,g,w,b,_,m,p,y,B,C,R,j,I,V,P,N,A,K,X=n[9]===1?"":"s",Y,he,pe,Z,fe,qe,le,ne,O=n[10]===1?"":"s",Dt,ft,_t,tt,Ze,Fe,At,Ie,Oe,Ae,je;const nt=[qs,Hs],Ue=[];function Xe(ye,Ce){return ye[1].length===0?0:1}_=Xe(n),m=Ue[_]=nt[_](n);let ie=n[9]>0&&Ro(n);function wt(ye,Ce){return ye[8].length===0?Ws:Gs}let lt=wt(n),Ee=lt(n);return{c(){e=k("div"),t=k("section"),l=k("header"),o=k("div"),o.innerHTML='<h2 id="folder-modal-title">Select bookmark folders</h2> <p class="folder-modal__hint svelte-gn1lpb">Choose one or more folders to show in your new tab. Selecting a folder includes all of its subfolders.</p>',r=L(),a=k("button"),a.textContent="√ó",i=L(),c=k("div"),d=k("input"),g=L(),w=k("div"),b=k("div"),m.c(),p=L(),y=k("aside"),B=k("header"),C=k("h3"),C.textContent="Selected folders",R=L(),ie&&ie.c(),j=L(),Ee.c(),I=L(),V=k("footer"),P=k("div"),N=k("span"),A=de(n[9]),K=de(" folder"),Y=de(X),he=de(" selected"),pe=L(),Z=k("span"),Z.textContent="‚Ä¢",fe=L(),qe=k("span"),le=de(n[10]),ne=de(" bookmark"),Dt=de(O),ft=L(),_t=k("div"),tt=k("button"),tt.textContent="Cancel",Ze=L(),Fe=k("button"),At=de("Confirm selection"),s(a,"type","button"),s(a,"class","folder-modal__close svelte-gn1lpb"),s(a,"aria-label","Close"),s(l,"class","folder-modal__header svelte-gn1lpb"),s(d,"type","search"),s(d,"placeholder","Search folders"),d.value=n[5],s(d,"class","svelte-gn1lpb"),s(c,"class","folder-modal__search svelte-gn1lpb"),s(b,"class","folder-modal__tree svelte-gn1lpb"),s(B,"class","svelte-gn1lpb"),s(y,"class","folder-modal__summary svelte-gn1lpb"),s(w,"class","folder-modal__body svelte-gn1lpb"),s(Z,"aria-hidden","true"),s(P,"class","folder-modal__totals svelte-gn1lpb"),s(tt,"type","button"),s(tt,"class","ghost-button svelte-gn1lpb"),s(Fe,"type","button"),s(Fe,"class","primary-button svelte-gn1lpb"),Fe.disabled=Ie=n[9]===0,s(_t,"class","folder-modal__actions svelte-gn1lpb"),s(V,"class","folder-modal__footer svelte-gn1lpb"),s(t,"class","folder-modal svelte-gn1lpb"),s(t,"role","dialog"),s(t,"aria-modal","true"),s(t,"aria-labelledby","folder-modal-title"),s(e,"class","modal-overlay svelte-gn1lpb"),s(e,"role","presentation")},m(ye,Ce){W(ye,e,Ce),f(e,t),f(t,l),f(l,o),f(l,r),f(l,a),f(t,i),f(t,c),f(c,d),n[21](d),f(t,g),f(t,w),f(w,b),Ue[_].m(b,null),f(w,p),f(w,y),f(y,B),f(B,C),f(B,R),ie&&ie.m(B,null),f(y,j),Ee.m(y,null),f(t,I),f(t,V),f(V,P),f(P,N),f(N,A),f(N,K),f(N,Y),f(N,he),f(P,pe),f(P,Z),f(P,fe),f(P,qe),f(qe,le),f(qe,ne),f(qe,Dt),f(V,ft),f(V,_t),f(_t,tt),f(_t,Ze),f(_t,Fe),f(Fe,At),Oe=!0,Ae||(je=[z(a,"click",function(){ct(n[14])&&n[14].apply(this,arguments)}),z(d,"input",n[19]),z(tt,"click",function(){ct(n[14])&&n[14].apply(this,arguments)}),z(Fe,"click",function(){ct(n[15])&&n[15].apply(this,arguments)}),z(e,"click",n[18])],Ae=!0)},p(ye,Ce){n=ye,(!Oe||Ce&32&&d.value!==n[5])&&(d.value=n[5]);let ke=_;_=Xe(n),_===ke?Ue[_].p(n,Ce):(Je(),oe(Ue[ke],1,1,()=>{Ue[ke]=null}),Ye(),m=Ue[_],m?m.p(n,Ce):(m=Ue[_]=nt[_](n),m.c()),x(m,1),m.m(b,null)),n[9]>0?ie?ie.p(n,Ce):(ie=Ro(n),ie.c(),ie.m(B,null)):ie&&(ie.d(1),ie=null),lt===(lt=wt(n))&&Ee?Ee.p(n,Ce):(Ee.d(1),Ee=lt(n),Ee&&(Ee.c(),Ee.m(y,null))),(!Oe||Ce&512)&&De(A,n[9]),(!Oe||Ce&512)&&X!==(X=n[9]===1?"":"s")&&De(Y,X),(!Oe||Ce&1024)&&De(le,n[10]),(!Oe||Ce&1024)&&O!==(O=n[10]===1?"":"s")&&De(Dt,O),(!Oe||Ce&512&&Ie!==(Ie=n[9]===0))&&(Fe.disabled=Ie)},i(ye){Oe||(x(m),Oe=!0)},o(ye){oe(m),Oe=!1},d(ye){ye&&H(e),n[21](null),Ue[_].d(),ie&&ie.d(),Ee.d(),Ae=!1,Ne(je)}}}function Hs(n){let e,t=[],l=new Map,o,r=be(n[1]);const a=i=>i[25];for(let i=0;i<r.length;i+=1){let c=Po(n,r,i),d=a(c);l.set(d,t[i]=jo(d,c))}return{c(){e=k("ul");for(let i=0;i<t.length;i+=1)t[i].c();s(e,"class","folder-tree svelte-gn1lpb")},m(i,c){W(i,e,c);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(i,c){c&14558&&(r=be(i[1]),Je(),t=Zt(t,c,a,1,i,r,l,e,yn,jo,null,Po),Ye())},i(i){if(!o){for(let c=0;c<r.length;c+=1)x(t[c]);o=!0}},o(i){for(let c=0;c<t.length;c+=1)oe(t[c]);o=!1},d(i){i&&H(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function qs(n){let e;return{c(){e=k("p"),e.textContent="No bookmark folders available.",s(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,l){W(t,e,l)},p:ae,i:ae,o:ae,d(t){t&&H(e)}}}function jo(n,e){let t,l,o;return l=new Ur({props:{nodeId:e[25],depth:0,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[6],selectedIds:e[7],toggleSelection:e[11],toggleExpansion:e[12],getCheckboxState:e[13]}}),{key:n,first:null,c(){t=ut(),Nt(l.$$.fragment),this.first=t},m(r,a){W(r,t,a),Tt(l,r,a),o=!0},p(r,a){e=r;const i={};a&2&&(i.nodeId=e[25]),a&4&&(i.expandedIds=e[2]),a&8&&(i.loadingIds=e[3]),a&16&&(i.visibleIds=e[4]),a&64&&(i.searchMatches=e[6]),a&128&&(i.selectedIds=e[7]),a&2048&&(i.toggleSelection=e[11]),a&4096&&(i.toggleExpansion=e[12]),a&8192&&(i.getCheckboxState=e[13]),l.$set(i)},i(r){o||(x(l.$$.fragment,r),o=!0)},o(r){oe(l.$$.fragment,r),o=!1},d(r){r&&H(t),Mt(l,r)}}}function Ro(n){let e,t,l;return{c(){e=k("button"),e.textContent="Clear all",s(e,"type","button"),s(e,"class","summary-clear svelte-gn1lpb")},m(o,r){W(o,e,r),t||(l=z(e,"click",function(){ct(n[16])&&n[16].apply(this,arguments)}),t=!0)},p(o,r){n=o},d(o){o&&H(e),t=!1,l()}}}function Gs(n){let e,t=[],l=new Map,o=be(n[8]);const r=a=>a[22].id;for(let a=0;a<o.length;a+=1){let i=Ao(n,o,a),c=r(i);l.set(c,t[a]=Uo(c,i))}return{c(){e=k("ul");for(let a=0;a<t.length;a+=1)t[a].c();s(e,"class","folder-modal__selection-list svelte-gn1lpb")},m(a,i){W(a,e,i);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(a,i){i&256&&(o=be(a[8]),t=Zt(t,i,r,1,a,o,l,e,fo,Uo,null,Ao))},d(a){a&&H(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function Ws(n){let e;return{c(){e=k("p"),e.textContent="Pick folders to see them here.",s(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,l){W(t,e,l)},p:ae,d(t){t&&H(e)}}}function No(n){let e,t=n[22].count+"",l;return{c(){e=k("span"),l=de(t),s(e,"class","selection-chip__count svelte-gn1lpb")},m(o,r){W(o,e,r),f(e,l)},p(o,r){r&256&&t!==(t=o[22].count+"")&&De(l,t)},d(o){o&&H(e)}}}function Uo(n,e){let t,l,o,r=e[22].label+"",a,i,c,d,g=typeof e[22].count=="number"&&No(e);return{key:n,first:null,c(){t=k("li"),l=k("span"),o=k("span"),a=de(r),i=L(),g&&g.c(),d=L(),s(o,"class","selection-chip__label svelte-gn1lpb"),s(l,"class","selection-chip svelte-gn1lpb"),s(l,"title",c=e[22].fullPath),this.first=t},m(w,b){W(w,t,b),f(t,l),f(l,o),f(o,a),f(l,i),g&&g.m(l,null),f(t,d)},p(w,b){e=w,b&256&&r!==(r=e[22].label+"")&&De(a,r),typeof e[22].count=="number"?g?g.p(e,b):(g=No(e),g.c(),g.m(l,null)):g&&(g.d(1),g=null),b&256&&c!==(c=e[22].fullPath)&&s(l,"title",c)},d(w){w&&H(t),g&&g.d()}}}function Vs(n){let e,t,l=n[0]&&Oo(n);return{c(){l&&l.c(),e=ut()},m(o,r){l&&l.m(o,r),W(o,e,r),t=!0},p(o,[r]){o[0]?l?(l.p(o,r),r&1&&x(l,1)):(l=Oo(o),l.c(),x(l,1),l.m(e.parentNode,e)):l&&(Je(),oe(l,1,1,()=>{l=null}),Ye())},i(o){t||(x(l),t=!0)},o(o){oe(l),t=!1},d(o){o&&H(e),l&&l.d(o)}}}function Ks(n,e,t){let{open:l=!1}=e,{rootIds:o=[]}=e,{expandedIds:r}=e,{loadingIds:a}=e,{visibleIds:i}=e,{searchQuery:c=""}=e,{searchMatches:d}=e,{selectedIds:g}=e,{summary:w=[]}=e,{selectedFolderCount:b=0}=e,{totalBookmarkCount:_=0}=e,{toggleSelection:m}=e,{toggleExpansion:p}=e,{getCheckboxState:y}=e,{onSearchChange:B}=e,{onRequestClose:C}=e,{onConfirmSelection:R}=e,{onClearSelection:j}=e,I;function V(A){A.target===A.currentTarget&&(A.preventDefault(),C==null||C())}function P(A){B==null||B(A.target.value)}function N(A){Rt[A?"unshift":"push"](()=>{I=A,t(17,I)})}return n.$$set=A=>{"open"in A&&t(0,l=A.open),"rootIds"in A&&t(1,o=A.rootIds),"expandedIds"in A&&t(2,r=A.expandedIds),"loadingIds"in A&&t(3,a=A.loadingIds),"visibleIds"in A&&t(4,i=A.visibleIds),"searchQuery"in A&&t(5,c=A.searchQuery),"searchMatches"in A&&t(6,d=A.searchMatches),"selectedIds"in A&&t(7,g=A.selectedIds),"summary"in A&&t(8,w=A.summary),"selectedFolderCount"in A&&t(9,b=A.selectedFolderCount),"totalBookmarkCount"in A&&t(10,_=A.totalBookmarkCount),"toggleSelection"in A&&t(11,m=A.toggleSelection),"toggleExpansion"in A&&t(12,p=A.toggleExpansion),"getCheckboxState"in A&&t(13,y=A.getCheckboxState),"onSearchChange"in A&&t(20,B=A.onSearchChange),"onRequestClose"in A&&t(14,C=A.onRequestClose),"onConfirmSelection"in A&&t(15,R=A.onConfirmSelection),"onClearSelection"in A&&t(16,j=A.onClearSelection)},n.$$.update=()=>{if(n.$$.dirty&147457&&l){Ol().then(()=>{I==null||I.focus(),I==null||I.select()});const A=K=>{K.key==="Escape"&&(K.preventDefault(),C==null||C())};document.addEventListener("keydown",A,{once:!0})}},[l,o,r,a,i,c,d,g,w,b,_,m,p,y,C,R,j,I,V,P,B,N]}class Qs extends cn{constructor(e){super(),an(this,e,Ks,Vs,Yt,{open:0,rootIds:1,expandedIds:2,loadingIds:3,visibleIds:4,searchQuery:5,searchMatches:6,selectedIds:7,summary:8,selectedFolderCount:9,totalBookmarkCount:10,toggleSelection:11,toggleExpansion:12,getCheckboxState:13,onSearchChange:20,onRequestClose:14,onConfirmSelection:15,onClearSelection:16})}}function zo(n,e,t){const l=n.slice();return l[18]=e[t],l}function Ho(n){let e,t,l,o,r,a,i,c,d,g,w,b,_=[],m=new Map,p,y,B,C,R,j,I,V,P,N,A,K,X,Y,he,pe,Z,fe=be(n[1]);const qe=le=>le[18].id;for(let le=0;le<fe.length;le+=1){let ne=zo(n,fe,le),O=qe(ne);m.set(O,_[le]=Go(O,ne))}return{c(){e=k("div"),t=k("section"),l=k("header"),o=k("h2"),o.textContent="Add New Shortcut",r=L(),a=k("button"),a.textContent="√ó",i=L(),c=k("form"),d=k("div"),g=k("label"),g.innerHTML=`Folder
            <span class="form-hint svelte-1xx9qid">Where to save the shortcut</span>`,w=L(),b=k("select");for(let le=0;le<_.length;le+=1)_[le].c();p=L(),y=k("div"),B=k("label"),B.innerHTML=`URL
            <span class="form-hint svelte-1xx9qid">The website address</span>`,C=L(),R=k("input"),j=L(),I=k("div"),V=k("label"),V.innerHTML=`Title
            <span class="form-hint svelte-1xx9qid">Display name for the shortcut</span>`,P=L(),N=k("input"),A=L(),K=k("div"),X=k("button"),X.textContent="Cancel",Y=L(),he=k("button"),he.textContent="Add Shortcut",s(o,"id","add-shortcut-modal-title"),s(o,"class","svelte-1xx9qid"),s(a,"type","button"),s(a,"class","add-shortcut-modal__close svelte-1xx9qid"),s(a,"aria-label","Close"),s(l,"class","add-shortcut-modal__header svelte-1xx9qid"),s(g,"for","shortcut-folder"),s(g,"class","svelte-1xx9qid"),s(b,"id","shortcut-folder"),b.required=!0,s(b,"class","svelte-1xx9qid"),n[2]===void 0&&Jt(()=>n[14].call(b)),s(d,"class","form-group svelte-1xx9qid"),s(B,"for","shortcut-url"),s(B,"class","svelte-1xx9qid"),s(R,"id","shortcut-url"),s(R,"type","url"),s(R,"placeholder","https://example.com"),R.required=!0,s(R,"class","svelte-1xx9qid"),s(y,"class","form-group svelte-1xx9qid"),s(V,"for","shortcut-title"),s(V,"class","svelte-1xx9qid"),s(N,"id","shortcut-title"),s(N,"type","text"),s(N,"placeholder","Example Site"),N.required=!0,s(N,"class","svelte-1xx9qid"),s(I,"class","form-group svelte-1xx9qid"),s(X,"type","button"),s(X,"class","button button--secondary svelte-1xx9qid"),s(he,"type","submit"),s(he,"class","button button--primary svelte-1xx9qid"),s(K,"class","add-shortcut-modal__actions svelte-1xx9qid"),s(c,"class","add-shortcut-modal__form svelte-1xx9qid"),s(t,"class","add-shortcut-modal svelte-1xx9qid"),s(t,"role","dialog"),s(t,"aria-modal","true"),s(t,"aria-labelledby","add-shortcut-modal-title"),s(e,"class","modal-overlay svelte-1xx9qid"),s(e,"role","presentation")},m(le,ne){W(le,e,ne),f(e,t),f(t,l),f(l,o),f(l,r),f(l,a),f(t,i),f(t,c),f(c,d),f(d,g),f(d,w),f(d,b);for(let O=0;O<_.length;O+=1)_[O]&&_[O].m(b,null);Fo(b,n[2],!0),f(c,p),f(c,y),f(y,B),f(y,C),f(y,R),n[15](R),Hn(R,n[4]),f(c,j),f(c,I),f(I,V),f(I,P),f(I,N),Hn(N,n[5]),f(c,A),f(c,K),f(K,X),f(K,Y),f(K,he),pe||(Z=[z(a,"click",n[7]),z(b,"change",n[14]),z(R,"input",n[16]),z(R,"blur",n[8]),z(N,"input",n[17]),z(X,"click",n[7]),z(c,"submit",n[9]),z(e,"click",n[6])],pe=!0)},p(le,ne){ne&2&&(fe=be(le[1]),_=Zt(_,ne,qe,1,le,fe,m,b,fo,Go,null,zo)),ne&6&&Fo(b,le[2]),ne&16&&R.value!==le[4]&&Hn(R,le[4]),ne&32&&N.value!==le[5]&&Hn(N,le[5])},d(le){le&&H(e);for(let ne=0;ne<_.length;ne+=1)_[ne].d();n[15](null),pe=!1,Ne(Z)}}}function qo(n){let e,t=n[18].count+"",l,o;return{c(){e=de("("),l=de(t),o=de(")")},m(r,a){W(r,e,a),W(r,l,a),W(r,o,a)},p(r,a){a&2&&t!==(t=r[18].count+"")&&De(l,t)},d(r){r&&(H(e),H(l),H(o))}}}function Go(n,e){let t,l=Wo(e[18])+"",o,r,a,i,c=e[18].count!==void 0&&qo(e);return{key:n,first:null,c(){t=k("option"),o=de(l),r=L(),c&&c.c(),a=L(),t.__value=i=e[18].id,Hn(t,t.__value),this.first=t},m(d,g){W(d,t,g),f(t,o),f(t,r),c&&c.m(t,null),f(t,a)},p(d,g){e=d,g&2&&l!==(l=Wo(e[18])+"")&&De(o,l),e[18].count!==void 0?c?c.p(e,g):(c=qo(e),c.c(),c.m(t,a)):c&&(c.d(1),c=null),g&2&&i!==(i=e[18].id)&&(t.__value=i,Hn(t,t.__value))},d(d){d&&H(t),c&&c.d()}}}function Js(n){let e,t=n[0]&&Ho(n);return{c(){t&&t.c(),e=ut()},m(l,o){t&&t.m(l,o),W(l,e,o)},p(l,[o]){l[0]?t?t.p(l,o):(t=Ho(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ae,o:ae,d(l){l&&H(e),t&&t.d(l)}}}function Wo(n){return n.fullPath||n.label||"Untitled folder"}function Ys(n,e,t){let{open:l=!1}=e,{folders:o=[]}=e,{defaultFolderId:r=null}=e,{onConfirm:a=null}=e,{onClose:i=null}=e,c="",d="",g="",w,b=!1;function _(I){I.target===I.currentTarget&&(I.preventDefault(),m())}function m(){i==null||i()}function p(){if(!g&&d)try{const I=new URL(d);t(5,g=I.hostname.replace(/^www\./,""))}catch{}}function y(I){if(I.preventDefault(),!c){alert("Please select a folder.");return}if(!d.trim()){alert("Please enter a URL.");return}if(!g.trim()){alert("Please enter a title.");return}a==null||a({folderId:c,url:d.trim(),title:g.trim()})}function B(){c=gs(this),t(2,c),t(0,l),t(1,o),t(10,r),t(13,b),t(3,w),t(1,o)}function C(I){Rt[I?"unshift":"push"](()=>{w=I,t(3,w)})}function R(){d=this.value,t(4,d),t(0,l),t(13,b),t(10,r),t(1,o),t(3,w)}function j(){g=this.value,t(5,g),t(0,l),t(13,b),t(10,r),t(1,o),t(3,w)}return n.$$set=I=>{"open"in I&&t(0,l=I.open),"folders"in I&&t(1,o=I.folders),"defaultFolderId"in I&&t(10,r=I.defaultFolderId),"onConfirm"in I&&t(11,a=I.onConfirm),"onClose"in I&&t(12,i=I.onClose)},n.$$.update=()=>{if(n.$$.dirty&1031&&l&&o.length>0&&(c&&o.some(V=>V.id===c)||t(2,c=r||o[0].id)),n.$$.dirty&9227)if(l&&!b){t(13,b=!0),t(4,d=""),t(5,g=""),t(2,c=r||(o.length>0?o[0].id:"")),Ol().then(()=>{w==null||w.focus()});const I=V=>{V.key==="Escape"&&(V.preventDefault(),m())};document.addEventListener("keydown",I,{once:!0})}else!l&&b&&t(13,b=!1)},[l,o,c,w,d,g,_,m,p,y,r,a,i,b,B,C,R,j]}class Zs extends cn{constructor(e){super(),an(this,e,Ys,Js,Yt,{open:0,folders:1,defaultFolderId:10,onConfirm:11,onClose:12})}}function Xs(n){let e,t,l,o;return{c(){e=k("img"),Co(e.src,t=n[8])||s(e,"src",t),s(e,"alt",""),s(e,"loading","lazy")},m(r,a){W(r,e,a),l||(o=z(e,"error",n[13]),l=!0)},p(r,a){a[0]&256&&!Co(e.src,t=r[8])&&s(e,"src",t)},d(r){r&&H(e),l=!1,o()}}}function xs(n){let e=n[0].initials+"",t;return{c(){t=de(e)},m(l,o){W(l,t,o)},p(l,o){o[0]&1&&e!==(e=l[0].initials+"")&&De(t,e)},d(l){l&&H(t)}}}function Vo(n){let e,t,l,o,r,a;return{c(){e=k("div"),t=k("button"),t.textContent="Edit",l=L(),o=k("button"),o.textContent="Remove",s(t,"type","button"),s(t,"role","menuitem"),s(t,"class","tile-menu__item"),s(o,"type","button"),s(o,"role","menuitem"),s(o,"class","tile-menu__item tile-menu__item--danger"),s(e,"class","tile-menu"),s(e,"role","menu")},m(i,c){W(i,e,c),f(e,t),f(e,l),f(e,o),r||(a=[z(t,"click",n[11]),z(o,"click",n[12])],r=!0)},p:ae,d(i){i&&H(e),r=!1,Ne(a)}}}function $s(n){let e,t,l,o,r,a,i=n[0].displayTitle+"",c,d,g,w,b,_,m,p,y,B,C,R,j,I;function V(K,X){return K[0].fallback?xs:Xs}let P=V(n),N=P(n),A=n[2]&&Vo(n);return{c(){e=k("article"),t=k("a"),l=k("div"),N.c(),r=L(),a=k("div"),c=de(i),w=L(),b=k("div"),_=k("button"),m=Lt("svg"),p=Lt("circle"),y=Lt("circle"),B=Lt("circle"),R=L(),A&&A.c(),s(l,"class","tile-icon"),s(l,"style",o=`--dial-color: ${n[0].palette.background}; --dial-text: ${n[0].palette.text};`),s(l,"aria-hidden","true"),s(a,"class","tile-title"),we(a,"tile-title--pill",n[1]),s(t,"class","tile-link"),s(t,"href",d=n[0].url||"#!"),s(t,"title",g=n[0].title||n[0].url||"Shortcut"),s(t,"draggable","false"),s(p,"cx","8"),s(p,"cy","3.5"),s(p,"r","1.25"),s(y,"cx","8"),s(y,"cy","8"),s(y,"r","1.25"),s(B,"cx","8"),s(B,"cy","12.5"),s(B,"r","1.25"),s(m,"viewBox","0 0 16 16"),s(m,"aria-hidden","true"),s(m,"focusable","false"),s(_,"class","tile-menu-button"),s(_,"type","button"),s(_,"aria-haspopup","true"),s(_,"aria-expanded",n[2]),s(_,"aria-label",C=`Open options for ${n[7]}`),we(_,"tile-menu-button--active",n[2]),s(b,"class","tile-actions"),s(e,"class","tile"),s(e,"draggable",n[9]),we(e,"tile--focused",n[3]),we(e,"tile--dragging",n[4]),we(e,"tile--drag-over",n[5]),we(e,"tile--top-site",n[6])},m(K,X){W(K,e,X),f(e,t),f(t,l),N.m(l,null),f(t,r),f(t,a),f(a,c),f(e,w),f(e,b),f(b,_),f(_,m),f(m,p),f(m,y),f(m,B),f(b,R),A&&A.m(b,null),j||(I=[z(t,"focus",n[15]),z(_,"click",n[10]),z(e,"contextmenu",n[14]),z(e,"dragstart",n[16]),z(e,"dragover",n[17]),z(e,"dragleave",n[18]),z(e,"drop",n[19]),z(e,"dragend",n[20])],j=!0)},p(K,X){P===(P=V(K))&&N?N.p(K,X):(N.d(1),N=P(K),N&&(N.c(),N.m(l,null))),X[0]&1&&o!==(o=`--dial-color: ${K[0].palette.background}; --dial-text: ${K[0].palette.text};`)&&s(l,"style",o),X[0]&1&&i!==(i=K[0].displayTitle+"")&&De(c,i),X[0]&2&&we(a,"tile-title--pill",K[1]),X[0]&1&&d!==(d=K[0].url||"#!")&&s(t,"href",d),X[0]&1&&g!==(g=K[0].title||K[0].url||"Shortcut")&&s(t,"title",g),X[0]&4&&s(_,"aria-expanded",K[2]),X[0]&128&&C!==(C=`Open options for ${K[7]}`)&&s(_,"aria-label",C),X[0]&4&&we(_,"tile-menu-button--active",K[2]),K[2]?A?A.p(K,X):(A=Vo(K),A.c(),A.m(b,null)):A&&(A.d(1),A=null),X[0]&512&&s(e,"draggable",K[9]),X[0]&8&&we(e,"tile--focused",K[3]),X[0]&16&&we(e,"tile--dragging",K[4]),X[0]&32&&we(e,"tile--drag-over",K[5]),X[0]&64&&we(e,"tile--top-site",K[6])},i:ae,o:ae,d(K){K&&H(e),N.d(),A&&A.d(),j=!1,Ne(I)}}}function ea(n,e,t){let l,{bookmark:o}=e,{titleBackdrop:r=!1}=e,{menuOpen:a=!1}=e,{focused:i=!1}=e,{dragging:c=!1}=e,{dragOver:d=!1}=e,{isTopSite:g=!1}=e,{onToggleMenu:w=()=>{}}=e,{onEdit:b=()=>{}}=e,{onRemove:_=()=>{}}=e,{onFallback:m=()=>{}}=e,{onContextMenu:p=()=>{}}=e,{onFocus:y=()=>{}}=e,{onDragStart:B=()=>{}}=e,{onDragOver:C=()=>{}}=e,{onDragLeave:R=()=>{}}=e,{onDrop:j=()=>{}}=e,{onDragEnd:I=()=>{}}=e,{getFaviconUrl:V=()=>""}=e,P="Shortcut",N="";function A(O){O.preventDefault(),O.stopPropagation(),w==null||w()}function K(O){O.preventDefault(),O.stopPropagation(),b==null||b()}function X(O){O.preventDefault(),O.stopPropagation(),_==null||_()}function Y(){m==null||m()}function he(O){O.preventDefault(),p==null||p(O)}function pe(){y==null||y()}function Z(O){if(!l){O.preventDefault();return}B==null||B(O)}function fe(O){l&&(O.preventDefault(),C==null||C(O))}function qe(O){l&&(R==null||R(O))}function le(O){l&&(O.preventDefault(),j==null||j(O))}function ne(O){l&&(I==null||I(O))}return n.$$set=O=>{"bookmark"in O&&t(0,o=O.bookmark),"titleBackdrop"in O&&t(1,r=O.titleBackdrop),"menuOpen"in O&&t(2,a=O.menuOpen),"focused"in O&&t(3,i=O.focused),"dragging"in O&&t(4,c=O.dragging),"dragOver"in O&&t(5,d=O.dragOver),"isTopSite"in O&&t(6,g=O.isTopSite),"onToggleMenu"in O&&t(21,w=O.onToggleMenu),"onEdit"in O&&t(22,b=O.onEdit),"onRemove"in O&&t(23,_=O.onRemove),"onFallback"in O&&t(24,m=O.onFallback),"onContextMenu"in O&&t(25,p=O.onContextMenu),"onFocus"in O&&t(26,y=O.onFocus),"onDragStart"in O&&t(27,B=O.onDragStart),"onDragOver"in O&&t(28,C=O.onDragOver),"onDragLeave"in O&&t(29,R=O.onDragLeave),"onDrop"in O&&t(30,j=O.onDrop),"onDragEnd"in O&&t(31,I=O.onDragEnd),"getFaviconUrl"in O&&t(32,V=O.getFaviconUrl)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(7,P=(o==null?void 0:o.displayTitle)||(o==null?void 0:o.title)||(o==null?void 0:o.url)||"Shortcut"),n.$$.dirty[0]&1|n.$$.dirty[1]&2&&o!=null&&o.url&&!o.fallback&&(t(8,N=""),V(o.url).then(O=>{O?t(8,N=O):Y()}).catch(()=>{Y()})),n.$$.dirty[0]&64&&t(9,l=!g)},[o,r,a,i,c,d,g,P,N,l,A,K,X,Y,he,pe,Z,fe,qe,le,ne,w,b,_,m,p,y,B,C,R,j,I,V]}class go extends cn{constructor(e){super(),an(this,e,ea,$s,Yt,{bookmark:0,titleBackdrop:1,menuOpen:2,focused:3,dragging:4,dragOver:5,isTopSite:6,onToggleMenu:21,onEdit:22,onRemove:23,onFallback:24,onContextMenu:25,onFocus:26,onDragStart:27,onDragOver:28,onDragLeave:29,onDrop:30,onDragEnd:31,getFaviconUrl:32},null,[-1,-1])}}function zr(n){const e=n-1;return e*e*e+1}function ro(n,{delay:e=0,duration:t=400,easing:l=dl}={}){const o=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:l,css:r=>`opacity: ${r*o}`}}function io(n,{delay:e=0,duration:t=400,easing:l=zr,x:o=0,y:r=0,opacity:a=0}={}){const i=getComputedStyle(n),c=+i.opacity,d=i.transform==="none"?"":i.transform,g=c*(1-a),[w,b]=Bo(o),[_,m]=Bo(r);return{delay:e,duration:t,easing:l,css:(p,y)=>`
			transform: ${d} translate(${(1-p)*w}${b}, ${(1-p)*_}${m});
			opacity: ${c-g*y}`}}function ta(n,{from:e,to:t},l={}){const o=getComputedStyle(n),r=o.transform==="none"?"":o.transform,[a,i]=o.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*a/t.width-(t.left+a),d=e.top+e.height*i/t.height-(t.top+i),{delay:g=0,duration:w=_=>Math.sqrt(_)*120,easing:b=zr}=l;return{delay:g,duration:ct(w)?w(Math.sqrt(c*c+d*d)):w,easing:b,css:(_,m)=>{const p=m*c,y=m*d,B=_+m*e.width/t.width,C=_+m*e.height/t.height;return`transform: ${r} translate(${p}px, ${y}px) scale(${B}, ${C});`}}}function Ko(n,e,t){const l=n.slice();return l[7]=e[t],l}function Qo(n){let e,t,l;function o(){return n[5](n[7])}return{c(){e=k("button"),e.textContent="Undo",s(e,"type","button"),s(e,"class","toast__undo svelte-f4o70y")},m(r,a){W(r,e,a),t||(l=z(e,"click",o),t=!0)},p(r,a){n=r},d(r){r&&H(e),t=!1,l()}}}function Jo(n,e){let t,l,o=e[7].message+"",r,a,i,c,d,g,w,b,_,m=ae,p,y,B,C=e[7].undoData&&Qo(e);function R(){return e[6](e[7])}return{key:n,first:null,c(){t=k("div"),l=k("span"),r=de(o),a=L(),i=k("div"),C&&C.c(),c=L(),d=k("button"),d.textContent="√ó",g=L(),s(l,"class","toast__message svelte-f4o70y"),s(d,"type","button"),s(d,"class","toast__dismiss svelte-f4o70y"),s(d,"aria-label","Dismiss notification"),s(i,"class","toast__actions svelte-f4o70y"),s(t,"class","toast svelte-f4o70y"),s(t,"role","alert"),we(t,"toast--success",e[7].type==="success"),we(t,"toast--error",e[7].type==="error"),we(t,"toast--info",e[7].type==="info"),this.first=t},m(j,I){W(j,t,I),f(t,l),f(l,r),f(t,a),f(t,i),C&&C.m(i,null),f(i,c),f(i,d),f(t,g),p=!0,y||(B=z(d,"click",R),y=!0)},p(j,I){e=j,(!p||I&1)&&o!==(o=e[7].message+"")&&De(r,o),e[7].undoData?C?C.p(e,I):(C=Qo(e),C.c(),C.m(i,c)):C&&(C.d(1),C=null),(!p||I&1)&&we(t,"toast--success",e[7].type==="success"),(!p||I&1)&&we(t,"toast--error",e[7].type==="error"),(!p||I&1)&&we(t,"toast--info",e[7].type==="info")},r(){_=t.getBoundingClientRect()},f(){_s(t),m(),Lr(t,_)},a(){m(),m=ks(t,_,ta,{duration:250})},i(j){p||(j&&Jt(()=>{p&&(b&&b.end(1),w=Cs(t,io,{y:50,duration:250}),w.start())}),p=!0)},o(j){w&&w.invalidate(),j&&(b=Bs(t,ro,{duration:150})),p=!1},d(j){j&&H(t),C&&C.d(),j&&b&&b.end(),y=!1,B()}}}function na(n){let e,t=[],l=new Map,o,r=be(n[0]);const a=i=>i[7].id;for(let i=0;i<r.length;i+=1){let c=Ko(n,r,i),d=a(c);l.set(d,t[i]=Jo(d,c))}return{c(){e=k("div");for(let i=0;i<t.length;i+=1)t[i].c();s(e,"class","toast-container svelte-f4o70y"),s(e,"aria-live","polite"),s(e,"aria-label","Notifications")},m(i,c){W(i,e,c);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(i,[c]){if(c&7){r=be(i[0]),Je();for(let d=0;d<t.length;d+=1)t[d].r();t=Zt(t,c,a,1,i,r,l,e,Fs,Jo,null,Ko);for(let d=0;d<t.length;d+=1)t[d].a();Ye()}},i(i){if(!o){for(let c=0;c<r.length;c+=1)x(t[c]);o=!0}},o(i){for(let c=0;c<t.length;c+=1)oe(t[c]);o=!1},d(i){i&&H(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function la(n,e,t){let{toasts:l=[]}=e,{onDismiss:o=()=>{}}=e,{onUndo:r=()=>{}}=e;function a(g){o==null||o(g)}function i(g){r==null||r(g)}const c=g=>i(g),d=g=>a(g.id);return n.$$set=g=>{"toasts"in g&&t(0,l=g.toasts),"onDismiss"in g&&t(3,o=g.onDismiss),"onUndo"in g&&t(4,r=g.onUndo)},[l,a,i,o,r,c,d]}class oa extends cn{constructor(e){super(),an(this,e,la,na,Yt,{toasts:0,onDismiss:3,onUndo:4})}}function Yo(n){let e,t,l,o,r,a,i,c,d,g,w,b,_;return{c(){e=k("div"),t=k("article"),l=k("header"),l.innerHTML='<h2 id="welcome-title" class="svelte-1g41oro">Welcome to Bookmark Dial</h2> <p class="welcome-subtitle svelte-1g41oro">Your new tab, reimagined.</p>',o=L(),r=k("div"),r.innerHTML='<section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üìÅ</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Select Your Folders</h3> <p class="svelte-1g41oro">Open <strong class="svelte-1g41oro">Settings</strong> (gear icon) and click <strong class="svelte-1g41oro">Manage folders</strong> to choose which bookmark folders appear on your new tab.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚ûï</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Add Shortcuts</h3> <p class="svelte-1g41oro">Click the <strong class="svelte-1g41oro">+ Add shortcut</strong> tile to quickly add new bookmarks directly from this page.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üé®</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Customize Your Theme</h3> <p class="svelte-1g41oro">Choose from multiple themes, accent colors, and gradient backgrounds to personalize your experience.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚å®Ô∏è</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Keyboard Shortcuts</h3> <p class="svelte-1g41oro">Use <kbd class="svelte-1g41oro">Arrow keys</kbd> to navigate, <kbd class="svelte-1g41oro">Enter</kbd> to open, and <kbd class="svelte-1g41oro">Delete</kbd> or <kbd class="svelte-1g41oro">Backspace</kbd> to remove bookmarks.</p></div></section>',a=L(),i=k("footer"),c=k("button"),c.textContent="Get Started",s(l,"class","welcome-header svelte-1g41oro"),s(r,"class","welcome-content svelte-1g41oro"),s(c,"type","button"),s(c,"class","welcome-button svelte-1g41oro"),s(i,"class","welcome-footer svelte-1g41oro"),s(t,"class","welcome-modal svelte-1g41oro"),s(t,"role","dialog"),s(t,"aria-modal","true"),s(t,"aria-labelledby","welcome-title"),s(e,"class","welcome-overlay svelte-1g41oro"),s(e,"role","presentation")},m(m,p){W(m,e,p),f(e,t),f(t,l),f(t,o),f(t,r),f(t,a),f(t,i),f(i,c),w=!0,b||(_=[z(c,"click",function(){ct(n[1])&&n[1].apply(this,arguments)}),z(e,"click",n[2])],b=!0)},p(m,p){n=m},i(m){w||(m&&Jt(()=>{w&&(d||(d=Bl(t,io,{y:30,duration:300},!0)),d.run(1))}),m&&Jt(()=>{w&&(g||(g=Bl(e,ro,{duration:200},!0)),g.run(1))}),w=!0)},o(m){m&&(d||(d=Bl(t,io,{y:30,duration:300},!1)),d.run(0)),m&&(g||(g=Bl(e,ro,{duration:200},!1)),g.run(0)),w=!1},d(m){m&&H(e),m&&d&&d.end(),m&&g&&g.end(),b=!1,Ne(_)}}}function ra(n){let e,t,l,o=n[0]&&Yo(n);return{c(){o&&o.c(),e=ut()},m(r,a){o&&o.m(r,a),W(r,e,a),t||(l=z(window,"keydown",function(){ct(n[0]?n[3]:null)&&(n[0]?n[3]:null).apply(this,arguments)}),t=!0)},p(r,[a]){n=r,n[0]?o?(o.p(n,a),a&1&&x(o,1)):(o=Yo(n),o.c(),x(o,1),o.m(e.parentNode,e)):o&&(Je(),oe(o,1,1,()=>{o=null}),Ye())},i(r){x(o)},o(r){oe(o)},d(r){r&&H(e),o&&o.d(r),t=!1,l()}}}function ia(n,e,t){let{open:l=!1}=e,{onDismiss:o=()=>{}}=e,{onGetStarted:r=()=>{}}=e;function a(c){c.target===c.currentTarget&&(o==null||o())}function i(c){c.key==="Escape"&&(c.preventDefault(),o==null||o())}return n.$$set=c=>{"open"in c&&t(0,l=c.open),"onDismiss"in c&&t(4,o=c.onDismiss),"onGetStarted"in c&&t(1,r=c.onGetStarted)},[l,r,a,i,o]}class sa extends cn{constructor(e){super(),an(this,e,ia,ra,Yt,{open:0,onDismiss:4,onGetStarted:1})}}function Zo(n){let e,t,l,o,r,a,i,c,d,g,w,b,_,m,p,y,B,C,R;return{c(){e=k("div"),t=L(),l=k("menu"),o=k("li"),r=k("button"),r.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M9 2h5v5M14 2L7 9M6 4H3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Open in new tab`,a=L(),i=k("li"),c=k("button"),c.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><rect x="5" y="5" width="8" height="9" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"></rect><path d="M11 5V3a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg>
        Copy URL`,d=L(),g=k("li"),w=L(),b=k("li"),_=k("button"),_.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M11.5 2.5l2 2L5 13H3v-2l8.5-8.5z" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Edit bookmark`,m=L(),p=k("li"),y=k("button"),y.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M3 4h10M6 4V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v1M5 4v9a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Remove`,s(e,"class","context-menu-overlay svelte-6dpg3b"),s(e,"role","presentation"),s(r,"type","button"),s(r,"class","context-menu__item svelte-6dpg3b"),s(r,"role","menuitem"),s(o,"class","svelte-6dpg3b"),s(c,"type","button"),s(c,"class","context-menu__item svelte-6dpg3b"),s(c,"role","menuitem"),s(i,"class","svelte-6dpg3b"),s(g,"class","context-menu__divider svelte-6dpg3b"),s(g,"role","separator"),s(_,"type","button"),s(_,"class","context-menu__item svelte-6dpg3b"),s(_,"role","menuitem"),s(b,"class","svelte-6dpg3b"),s(y,"type","button"),s(y,"class","context-menu__item context-menu__item--danger svelte-6dpg3b"),s(y,"role","menuitem"),s(p,"class","svelte-6dpg3b"),s(l,"class","context-menu svelte-6dpg3b"),s(l,"style",n[1]),s(l,"aria-label",B="Actions for "+n[2])},m(j,I){W(j,e,I),W(j,t,I),W(j,l,I),f(l,o),f(o,r),f(l,a),f(l,i),f(i,c),f(l,d),f(l,g),f(l,w),f(l,b),f(b,_),f(l,m),f(l,p),f(p,y),C||(R=[z(e,"click",n[7]),z(e,"contextmenu",no(n[7])),z(r,"click",n[5]),z(c,"click",n[6]),z(_,"click",n[3]),z(y,"click",n[4])],C=!0)},p(j,I){I&2&&s(l,"style",j[1]),I&4&&B!==(B="Actions for "+j[2])&&s(l,"aria-label",B)},d(j){j&&(H(e),H(t),H(l)),C=!1,Ne(R)}}}function aa(n){let e,t,l,o=n[0]&&Zo(n);return{c(){o&&o.c(),e=ut()},m(r,a){o&&o.m(r,a),W(r,e,a),t||(l=z(window,"keydown",function(){ct(n[0]?n[8]:null)&&(n[0]?n[8]:null).apply(this,arguments)}),t=!0)},p(r,[a]){n=r,n[0]?o?o.p(n,a):(o=Zo(n),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:ae,o:ae,d(r){r&&H(e),o&&o.d(r),t=!1,l()}}}function Xo(n){var r;const e=document.querySelectorAll(".context-menu__item"),t=document.activeElement;let o=Array.from(e).indexOf(t)+n;o<0&&(o=e.length-1),o>=e.length&&(o=0),(r=e[o])==null||r.focus()}function ca(n,e,t){let l,o,{bookmark:r=null}=e,{position:a={x:0,y:0}}=e,{visible:i=!1}=e;const c=ys();function d(){c("edit")}function g(){c("remove")}function w(){c("opennewtab")}function b(){c("copyurl")}function _(){c("close")}function m(p){p.key==="Escape"?(p.preventDefault(),_()):p.key==="ArrowDown"?(p.preventDefault(),Xo(1)):p.key==="ArrowUp"&&(p.preventDefault(),Xo(-1))}return n.$$set=p=>{"bookmark"in p&&t(9,r=p.bookmark),"position"in p&&t(10,a=p.position),"visible"in p&&t(0,i=p.visible)},n.$$.update=()=>{n.$$.dirty&512&&t(2,l=(r==null?void 0:r.title)||(r==null?void 0:r.url)||"bookmark"),n.$$.dirty&1024&&t(1,o=`left: ${a.x}px; top: ${a.y}px;`)},[i,o,l,d,g,w,b,_,m,r,a]}class ua extends cn{constructor(e){super(),an(this,e,ca,aa,Yt,{bookmark:9,position:10,visible:0})}}function xo(n){let e,t,l,o,r,a,i,c,d,g,w,b=n[1]&&$o(n);return{c(){e=k("div"),t=Lt("svg"),l=Lt("circle"),o=Lt("path"),r=L(),a=k("input"),i=L(),b&&b.c(),c=L(),d=k("button"),d.innerHTML='<svg viewBox="0 0 16 16" aria-hidden="true" class="svelte-qypsdi"><path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',s(l,"cx","6.5"),s(l,"cy","6.5"),s(l,"r","5"),s(l,"stroke","currentColor"),s(l,"stroke-width","1.5"),s(l,"fill","none"),s(o,"d","M10.5 10.5L14 14"),s(o,"stroke","currentColor"),s(o,"stroke-width","1.5"),s(o,"stroke-linecap","round"),s(t,"class","search-bar__icon svelte-qypsdi"),s(t,"viewBox","0 0 16 16"),s(t,"aria-hidden","true"),s(a,"type","search"),s(a,"class","search-bar__input svelte-qypsdi"),s(a,"placeholder","Search bookmarks‚Ä¶"),a.value=n[1],s(a,"aria-label","Search bookmarks"),s(d,"type","button"),s(d,"class","search-bar__close svelte-qypsdi"),s(d,"aria-label","Close search"),s(e,"class","search-bar svelte-qypsdi"),s(e,"role","search")},m(_,m){W(_,e,m),f(e,t),f(t,l),f(t,o),f(e,r),f(e,a),n[8](a),f(e,i),b&&b.m(e,null),f(e,c),f(e,d),g||(w=[z(a,"input",n[4]),z(a,"keydown",n[6]),z(d,"click",function(){ct(n[2])&&n[2].apply(this,arguments)})],g=!0)},p(_,m){n=_,m&2&&a.value!==n[1]&&(a.value=n[1]),n[1]?b?b.p(n,m):(b=$o(n),b.c(),b.m(e,c)):b&&(b.d(1),b=null)},d(_){_&&H(e),n[8](null),b&&b.d(),g=!1,Ne(w)}}}function $o(n){let e,t,l;return{c(){e=k("button"),e.textContent="√ó",s(e,"type","button"),s(e,"class","search-bar__clear svelte-qypsdi"),s(e,"aria-label","Clear search")},m(o,r){W(o,e,r),t||(l=z(e,"click",n[5]),t=!0)},p:ae,d(o){o&&H(e),t=!1,l()}}}function da(n){let e,t=n[0]&&xo(n);return{c(){t&&t.c(),e=ut()},m(l,o){t&&t.m(l,o),W(l,e,o)},p(l,[o]){l[0]?t?t.p(l,o):(t=xo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ae,o:ae,d(l){l&&H(e),t&&t.d(l)}}}function fa(n,e,t){let{visible:l=!1}=e,{query:o=""}=e,{onSearchChange:r=()=>{}}=e,{onClose:a=()=>{}}=e,i;function c(b){r==null||r(b.target.value)}function d(){r==null||r(""),i==null||i.focus()}function g(b){b.key==="Escape"&&(b.preventDefault(),o?r==null||r(""):a==null||a())}function w(b){Rt[b?"unshift":"push"](()=>{i=b,t(3,i)})}return n.$$set=b=>{"visible"in b&&t(0,l=b.visible),"query"in b&&t(1,o=b.query),"onSearchChange"in b&&t(7,r=b.onSearchChange),"onClose"in b&&t(2,a=b.onClose)},n.$$.update=()=>{n.$$.dirty&9&&l&&i&&i.focus()},[l,o,a,i,c,d,g,r,w]}class ha extends cn{constructor(e){super(),an(this,e,fa,da,Yt,{visible:0,query:1,onSearchChange:7,onClose:2})}}const ga=[{title:"ESLint",url:"https://eslint.org"},{title:"Prettier",url:"https://prettier.io"},{title:"Parcel",url:"https://parceljs.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"Visual Studio Code",url:"https://code.visualstudio.com"},{title:"npm",url:"https://www.npmjs.com"},{title:"Docker",url:"https://www.docker.com"},{title:"Kubernetes",url:"https://kubernetes.io"},{title:"Postman",url:"https://www.postman.com"},{title:"GitLab",url:"https://gitlab.com"},{title:"Bitbucket",url:"https://bitbucket.org"},{title:"Jest",url:"https://jestjs.io"},{title:"Webpack",url:"https://webpack.js.org"},{title:"Vite",url:"https://vitejs.dev"},{title:"TypeScript",url:"https://www.typescriptlang.org"},{title:"Babel",url:"https://babeljs.io"},{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Svelte",url:"https://svelte.dev"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt",url:"https://nuxt.com"},{title:"Tailwind CSS",url:"https://tailwindcss.com"},{title:"Bootstrap",url:"https://getbootstrap.com"},{title:"Sass",url:"https://sass-lang.com"},{title:"Node.js",url:"https://nodejs.org"},{title:"Deno",url:"https://deno.com"},{title:"Express",url:"https://expressjs.com"},{title:"Fastify",url:"https://www.fastify.io"},{title:"MongoDB",url:"https://www.mongodb.com"},{title:"PostgreSQL",url:"https://www.postgresql.org"},{title:"Redis",url:"https://redis.io"},{title:"MySQL",url:"https://www.mysql.com"},{title:"Vercel",url:"https://vercel.com"},{title:"Netlify",url:"https://www.netlify.com"},{title:"Heroku",url:"https://www.heroku.com"},{title:"AWS",url:"https://aws.amazon.com"},{title:"Firebase",url:"https://firebase.google.com"},{title:"Supabase",url:"https://supabase.com"},{title:"Figma",url:"https://www.figma.com"},{title:"Canva",url:"https://www.canva.com"},{title:"VS Code Extensions",url:"https://marketplace.visualstudio.com"},{title:"Chrome DevTools",url:"https://developer.chrome.com/docs/devtools"},{title:"Can I Use",url:"https://caniuse.com"},{title:"RegExr",url:"https://regexr.com"},{title:"JSON Formatter",url:"https://jsonformatter.org"},{title:"CodePen",url:"https://codepen.io"},{title:"JSFiddle",url:"https://jsfiddle.net"},{title:"Replit",url:"https://replit.com"},{title:"StackBlitz",url:"https://stackblitz.com"},{title:"GraphQL",url:"https://graphql.org"},{title:"Prisma",url:"https://www.prisma.io"},{title:"Cypress",url:"https://www.cypress.io"},{title:"Playwright",url:"https://playwright.dev"},{title:"Testing Library",url:"https://testing-library.com"},{title:"Storybook",url:"https://storybook.js.org"},{title:"Lodash",url:"https://lodash.com"},{title:"Axios",url:"https://axios-http.com"},{title:"Day.js",url:"https://day.js.org"},{title:"Chart.js",url:"https://www.chartjs.org"},{title:"Three.js",url:"https://threejs.org"},{title:"Vitest",url:"https://vitest.dev"},{title:"ESBuild",url:"https://esbuild.github.io"},{title:"Rollup",url:"https://rollupjs.org"},{title:"Gulp",url:"https://gulpjs.com"},{title:"Grunt",url:"https://gruntjs.com"},{title:"Semantic UI",url:"https://semantic-ui.com"},{title:"Material UI",url:"https://mui.com"},{title:"Chakra UI",url:"https://chakra-ui.com"},{title:"Ant Design",url:"https://ant.design"},{title:"Zustand",url:"https://zustand-demo.vercel.app"},{title:"Redux",url:"https://redux.js.org"},{title:"Recoil",url:"https://recoiljs.org"},{title:"Jotai",url:"https://jotai.org"},{title:"SWR",url:"https://swr.vercel.app"},{title:"React Query",url:"https://tanstack.com/query"},{title:"Apollo GraphQL",url:"https://www.apollographql.com"},{title:"Strapi",url:"https://strapi.io"},{title:"Contentful",url:"https://www.contentful.com"},{title:"Sanity",url:"https://www.sanity.io"},{title:"Auth0",url:"https://auth0.com"}],Et={fiction:{classicNovels:[{title:"Project Gutenberg",url:"https://www.gutenberg.org"},{title:"The Literature Network",url:"http://www.online-literature.com"},{title:"Classic Reader",url:"http://www.classicreader.com"},{title:"Read Print",url:"http://www.readprint.com"},{title:"Free Classic Literature",url:"https://www.freeclassicebooks.com"},{title:"Classic Literature Library",url:"https://classiclit.about.com"}],modernFiction:[{title:"Electric Literature",url:"https://electricliterature.com"},{title:"The Paris Review",url:"https://www.theparisreview.org"},{title:"Granta",url:"https://granta.com"},{title:"LitHub",url:"https://lithub.com"},{title:"The Rumpus",url:"https://therumpus.net"},{title:"The Millions",url:"https://themillions.com"}],shortStories:[{title:"Daily Science Fiction",url:"https://dailysciencefiction.com"},{title:"Narrative Magazine",url:"https://www.narrativemagazine.com"},{title:"One Story",url:"https://www.one-story.com"},{title:"Flash Fiction Online",url:"https://flashfictiononline.com"},{title:"Smokelong Quarterly",url:"http://www.smokelong.com"},{title:"Zoetrope All-Story",url:"https://www.all-story.com"}]},nonFiction:{essays:[{title:"The New Yorker Essays",url:"https://www.newyorker.com/culture/personal-history"},{title:"The Atlantic Essays",url:"https://www.theatlantic.com/ideas/"},{title:"Harper's Magazine",url:"https://harpers.org"},{title:"The Believer",url:"https://believermag.com"},{title:"n+1 Magazine",url:"https://www.nplusonemag.com"},{title:"Aeon Essays",url:"https://aeon.co/essays"}],biography:[{title:"Biography.com",url:"https://www.biography.com"},{title:"Famous People",url:"https://www.thefamouspeople.com"},{title:"Britannica Biographies",url:"https://www.britannica.com/biography"},{title:"Stanford Encyclopedia",url:"https://plato.stanford.edu"},{title:"Internet Biography",url:"https://www.notablebiographies.com"},{title:"Lives of the Great",url:"https://www.famousscientists.org"}],history:[{title:"History.com",url:"https://www.history.com"},{title:"Smithsonian Magazine",url:"https://www.smithsonianmag.com/history/"},{title:"History Today",url:"https://www.historytoday.com"},{title:"BBC History",url:"https://www.bbc.co.uk/history"},{title:"American Historical",url:"https://www.historians.org"},{title:"Ancient History",url:"https://www.ancient.eu"}]},poetry:{classicPoetry:[{title:"Poetry Foundation",url:"https://www.poetryfoundation.org"},{title:"Poets.org",url:"https://poets.org"},{title:"Poetry Archive",url:"https://www.poetryarchive.org"},{title:"Famous Poets",url:"https://www.famouspoetsandpoems.com"},{title:"All Poetry",url:"https://allpoetry.com"},{title:"Classic Poetry Aloud",url:"https://www.poetryoutloud.org"}],contemporaryPoetry:[{title:"Poetry Magazine",url:"https://www.poetrymagazine.org"},{title:"The Adroit Journal",url:"https://theadroitjournal.org"},{title:"Rattle",url:"https://www.rattle.com"},{title:"Poem-a-Day",url:"https://www.poets.org/poetsorg/poem-day"},{title:"Button Poetry",url:"https://buttonpoetry.com"},{title:"Split This Rock",url:"https://www.splitthisrock.org"}],spokenWord:[{title:"TED Poetry",url:"https://www.ted.com/topics/poetry"},{title:"Poetry Slam Inc",url:"https://www.poetryslam.com"},{title:"Def Poetry",url:"https://www.hbo.com/def-poetry"},{title:"Write About Now",url:"https://www.writeaboutnow.com"},{title:"Brave New Voices",url:"https://youthspeaks.org"},{title:"Individual World",url:"https://www.iwps.org"}]},academic:{literaryCriticism:[{title:"JSTOR",url:"https://www.jstor.org"},{title:"Project MUSE",url:"https://muse.jhu.edu"},{title:"Oxford Academic",url:"https://academic.oup.com"},{title:"Cambridge Core",url:"https://www.cambridge.org/core"},{title:"Taylor & Francis",url:"https://www.tandfonline.com"},{title:"SAGE Journals",url:"https://journals.sagepub.com"}],literaryTheory:[{title:"Critical Theory",url:"https://criticalthoery.web.unc.edu"},{title:"Theory.org",url:"https://www.theory.org.uk"},{title:"Yale Theory",url:"https://theory.yale.edu"},{title:"Johns Hopkins Guide",url:"https://litguide.press.jhu.edu"},{title:"Internet Encyclopedia",url:"https://iep.utm.edu"},{title:"Stanford Literary Lab",url:"https://litlab.stanford.edu"}],journals:[{title:"PMLA",url:"https://www.mla.org/Publications/Journals/PMLA"},{title:"New Literary History",url:"https://muse.jhu.edu/journal/96"},{title:"Modern Fiction Studies",url:"https://muse.jhu.edu/journal/122"},{title:"Contemporary Literature",url:"https://muse.jhu.edu/journal/92"},{title:"Modernism/modernity",url:"https://muse.jhu.edu/journal/186"},{title:"American Literature",url:"https://read.dukeupress.edu/american-literature"}]}},{Map:fl}=cs;function er(n,e,t){const l=n.slice();return l[228]=e[t],l}function tr(n,e,t){const l=n.slice();return l[225]=e[t],l}function nr(n,e,t){const l=n.slice();return l[222]=e[t],l[224]=t,l}function lr(n,e,t){const l=n.slice();return l[225]=e[t],l[227]=t,l}function or(n,e,t){const l=n.slice();return l[233]=e[t],l}function rr(n,e,t){const l=n.slice();return l[236]=e[t],l}function ir(n,e,t){const l=n.slice();return l[236]=e[t],l}function sr(n,e,t){const l=n.slice();return l[236]=e[t],l}function ar(n){let e,t=n[236].label+"",l,o,r,a,i;function c(){return n[113](n[236])}return{c(){e=k("button"),l=de(t),o=L(),s(e,"type","button"),s(e,"class","choice-button"),s(e,"data-active",r=n[6].theme===n[236].id)},m(d,g){W(d,e,g),f(e,l),f(e,o),a||(i=z(e,"click",c),a=!0)},p(d,g){n=d,g[0]&64&&r!==(r=n[6].theme===n[236].id)&&s(e,"data-active",r)},d(d){d&&H(e),a=!1,i()}}}function cr(n){let e,t,l,o,r,a,i;function c(){return n[114](n[236])}return{c(){e=k("button"),s(e,"type","button"),s(e,"class","accent-swatch"),s(e,"style",t=`--swatch-color: ${n[236].colors.base};`),s(e,"data-active",l=n[6].accent===n[236].id),s(e,"aria-label",o=n[236].label),s(e,"title",r=n[236].label)},m(d,g){W(d,e,g),a||(i=z(e,"click",c),a=!0)},p(d,g){n=d,g[1]&1024&&t!==(t=`--swatch-color: ${n[236].colors.base};`)&&s(e,"style",t),g[0]&64|g[1]&1024&&l!==(l=n[6].accent===n[236].id)&&s(e,"data-active",l),g[1]&1024&&o!==(o=n[236].label)&&s(e,"aria-label",o),g[1]&1024&&r!==(r=n[236].label)&&s(e,"title",r)},d(d){d&&H(e),a=!1,i()}}}function ma(n){let e,t,l=n[9]?"Show fewer accent colors":"More accent colors",o,r,a;return{c(){e=k("div"),t=k("button"),o=de(l),s(t,"type","button"),s(t,"class","swatch-toggle-button"),s(t,"aria-expanded",n[9]),s(e,"class","swatch-toggle-row")},m(i,c){W(i,e,c),f(e,t),f(t,o),r||(a=z(t,"click",n[47]),r=!0)},p(i,c){c[0]&512&&l!==(l=i[9]?"Show fewer accent colors":"More accent colors")&&De(o,l),c[0]&512&&s(t,"aria-expanded",i[9])},d(i){i&&H(e),r=!1,a()}}}function ur(n){let e,t,l=n[236].label+"",o,r,a,i,c,d;function g(){return n[116](n[236])}return{c(){e=k("button"),t=k("span"),o=de(l),r=L(),s(e,"type","button"),s(e,"class","gradient-option"),s(e,"style",a=`--gradient-sample-light: ${n[236].gradients.light}; --gradient-sample-dark: ${n[236].gradients.dark};`),s(e,"data-active",i=n[6].background.mode==="gradient"&&n[6].background.gradientId===n[236].id)},m(w,b){W(w,e,b),f(e,t),f(t,o),f(e,r),c||(d=z(e,"click",g),c=!0)},p(w,b){n=w,b[1]&2048&&l!==(l=n[236].label+"")&&De(o,l),b[1]&2048&&a!==(a=`--gradient-sample-light: ${n[236].gradients.light}; --gradient-sample-dark: ${n[236].gradients.dark};`)&&s(e,"style",a),b[0]&64|b[1]&2048&&i!==(i=n[6].background.mode==="gradient"&&n[6].background.gradientId===n[236].id)&&s(e,"data-active",i)},d(w){w&&H(e),c=!1,d()}}}function pa(n){let e,t,l=n[8]?"Show fewer gradients":"More gradients",o,r,a;return{c(){e=k("div"),t=k("button"),o=de(l),s(t,"type","button"),s(t,"class","swatch-toggle-button"),s(t,"aria-expanded",n[8]),s(e,"class","swatch-toggle-row")},m(i,c){W(i,e,c),f(e,t),f(t,o),r||(a=z(t,"click",n[48]),r=!0)},p(i,c){c[0]&256&&l!==(l=i[8]?"Show fewer gradients":"More gradients")&&De(o,l),c[0]&256&&s(t,"aria-expanded",i[8])},d(i){i&&H(e),r=!1,a()}}}function ba(n){let e=[],t=new fl,l,o=be(n[4]);const r=a=>a[233].id;for(let a=0;a<o.length;a+=1){let i=or(n,o,a),c=r(i);t.set(c,e[a]=dr(c,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ut()},m(a,i){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,i);W(a,l,i)},p(a,i){i[0]&16&&(o=be(a[4]),e=Zt(e,i,r,1,a,o,t,l.parentNode,fo,dr,l,or))},d(a){a&&H(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function ka(n){let e;return{c(){e=k("span"),e.textContent="Default folder",s(e,"class","folder-chip folder-chip--empty"),s(e,"title","Default Bookmark Dial folder")},m(t,l){W(t,e,l)},p:ae,d(t){t&&H(e)}}}function dr(n,e){let t,l,o=e[233].label+"",r,a,i,c=e[233].count+"",d,g,w;return{key:n,first:null,c(){t=k("span"),l=k("span"),r=de(o),a=L(),i=k("span"),d=de(c),g=L(),s(l,"class","folder-chip__label"),s(i,"class","folder-chip__count"),s(t,"class","folder-chip"),s(t,"title",w=e[233].fullPath),this.first=t},m(b,_){W(b,t,_),f(t,l),f(l,r),f(t,a),f(t,i),f(i,d),f(t,g)},p(b,_){e=b,_[0]&16&&o!==(o=e[233].label+"")&&De(r,o),_[0]&16&&c!==(c=e[233].count+"")&&De(d,c),_[0]&16&&w!==(w=e[233].fullPath)&&s(t,"title",w)},d(b){b&&H(t)}}}function fr(n){let e,t,l,o,r,a,i,c,d,g,w,b,_,m;return{c(){e=k("div"),t=k("label"),l=k("span"),l.textContent="Folder width",o=L(),r=k("input"),i=L(),c=k("label"),d=k("input"),w=L(),b=k("div"),b.innerHTML='<span class="settings-toggle__label">Compact header</span> <span class="settings-toggle__description">Hide folder path to save space.</span>',s(l,"class","settings-control__label"),s(r,"type","range"),s(r,"min","480"),s(r,"max","1860"),s(r,"step","20"),r.value=a=n[6].folderColumnWidth,s(t,"class","settings-control"),s(d,"type","checkbox"),d.checked=g=n[6].compactFolderHeader,s(b,"class","settings-toggle__body"),s(c,"class","settings-toggle"),s(e,"class","ungrouped-settings")},m(p,y){W(p,e,y),f(e,t),f(t,l),f(t,o),f(t,r),f(e,i),f(e,c),f(c,d),f(c,w),f(c,b),_||(m=[z(r,"input",n[118]),z(d,"change",n[119])],_=!0)},p(p,y){y[0]&64&&a!==(a=p[6].folderColumnWidth)&&(r.value=a),y[0]&64&&g!==(g=p[6].compactFolderHeader)&&(d.checked=g)},d(p){p&&H(e),_=!1,Ne(m)}}}function hr(n){let e,t;return e=new ha({props:{visible:n[33],query:n[10],onSearchChange:n[80],onClose:n[81]}}),{c(){Nt(e.$$.fragment)},m(l,o){Tt(e,l,o),t=!0},p(l,o){const r={};o[1]&4&&(r.visible=l[33]),o[0]&1024&&(r.query=l[10]),e.$set(r)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Mt(e,l)}}}function _a(n){let e,t=[],l=new fl,o=`${n[6].folderColumnWidth}px`,r,a=be(n[40]);const i=c=>c[228].id;for(let c=0;c<a.length;c+=1){let d=er(n,a,c),g=i(d);l.set(g,t[c]=pr(g,d))}return{c(){e=k("div");for(let c=0;c<t.length;c+=1)t[c].c();s(e,"class","folder-grid-list"),s(e,"aria-label","Bookmark folders"),Dl(e,"max-width",o)},m(c,d){W(c,e,d);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);r=!0},p(c,d){d[0]&8388672|d[1]&704|d[2]&1337987456|d[3]&1&&(a=be(c[40]),Je(),t=Zt(t,d,i,1,c,a,l,e,yn,pr,null,er),Ye()),d[0]&64&&o!==(o=`${c[6].folderColumnWidth}px`)&&Dl(e,"max-width",o)},i(c){if(!r){for(let d=0;d<a.length;d+=1)x(t[d]);r=!0}},o(c){for(let d=0;d<t.length;d+=1)oe(t[d]);r=!1},d(c){c&&H(e);for(let d=0;d<t.length;d+=1)t[d].d()}}}function wa(n){let e,t=[],l=new fl,o,r,a,i,c,d,g,w=be(n[39]);const b=m=>m[225].id;for(let m=0;m<w.length;m+=1){let p=lr(n,w,m),y=b(p);l.set(y,t[m]=br(y,p))}let _=n[6].enableTopSites&&n[34].length>0&&kr(n);return{c(){e=k("div");for(let m=0;m<t.length;m+=1)t[m].c();o=L(),_&&_.c(),r=L(),a=k("article"),i=k("button"),i.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',s(i,"class","add-button"),s(i,"type","button"),s(i,"aria-label","Add new bookmark shortcut"),s(a,"class","tile add-tile"),s(a,"draggable","false"),s(e,"id","dial-grid"),s(e,"class","grid"),s(e,"aria-label","Bookmark Dial links"),s(e,"tabindex","0"),s(e,"role","group")},m(m,p){W(m,e,p);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null);f(e,o),_&&_.m(e,null),f(e,r),f(e,a),f(a,i),n[133](e),c=!0,d||(g=[z(i,"click",n[89]),z(e,"keydown",n[82])],d=!0)},p(m,p){p[0]&8388672|p[1]&464|p[2]&1205866880|p[3]&1&&(w=be(m[39]),Je(),t=Zt(t,p,b,1,m,w,l,e,yn,br,o,lr),Ye()),m[6].enableTopSites&&m[34].length>0?_?(_.p(m,p),p[0]&64|p[1]&8&&x(_,1)):(_=kr(m),_.c(),x(_,1),_.m(e,r)):_&&(Je(),oe(_,1,1,()=>{_=null}),Ye())},i(m){if(!c){for(let p=0;p<w.length;p+=1)x(t[p]);x(_),c=!0}},o(m){for(let p=0;p<t.length;p+=1)oe(t[p]);oe(_),c=!1},d(m){m&&H(e);for(let p=0;p<t.length;p+=1)t[p].d();_&&_.d(),n[133](null),d=!1,Ne(g)}}}function ya(n){let e,t=n[228].label+"",l,o,r,a=n[228].fullPath&&n[228].fullPath!==n[228].label&&gr(n);return{c(){e=k("h4"),l=de(t),o=L(),a&&a.c(),r=ut(),s(e,"class","folder-section__title")},m(i,c){W(i,e,c),f(e,l),W(i,o,c),a&&a.m(i,c),W(i,r,c)},p(i,c){c[1]&512&&t!==(t=i[228].label+"")&&De(l,t),i[228].fullPath&&i[228].fullPath!==i[228].label?a?a.p(i,c):(a=gr(i),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(i){i&&(H(e),H(o),H(r)),a&&a.d(i)}}}function Sa(n){let e,t=n[228].label+"",l,o;return{c(){e=k("h4"),l=de(t),s(e,"class","folder-section__title"),s(e,"title",o=n[228].fullPath)},m(r,a){W(r,e,a),f(e,l)},p(r,a){a[1]&512&&t!==(t=r[228].label+"")&&De(l,t),a[1]&512&&o!==(o=r[228].fullPath)&&s(e,"title",o)},d(r){r&&H(e)}}}function gr(n){let e,t=n[228].fullPath+"",l;return{c(){e=k("p"),l=de(t),s(e,"class","folder-section__path")},m(o,r){W(o,e,r),f(e,l)},p(o,r){r[1]&512&&t!==(t=o[228].fullPath+"")&&De(l,t)},d(o){o&&H(e)}}}function va(n){let e,t,l,o,r,a;function i(){return n[143](n[228])}return{c(){e=k("div"),t=k("article"),l=k("button"),l.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',s(l,"class","add-button"),s(l,"type","button"),s(t,"class","tile add-tile"),s(t,"draggable","false"),s(e,"class","grid folder-section__grid"),s(e,"role","group"),s(e,"aria-label",o=`Shortcuts in ${n[228].fullPath||n[228].label}`)},m(c,d){W(c,e,d),f(e,t),f(t,l),r||(a=z(l,"click",i),r=!0)},p(c,d){n=c,d[1]&512&&o!==(o=`Shortcuts in ${n[228].fullPath||n[228].label}`)&&s(e,"aria-label",o)},i:ae,o:ae,d(c){c&&H(e),r=!1,a()}}}function Ia(n){let e,t=[],l=new fl,o,r,a,i,c,d,g,w=be(n[228].items);const b=m=>m[225].id;for(let m=0;m<w.length;m+=1){let p=tr(n,w,m),y=b(p);l.set(y,t[m]=mr(y,p))}function _(){return n[142](n[228])}return{c(){e=k("div");for(let m=0;m<t.length;m+=1)t[m].c();o=L(),r=k("article"),a=k("button"),a.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',s(a,"class","add-button"),s(a,"type","button"),s(r,"class","tile add-tile"),s(r,"draggable","false"),s(e,"class","grid folder-section__grid"),s(e,"role","group"),s(e,"aria-label",i=`Shortcuts in ${n[228].fullPath||n[228].label}`)},m(m,p){W(m,e,p);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null);f(e,o),f(e,r),f(r,a),c=!0,d||(g=z(a,"click",_),d=!0)},p(m,p){n=m,p[0]&8388672|p[1]&704|p[2]&1203769728|p[3]&1&&(w=be(n[228].items),Je(),t=Zt(t,p,b,1,n,w,l,e,yn,mr,o,tr),Ye()),(!c||p[1]&512&&i!==(i=`Shortcuts in ${n[228].fullPath||n[228].label}`))&&s(e,"aria-label",i)},i(m){if(!c){for(let p=0;p<w.length;p+=1)x(t[p]);c=!0}},o(m){for(let p=0;p<t.length;p+=1)oe(t[p]);c=!1},d(m){m&&H(e);for(let p=0;p<t.length;p+=1)t[p].d();d=!1,g()}}}function mr(n,e){var _,m;let t,l,o;function r(){return e[134](e[225])}function a(){return e[135](e[225])}function i(){return e[136](e[225])}function c(){return e[137](e[225])}function d(...p){return e[138](e[225],...p)}function g(...p){return e[139](e[225],e[228],...p)}function w(...p){return e[140](e[225],...p)}function b(...p){return e[141](e[225],...p)}return l=new go({props:{bookmark:e[225],titleBackdrop:e[6].titleBackdrop,menuOpen:e[23]===e[225].id,focused:!1,dragging:((_=e[37])==null?void 0:_.id)===e[225].id,dragOver:((m=e[38])==null?void 0:m.id)===e[225].id,onToggleMenu:r,onEdit:a,onRemove:i,onFallback:c,onContextMenu:d,onFocus:za,onDragStart:g,onDragOver:w,onDragLeave:e[86],onDrop:b,onDragEnd:e[88],getFaviconUrl:mo}}),{key:n,first:null,c(){t=ut(),Nt(l.$$.fragment),this.first=t},m(p,y){W(p,t,y),Tt(l,p,y),o=!0},p(p,y){var C,R;e=p;const B={};y[1]&512&&(B.bookmark=e[225]),y[0]&64&&(B.titleBackdrop=e[6].titleBackdrop),y[0]&8388608|y[1]&512&&(B.menuOpen=e[23]===e[225].id),y[1]&576&&(B.dragging=((C=e[37])==null?void 0:C.id)===e[225].id),y[1]&640&&(B.dragOver=((R=e[38])==null?void 0:R.id)===e[225].id),y[1]&512&&(B.onToggleMenu=r),y[1]&512&&(B.onEdit=a),y[1]&512&&(B.onRemove=i),y[1]&512&&(B.onFallback=c),y[1]&512&&(B.onContextMenu=d),y[1]&512&&(B.onDragStart=g),y[1]&512&&(B.onDragOver=w),y[1]&512&&(B.onDrop=b),l.$set(B)},i(p){o||(x(l.$$.fragment,p),o=!0)},o(p){oe(l.$$.fragment,p),o=!1},d(p){p&&H(t),Mt(l,p)}}}function pr(n,e){let t,l,o,r,a,i,c,d;function g(y,B){return y[6].compactFolderHeader?Sa:ya}let w=g(e),b=w(e);const _=[Ia,va],m=[];function p(y,B){return y[228].items.length?0:1}return a=p(e),i=m[a]=_[a](e),{key:n,first:null,c(){t=k("section"),l=k("header"),o=k("div"),b.c(),r=L(),i.c(),c=L(),s(o,"class","folder-section__titles"),s(l,"class","folder-section__header"),s(t,"class","folder-section"),this.first=t},m(y,B){W(y,t,B),f(t,l),f(l,o),b.m(o,null),f(t,r),m[a].m(t,null),f(t,c),d=!0},p(y,B){e=y,w===(w=g(e))&&b?b.p(e,B):(b.d(1),b=w(e),b&&(b.c(),b.m(o,null)));let C=a;a=p(e),a===C?m[a].p(e,B):(Je(),oe(m[C],1,1,()=>{m[C]=null}),Ye(),i=m[a],i?i.p(e,B):(i=m[a]=_[a](e),i.c()),x(i,1),i.m(t,c))},i(y){d||(x(i),d=!0)},o(y){oe(i),d=!1},d(y){y&&H(t),b.d(),m[a].d()}}}function br(n,e){var m,p;let t,l,o;function r(){return e[123](e[225])}function a(){return e[124](e[225])}function i(){return e[125](e[225])}function c(){return e[126](e[225])}function d(...y){return e[127](e[225],...y)}function g(){return e[128](e[227])}function w(...y){return e[129](e[225],...y)}function b(...y){return e[130](e[225],...y)}function _(...y){return e[131](e[225],...y)}return l=new go({props:{bookmark:e[225],titleBackdrop:e[6].titleBackdrop,menuOpen:e[23]===e[225].id,focused:e[35]===e[227],dragging:((m=e[37])==null?void 0:m.id)===e[225].id,dragOver:((p=e[38])==null?void 0:p.id)===e[225].id,onToggleMenu:r,onEdit:a,onRemove:i,onFallback:c,onContextMenu:d,onFocus:g,onDragStart:w,onDragOver:b,onDragLeave:e[86],onDrop:_,onDragEnd:e[88],getFaviconUrl:mo}}),{key:n,first:null,c(){t=ut(),Nt(l.$$.fragment),this.first=t},m(y,B){W(y,t,B),Tt(l,y,B),o=!0},p(y,B){var R,j;e=y;const C={};B[1]&256&&(C.bookmark=e[225]),B[0]&64&&(C.titleBackdrop=e[6].titleBackdrop),B[0]&8388608|B[1]&256&&(C.menuOpen=e[23]===e[225].id),B[1]&272&&(C.focused=e[35]===e[227]),B[1]&320&&(C.dragging=((R=e[37])==null?void 0:R.id)===e[225].id),B[1]&384&&(C.dragOver=((j=e[38])==null?void 0:j.id)===e[225].id),B[1]&256&&(C.onToggleMenu=r),B[1]&256&&(C.onEdit=a),B[1]&256&&(C.onRemove=i),B[1]&256&&(C.onFallback=c),B[1]&256&&(C.onContextMenu=d),B[1]&256&&(C.onFocus=g),B[1]&256&&(C.onDragStart=w),B[1]&256&&(C.onDragOver=b),B[1]&256&&(C.onDrop=_),l.$set(C)},i(y){o||(x(l.$$.fragment,y),o=!0)},o(y){oe(l.$$.fragment,y),o=!1},d(y){y&&H(t),Mt(l,y)}}}function kr(n){let e=[],t=new fl,l,o,r=be(n[34]);const a=i=>i[222].id;for(let i=0;i<r.length;i+=1){let c=nr(n,r,i),d=a(c);t.set(d,e[i]=_r(d,c))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=ut()},m(i,c){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(i,c);W(i,l,c),o=!0},p(i,c){c[0]&64|c[1]&280|c[2]&2097152&&(r=be(i[34]),Je(),e=Zt(e,c,a,1,i,r,t,l.parentNode,yn,_r,l,nr),Ye())},i(i){if(!o){for(let c=0;c<r.length;c+=1)x(e[c]);o=!0}},o(i){for(let c=0;c<e.length;c+=1)oe(e[c]);o=!1},d(i){i&&H(l);for(let c=0;c<e.length;c+=1)e[c].d(i)}}}function _r(n,e){let t,l,o;function r(){return e[132](e[224])}return l=new go({props:{bookmark:e[222],titleBackdrop:e[6].titleBackdrop,menuOpen:!1,focused:e[35]===e[39].length+e[224],dragging:!1,dragOver:!1,onToggleMenu:Ma,onEdit:La,onRemove:Da,onFallback:Aa,onContextMenu:Pa,onFocus:r,onDragStart:Oa,onDragOver:ja,onDragLeave:Ra,onDrop:Na,onDragEnd:Ua,getFaviconUrl:mo,isTopSite:!0}}),{key:n,first:null,c(){t=ut(),Nt(l.$$.fragment),this.first=t},m(a,i){W(a,t,i),Tt(l,a,i),o=!0},p(a,i){e=a;const c={};i[1]&8&&(c.bookmark=e[222]),i[0]&64&&(c.titleBackdrop=e[6].titleBackdrop),i[1]&280&&(c.focused=e[35]===e[39].length+e[224]),i[1]&264&&(c.onFocus=r),l.$set(c)},i(a){o||(x(l.$$.fragment,a),o=!0)},o(a){oe(l.$$.fragment,a),o=!1},d(a){a&&H(t),Mt(l,a)}}}function Ca(n){var _l;let e,t,l,o,r,a,i,c,d,g,w,b,_,m,p,y,B,C,R,j,I,V,P,N,A,K,X,Y,he,pe,Z,fe,qe,le,ne,O,Dt,ft,_t,tt,Ze,Fe,At,Ie,Oe,Ae,je,nt,Ue,Xe,ie,wt,lt,Ee,ye,Ce,ke,yt,xe,St,T,$e,Ut,Xt,zt,vt,Ht,It,Ct,qt,hl,xt,Gt,Vn,_e,ht,$t,gt,Pt,ge,en,mt,pn,Re,et,Bt,ot,Sn,Ot,vn,Wt,Kn,rt,Qn,tn,Jn,bn,Ft,Yn,gl,un,jt,dn,kn,it,In,Cn,Zn,pt,Vt,Xn,Bn,xn,nn,$n,fn,ze,el,ml,hn=be(n[44]),Te=[];for(let F=0;F<hn.length;F+=1)Te[F]=ar(sr(n,hn,F));let bt=be(n[41]),Ge=[];for(let F=0;F<bt.length;F+=1)Ge[F]=cr(ir(n,bt,F));let ln=n[45].length>Rl&&ma(n),gn=be(n[42]),He=[];for(let F=0;F<gn.length;F+=1)He[F]=ur(rr(n,gn,F));let We=n[46].length>jl&&pa(n);function pl(F,Q){return F[4].length===0?ka:ba}let Fn=pl(n),Qe=Fn(n),Ve=!n[6].mergeAllBookmarks&&fr(n),Pe=n[6].enableBookmarkSearch&&hr(n);const bl=[wa,_a],Kt=[];function kl(F,Q){return F[6].mergeAllBookmarks?0:1}return Re=kl(n),et=Kt[Re]=bl[Re](n),ot=new Qs({props:{open:n[1],rootIds:n[43].rootIds??[],expandedIds:n[22],loadingIds:n[13],visibleIds:n[17],searchQuery:n[16],searchMatches:n[3],selectedIds:n[1]&&n[19]?n[19]:n[0],summary:n[1]?n[20]:n[4],selectedFolderCount:n[1]?((_l=n[19])==null?void 0:_l.size)??0:n[0].size,totalBookmarkCount:n[1]?n[21]:n[18],toggleSelection:n[61],toggleExpansion:n[62],getCheckboxState:n[67],onSearchChange:n[68],onRequestClose:n[66],onConfirmSelection:n[64],onClearSelection:n[63]}}),Ot=new Zs({props:{open:n[2],folders:n[14],defaultFolderId:n[15],onConfirm:n[90],onClose:n[91]}}),Wt=new sa({props:{open:n[29],onDismiss:n[73],onGetStarted:n[73]}}),rt=new ua({props:{bookmark:n[32],position:n[31],visible:n[30]}}),rt.$on("edit",n[78]),rt.$on("remove",n[79]),rt.$on("opennewtab",n[76]),rt.$on("copyurl",n[77]),rt.$on("close",n[75]),tn=new oa({props:{toasts:n[28],onDismiss:n[71],onUndo:n[72]}}),{c(){e=k("div"),t=L(),l=k("div"),o=k("button"),r=Lt("svg"),a=Lt("path"),i=Lt("path"),c=L(),d=k("aside"),g=k("header"),w=k("h2"),w.innerHTML=`<img src="/icons/icon-48.png" alt="Bookmark Dial" class="settings-drawer__brand-icon"/>
        Settings`,b=L(),_=k("button"),_.textContent="√ó",m=L(),p=k("section"),y=k("h3"),y.textContent="Theme",B=L(),C=k("div");for(let F=0;F<Te.length;F+=1)Te[F].c();R=L(),j=k("section"),I=k("h3"),I.textContent="Accent color",V=L(),P=k("div");for(let F=0;F<Ge.length;F+=1)Ge[F].c();N=L(),ln&&ln.c(),A=L(),K=k("section"),X=k("h3"),X.textContent="Tile titles",Y=L(),he=k("label"),pe=k("input"),fe=L(),qe=k("div"),qe.innerHTML='<span class="settings-toggle__label">Rounded backdrop</span>',le=L(),ne=k("section"),O=k("h3"),O.textContent="Gradient background",Dt=L(),ft=k("div");for(let F=0;F<He.length;F+=1)He[F].c();_t=L(),We&&We.c(),tt=L(),Ze=k("section"),Fe=k("button"),Fe.textContent="Custom background‚Ä¶",At=L(),Ie=k("section"),Oe=k("h3"),Oe.textContent="Folders",Ae=L(),je=k("div"),nt=k("div"),Qe.c(),Ue=L(),Xe=k("button"),Xe.textContent="Manage folders",ie=L(),wt=k("label"),lt=k("input"),ye=L(),Ce=k("div"),Ce.innerHTML='<span class="settings-toggle__label">Merge bookmarks from all folders</span> <span class="settings-toggle__description">Display all bookmarks in a single deduplicated grid.</span>',ke=L(),Ve&&Ve.c(),yt=L(),xe=k("section"),St=k("h3"),St.textContent="Experimental",T=L(),$e=k("label"),Ut=k("input"),zt=L(),vt=k("div"),vt.innerHTML='<span class="settings-toggle__label">Bookmark search</span> <span class="settings-toggle__description">Press <kbd>/</kbd> to search bookmarks.</span>',Ht=L(),It=k("label"),Ct=k("input"),hl=L(),xt=k("div"),xt.innerHTML='<span class="settings-toggle__label">Show frequently visited</span> <span class="settings-toggle__description">Include your most visited sites alongside bookmarks.</span>',Vn=L(),_e=k("div"),$t=L(),gt=k("main"),Pe&&Pe.c(),Pt=L(),ge=k("section"),en=de(n[11]),pn=L(),et.c(),Bt=L(),Nt(ot.$$.fragment),Sn=L(),Nt(Ot.$$.fragment),vn=L(),Nt(Wt.$$.fragment),Kn=L(),Nt(rt.$$.fragment),Qn=L(),Nt(tn.$$.fragment),Jn=L(),bn=k("dialog"),Ft=k("form"),Yn=k("header"),Yn.innerHTML="<h2>Custom background</h2>",gl=L(),un=k("div"),jt=k("label"),dn=k("span"),dn.textContent="Choose an image (JPEG/PNG, up to 10¬†MB)",kn=L(),it=k("input"),In=L(),Cn=k("p"),Cn.textContent="The selected image is stored locally on this device only.",Zn=L(),pt=k("footer"),Vt=k("button"),Vt.textContent="Remove",Xn=L(),Bn=k("span"),xn=L(),nn=k("button"),nn.textContent="Cancel",$n=L(),fn=k("button"),fn.textContent="Save",s(e,"id","background-layer"),we(e,"visible",n[6].background.mode==="custom"&&!!n[24]),Dl(e,"background-image",n[6].background.mode==="custom"&&n[24]?`url(${n[24]})`:null),s(a,"d","M12 8.75a3.25 3.25 0 1 1 0 6.5 3.25 3.25 0 0 1 0-6.5Z"),s(a,"fill","none"),s(a,"stroke","currentColor"),s(a,"stroke-width","1.6"),s(i,"d","M21 12l-2.938 3.5-1.562 4.294L12 19l-4.5.794L5.938 15.5 3 12l2.938-3.5L7.5 4.206 12 5l4.5-.794L18.062 8.5 21 12Z"),s(i,"fill","none"),s(i,"stroke","currentColor"),s(i,"stroke-width","1.6"),s(i,"stroke-linecap","round"),s(i,"stroke-linejoin","round"),s(r,"class","icon-button__glyph"),s(r,"viewBox","0 0 24 24"),s(r,"aria-hidden","true"),s(r,"focusable","false"),s(r,"role","img"),s(o,"class","icon-button"),s(o,"type","button"),s(o,"title","Settings"),s(o,"aria-label","Open settings"),s(o,"aria-expanded",n[7]),s(o,"aria-controls","settings-drawer"),s(_,"type","button"),s(_,"class","settings-drawer__close"),s(_,"aria-label","Close settings"),s(g,"class","settings-drawer__header"),s(C,"class","choice-row"),s(p,"class","settings-group"),s(P,"class","accent-grid"),s(j,"class","settings-group"),s(pe,"type","checkbox"),pe.checked=Z=n[6].titleBackdrop,s(qe,"class","settings-toggle__body"),s(he,"class","settings-toggle"),s(he,"title","Adds a soft highlight behind each title for contrast."),s(K,"class","settings-group"),s(ft,"class","gradient-grid"),s(ne,"class","settings-group"),s(Fe,"type","button"),s(Fe,"class","custom-background-button"),s(Ze,"class","settings-group"),s(nt,"class","folder-bar__summary"),s(Xe,"type","button"),s(Xe,"class","ghost-button folder-bar__action"),s(je,"class","folder-bar"),s(lt,"type","checkbox"),lt.checked=Ee=n[6].mergeAllBookmarks,s(Ce,"class","settings-toggle__body"),s(wt,"class","settings-toggle folder-group-toggle"),s(Ie,"class","settings-group settings-group--folders"),s(Ut,"type","checkbox"),Ut.checked=Xt=n[6].enableBookmarkSearch,s(vt,"class","settings-toggle__body"),s($e,"class","settings-toggle"),s(Ct,"type","checkbox"),Ct.checked=qt=n[6].enableTopSites,s(xt,"class","settings-toggle__body"),s(It,"class","settings-toggle"),s(xe,"class","settings-group"),s(d,"id","settings-drawer"),s(d,"class","settings-drawer"),s(d,"data-open",n[7]),s(d,"aria-hidden",Gt=!n[7]),s(d,"tabindex","-1"),s(_e,"class","settings-overlay"),s(_e,"aria-hidden",ht=!n[7]),we(_e,"visible",n[7]),s(ge,"id","status"),s(ge,"role","status"),s(ge,"aria-live","polite"),s(ge,"data-tone",mt=n[11]?n[12]:null),s(l,"class","page"),s(it,"type","file"),s(it,"accept","image/png,image/jpeg,image/jpg"),s(jt,"class","file-picker"),s(Cn,"class","hint"),s(un,"class","dialog-body"),s(Vt,"type","button"),s(Vt,"id","clear-background"),s(Vt,"class","ghost-button"),s(Bn,"class","spacer"),s(nn,"type","button"),s(nn,"id","cancel-background"),s(fn,"type","submit"),s(fn,"id","save-background"),s(pt,"class","dialog-footer"),s(Ft,"id","background-form"),s(Ft,"method","dialog")},m(F,Q){W(F,e,Q),W(F,t,Q),W(F,l,Q),f(l,o),f(o,r),f(r,a),f(r,i),n[112](o),f(l,c),f(l,d),f(d,g),f(g,w),f(g,b),f(g,_),f(d,m),f(d,p),f(p,y),f(p,B),f(p,C);for(let Se=0;Se<Te.length;Se+=1)Te[Se]&&Te[Se].m(C,null);f(d,R),f(d,j),f(j,I),f(j,V),f(j,P);for(let Se=0;Se<Ge.length;Se+=1)Ge[Se]&&Ge[Se].m(P,null);f(j,N),ln&&ln.m(j,null),f(d,A),f(d,K),f(K,X),f(K,Y),f(K,he),f(he,pe),f(he,fe),f(he,qe),f(d,le),f(d,ne),f(ne,O),f(ne,Dt),f(ne,ft);for(let Se=0;Se<He.length;Se+=1)He[Se]&&He[Se].m(ft,null);f(ne,_t),We&&We.m(ne,null),f(d,tt),f(d,Ze),f(Ze,Fe),f(d,At),f(d,Ie),f(Ie,Oe),f(Ie,Ae),f(Ie,je),f(je,nt),Qe.m(nt,null),f(je,Ue),f(je,Xe),f(Ie,ie),f(Ie,wt),f(wt,lt),f(wt,ye),f(wt,Ce),f(Ie,ke),Ve&&Ve.m(Ie,null),f(d,yt),f(d,xe),f(xe,St),f(xe,T),f(xe,$e),f($e,Ut),f($e,zt),f($e,vt),f(xe,Ht),f(xe,It),f(It,Ct),f(It,hl),f(It,xt),n[122](d),f(l,Vn),f(l,_e),f(l,$t),f(l,gt),Pe&&Pe.m(gt,null),f(gt,Pt),f(gt,ge),f(ge,en),f(gt,pn),Kt[Re].m(gt,null),f(l,Bt),Tt(ot,l,null),f(l,Sn),Tt(Ot,l,null),f(l,vn),Tt(Wt,l,null),f(l,Kn),Tt(rt,l,null),f(l,Qn),Tt(tn,l,null),W(F,Jn,Q),W(F,bn,Q),f(bn,Ft),f(Ft,Yn),f(Ft,gl),f(Ft,un),f(un,jt),f(jt,dn),f(jt,kn),f(jt,it),n[144](it),f(un,In),f(un,Cn),f(Ft,Zn),f(Ft,pt),f(pt,Vt),f(pt,Xn),f(pt,Bn),f(pt,xn),f(pt,nn),f(pt,$n),f(pt,fn),n[145](bn),ze=!0,el||(ml=[z(o,"click",n[50]),z(_,"click",n[49]),z(pe,"change",n[115]),z(Fe,"click",n[60]),z(Xe,"click",n[65]),z(lt,"change",n[117]),z(Ut,"change",n[120]),z(Ct,"change",n[121]),z(d,"click",fs(n[111])),z(_e,"pointerdown",n[49]),z(Vt,"click",no(n[95])),z(nn,"click",no(n[96])),z(Ft,"submit",n[94])],el=!0)},p(F,Q){var Ln;if((!ze||Q[0]&16777280)&&we(e,"visible",F[6].background.mode==="custom"&&!!F[24]),Q[0]&16777280&&Dl(e,"background-image",F[6].background.mode==="custom"&&F[24]?`url(${F[24]})`:null),(!ze||Q[0]&128)&&s(o,"aria-expanded",F[7]),Q[0]&64|Q[1]&1056768){hn=be(F[44]);let $;for($=0;$<hn.length;$+=1){const Ke=sr(F,hn,$);Te[$]?Te[$].p(Ke,Q):(Te[$]=ar(Ke),Te[$].c(),Te[$].m(C,null))}for(;$<Te.length;$+=1)Te[$].d(1);Te.length=hn.length}if(Q[0]&64|Q[1]&2098176){bt=be(F[41]);let $;for($=0;$<bt.length;$+=1){const Ke=ir(F,bt,$);Ge[$]?Ge[$].p(Ke,Q):(Ge[$]=cr(Ke),Ge[$].c(),Ge[$].m(P,null))}for(;$<Ge.length;$+=1)Ge[$].d(1);Ge.length=bt.length}if(F[45].length>Rl&&ln.p(F,Q),(!ze||Q[0]&64&&Z!==(Z=F[6].titleBackdrop))&&(pe.checked=Z),Q[0]&64|Q[1]&268437504){gn=be(F[42]);let $;for($=0;$<gn.length;$+=1){const Ke=rr(F,gn,$);He[$]?He[$].p(Ke,Q):(He[$]=ur(Ke),He[$].c(),He[$].m(ft,null))}for(;$<He.length;$+=1)He[$].d(1);He.length=gn.length}F[46].length>jl&&We.p(F,Q),Fn===(Fn=pl(F))&&Qe?Qe.p(F,Q):(Qe.d(1),Qe=Fn(F),Qe&&(Qe.c(),Qe.m(nt,null))),(!ze||Q[0]&64&&Ee!==(Ee=F[6].mergeAllBookmarks))&&(lt.checked=Ee),F[6].mergeAllBookmarks?Ve&&(Ve.d(1),Ve=null):Ve?Ve.p(F,Q):(Ve=fr(F),Ve.c(),Ve.m(Ie,null)),(!ze||Q[0]&64&&Xt!==(Xt=F[6].enableBookmarkSearch))&&(Ut.checked=Xt),(!ze||Q[0]&64&&qt!==(qt=F[6].enableTopSites))&&(Ct.checked=qt),(!ze||Q[0]&128)&&s(d,"data-open",F[7]),(!ze||Q[0]&128&&Gt!==(Gt=!F[7]))&&s(d,"aria-hidden",Gt),(!ze||Q[0]&128&&ht!==(ht=!F[7]))&&s(_e,"aria-hidden",ht),(!ze||Q[0]&128)&&we(_e,"visible",F[7]),F[6].enableBookmarkSearch?Pe?(Pe.p(F,Q),Q[0]&64&&x(Pe,1)):(Pe=hr(F),Pe.c(),x(Pe,1),Pe.m(gt,Pt)):Pe&&(Je(),oe(Pe,1,1,()=>{Pe=null}),Ye()),(!ze||Q[0]&2048)&&De(en,F[11]),(!ze||Q[0]&6144&&mt!==(mt=F[11]?F[12]:null))&&s(ge,"data-tone",mt);let Se=Re;Re=kl(F),Re===Se?Kt[Re].p(F,Q):(Je(),oe(Kt[Se],1,1,()=>{Kt[Se]=null}),Ye(),et=Kt[Re],et?et.p(F,Q):(et=Kt[Re]=bl[Re](F),et.c()),x(et,1),et.m(gt,null));const Me={};Q[0]&2&&(Me.open=F[1]),Q[1]&4096&&(Me.rootIds=F[43].rootIds??[]),Q[0]&4194304&&(Me.expandedIds=F[22]),Q[0]&8192&&(Me.loadingIds=F[13]),Q[0]&131072&&(Me.visibleIds=F[17]),Q[0]&65536&&(Me.searchQuery=F[16]),Q[0]&8&&(Me.searchMatches=F[3]),Q[0]&524291&&(Me.selectedIds=F[1]&&F[19]?F[19]:F[0]),Q[0]&1048594&&(Me.summary=F[1]?F[20]:F[4]),Q[0]&524291&&(Me.selectedFolderCount=F[1]?((Ln=F[19])==null?void 0:Ln.size)??0:F[0].size),Q[0]&2359298&&(Me.totalBookmarkCount=F[1]?F[21]:F[18]),ot.$set(Me);const En={};Q[0]&4&&(En.open=F[2]),Q[0]&16384&&(En.folders=F[14]),Q[0]&32768&&(En.defaultFolderId=F[15]),Ot.$set(En);const wl={};Q[0]&536870912&&(wl.open=F[29]),Wt.$set(wl);const Tn={};Q[1]&2&&(Tn.bookmark=F[32]),Q[1]&1&&(Tn.position=F[31]),Q[0]&1073741824&&(Tn.visible=F[30]),rt.$set(Tn);const Mn={};Q[0]&268435456&&(Mn.toasts=F[28]),tn.$set(Mn)},i(F){ze||(x(Pe),x(et),x(ot.$$.fragment,F),x(Ot.$$.fragment,F),x(Wt.$$.fragment,F),x(rt.$$.fragment,F),x(tn.$$.fragment,F),ze=!0)},o(F){oe(Pe),oe(et),oe(ot.$$.fragment,F),oe(Ot.$$.fragment,F),oe(Wt.$$.fragment,F),oe(rt.$$.fragment,F),oe(tn.$$.fragment,F),ze=!1},d(F){F&&(H(e),H(t),H(l),H(Jn),H(bn)),n[112](null),xl(Te,F),xl(Ge,F),ln&&ln.d(),xl(He,F),We&&We.d(),Qe.d(),Ve&&Ve.d(),n[122](null),Pe&&Pe.d(),Kt[Re].d(),Mt(ot),Mt(Ot),Mt(Wt),Mt(rt),Mt(tn),n[144](null),n[145](null),el=!1,Ne(ml)}}}const Ba=64,El="customBackgroundImage",rl="uiPreferences",Rn="dialPreferences",Nn=2,eo="hasSeenWelcome",jl=6,Rl=10;function wr(n=[],e=[]){return n.length!==e.length?!1:n.every((t,l)=>t===e[l])}function Fa(n={}){const e=Array.isArray(n.selectedIds)?n.selectedIds.filter(Boolean):[],t=Array.isArray(n.expandedIds)?n.expandedIds.filter(Boolean):[];return{selectedIds:Array.from(new Set(e)),expandedIds:Array.from(new Set(t))}}function Un(n,e){if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function yr(n,e){const t=[...n];if(!e)return t;const l=t.findIndex(r=>r.id===e);if(l<=0)return t;const[o]=t.splice(l,1);return[o,...t]}function so(n,e,t=[],l=!0){const o=n.nodesById[e];return!o||!o.isFolder||(o.childrenIds??[]).forEach(a=>{const i=n.nodesById[a];i&&(i.url?t.push(i):l&&so(n,a,t,!0))}),t}function Sr(n){const e=n.title||n.url;return{...n,displayTitle:e,initials:Hr(e),palette:qr(e),fallback:!1}}async function mo(n){try{const e=new URL(chrome.runtime.getURL("/_favicon/"));e.searchParams.set("pageUrl",n),e.searchParams.set("size",Ba.toString());const t=await fetch(e.toString());if(!t.ok)return"";const l=await t.blob();return new Promise(o=>{const r=new FileReader;r.onloadend=()=>o(r.result),r.onerror=()=>o(""),r.readAsDataURL(l)})}catch{return""}}function vr(n=[],e){let t=!1;return{next:n.map(o=>o.id!==e||o.fallback?o:(t=!0,{...o,fallback:!0})),changed:t}}function Tl(n){try{return new URL(n).href}catch{try{return new URL(`https://${n}`).href}catch{return null}}}function il(n){try{return new URL(n).hostname.replace(/^www\./i,"")}catch{return n}}function Hr(n){return n?n.trim().split(/\s+/)[0].slice(0,2).toUpperCase():"‚Ä¢"}function Ea(n,e){let t;return(...l)=>{clearTimeout(t),t=setTimeout(()=>n(...l),e)}}function qr(n){const e=(n||"").trim().toLowerCase();if(!e)return{background:"linear-gradient(145deg, #fde68a, #fbbf24)",text:"rgba(15, 23, 42, 0.85)"};let t=0,l=0,o=0;for(let p=0;p<e.length;p++){const y=e.charCodeAt(p),B=p+1;t+=y*B,l+=y*(B+1.5),o+=y*(B+2.5)}const r=to(t,360),a=to(l,36)-18,i=to(r+24+a,360),c=52+Math.abs(l)%30,d=42+Math.abs(o)%20,g=Math.min(96,c+8),w=Math.min(78,d+12),b=`hsl(${r}, ${c}%, ${d}%)`,_=`hsl(${i}, ${g}%, ${w}%)`,m=d>54?"rgba(30, 41, 59, 0.85)":"rgba(255, 255, 255, 0.88)";return{background:`linear-gradient(140deg, ${b}, ${_})`,text:m}}function to(n,e){return(n%e+e)%e}function Ta(n,e){return new Promise((t,l)=>{if(n.size>e){l(new Error("File exceeds size limit"));return}const o=new FileReader;o.onload=()=>t(o.result),o.onerror=()=>l(o.error||new Error("Failed to read file")),o.readAsDataURL(n)})}const Ma=()=>{},La=()=>{},Da=()=>{},Aa=()=>{},Pa=()=>{},Oa=()=>{},ja=()=>{},Ra=()=>{},Na=()=>{},Ua=()=>{},za=()=>{};function Ha(n,e,t){var _o,wo,yo,So;let l,o,r,a,i,c,d;Br(n,jr,u=>t(43,d=u));const g={loading:"Loading Bookmark Dial‚Ä¶",empty:"No bookmarks yet. Add shortcuts from this page or the bookmark manager.",error:"Bookmark Dial folder is unavailable. Try reopening the tab or reinstalling the extension."},w={selectedIds:[],expandedIds:[]},b=10*1024*1024,_=[{id:"dark",label:"Dark"},{id:"light",label:"Light"},{id:"system",label:"System"}],m=[{id:"cobalt",label:"Cobalt",colors:{base:"#2563eb",contrast:"#f8fafc",soft:"rgba(37, 99, 235, 0.14)",border:"rgba(37, 99, 235, 0.45)"}},{id:"violet",label:"Violet",colors:{base:"#8b5cf6",contrast:"#faf5ff",soft:"rgba(139, 92, 246, 0.16)",border:"rgba(139, 92, 246, 0.45)"}},{id:"emerald",label:"Emerald",colors:{base:"#059669",contrast:"#ecfdf5",soft:"rgba(5, 150, 105, 0.14)",border:"rgba(5, 150, 105, 0.45)"}},{id:"amber",label:"Amber",colors:{base:"#d97706",contrast:"#fffbeb",soft:"rgba(217, 119, 6, 0.18)",border:"rgba(217, 119, 6, 0.5)"}},{id:"rose",label:"Rose",colors:{base:"#e11d48",contrast:"#fff1f2",soft:"rgba(225, 29, 72, 0.16)",border:"rgba(225, 29, 72, 0.45)"}},{id:"slate",label:"Slate",colors:{base:"#475569",contrast:"#f8fafc",soft:"rgba(71, 85, 105, 0.18)",border:"rgba(71, 85, 105, 0.5)"}},{id:"sky",label:"Sky",colors:{base:"#0284c7",contrast:"#e0f2fe",soft:"rgba(2, 132, 199, 0.16)",border:"rgba(2, 132, 199, 0.45)"}},{id:"blush",label:"Blush",colors:{base:"#ec4899",contrast:"#fff0f6",soft:"rgba(236, 72, 153, 0.18)",border:"rgba(236, 72, 153, 0.5)"}},{id:"moss",label:"Moss",colors:{base:"#4d7c0f",contrast:"#ecfccb",soft:"rgba(77, 124, 15, 0.18)",border:"rgba(77, 124, 15, 0.5)"}},{id:"bronze",label:"Bronze",colors:{base:"#b45309",contrast:"#fff7ed",soft:"rgba(180, 83, 9, 0.2)",border:"rgba(180, 83, 9, 0.55)"}},{id:"orchid",label:"Orchid",colors:{base:"#c026d3",contrast:"#fdf4ff",soft:"rgba(192, 38, 211, 0.18)",border:"rgba(192, 38, 211, 0.5)"}},{id:"mint",label:"Mint",colors:{base:"#14b8a6",contrast:"#e0fefa",soft:"rgba(20, 184, 166, 0.16)",border:"rgba(20, 184, 166, 0.46)"}},{id:"graphite",label:"Graphite",colors:{base:"#1f2937",contrast:"#f8fafc",soft:"rgba(31, 41, 55, 0.22)",border:"rgba(31, 41, 55, 0.6)"}},{id:"sunset",label:"Sunset",colors:{base:"#ea580c",contrast:"#fff7ed",soft:"rgba(234, 88, 12, 0.18)",border:"rgba(234, 88, 12, 0.52)"}},{id:"glacier",label:"Glacier",colors:{base:"#0ea5e9",contrast:"#f0f9ff",soft:"rgba(14, 165, 233, 0.16)",border:"rgba(14, 165, 233, 0.45)"}},{id:"amethyst",label:"Amethyst",colors:{base:"#6d28d9",contrast:"#f5f3ff",soft:"rgba(109, 40, 217, 0.18)",border:"rgba(109, 40, 217, 0.5)"}},{id:"sand",label:"Sand",colors:{base:"#ca8a04",contrast:"#fffbeb",soft:"rgba(202, 138, 4, 0.2)",border:"rgba(202, 138, 4, 0.5)"}},{id:"cranberry",label:"Cranberry",colors:{base:"#be123c",contrast:"#fff1f5",soft:"rgba(190, 18, 60, 0.18)",border:"rgba(190, 18, 60, 0.5)"}}],p=[{id:"aurora",label:"Aurora",gradients:{light:"linear-gradient(135deg, #d8b4fe 0%, #6366f1 50%, #22d3ee 100%)",dark:"linear-gradient(135deg, #312e81 0%, #1e3a8a 50%, #0f172a 100%)"},accent:"violet"},{id:"sunrise",label:"Sunrise",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 50%, #f97316 100%)",dark:"linear-gradient(135deg, #7c2d12 0%, #c2410c 45%, #ea580c 100%)"},accent:"amber"},{id:"forest",label:"Forest",gradients:{light:"linear-gradient(135deg, #bbf7d0 0%, #34d399 50%, #0f766e 100%)",dark:"linear-gradient(135deg, #064e3b 0%, #059669 50%, #0f172a 100%)"},accent:"emerald"},{id:"ocean",label:"Ocean",gradients:{light:"linear-gradient(135deg, #bae6fd 0%, #38bdf8 50%, #0ea5e9 100%)",dark:"linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #082f49 100%)"},accent:"sky"},{id:"twilight",label:"Twilight",gradients:{light:"linear-gradient(135deg, #fecdd3 0%, #fda4af 50%, #fb7185 100%)",dark:"linear-gradient(135deg, #7f1d1d 0%, #be123c 50%, #9f1239 100%)"},accent:"orchid"},{id:"slate",label:"Slate",gradients:{light:"linear-gradient(135deg, #e2e8f0 0%, #cbd5f5 50%, #94a3b8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #0f172a 50%, #020617 100%)"},accent:"slate"},{id:"blossom",label:"Blossom",gradients:{light:"linear-gradient(135deg, #ffe4e6 0%, #fbcfe8 45%, #f472b6 100%)",dark:"linear-gradient(135deg, #831843 0%, #9d174d 50%, #701a75 100%)"},accent:"blush"},{id:"lagoon",label:"Lagoon",gradients:{light:"linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 40%, #5eead4 100%)",dark:"linear-gradient(135deg, #022c22 0%, #0d9488 45%, #14b8a6 100%)"},accent:"mint"},{id:"ember",label:"Ember",gradients:{light:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 40%, #fb7185 100%)",dark:"linear-gradient(135deg, #450a0a 0%, #9f1239 50%, #be123c 100%)"},accent:"rose"},{id:"lilac",label:"Lilac",gradients:{light:"linear-gradient(135deg, #f5f3ff 0%, #ede9fe 45%, #d8b4fe 100%)",dark:"linear-gradient(135deg, #312e81 0%, #5b21b6 50%, #7c3aed 100%)"},accent:"violet"},{id:"zenith",label:"Zenith",gradients:{light:"linear-gradient(135deg, #e0f2fe 0%, #dbeafe 45%, #818cf8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #1f3b8a 45%, #3730a3 100%)"},accent:"cobalt"},{id:"sage",label:"Sage",gradients:{light:"linear-gradient(135deg, #ecfccb 0%, #bbf7d0 45%, #84cc16 100%)",dark:"linear-gradient(135deg, #052e16 0%, #166534 45%, #15803d 100%)"},accent:"moss"},{id:"velvet",label:"Velvet",gradients:{light:"linear-gradient(135deg, #fdf4ff 0%, #f5d0fe 45%, #f0abfc 100%)",dark:"linear-gradient(135deg, #4a044e 0%, #6b21a8 45%, #86198f 100%)"},accent:"orchid"},{id:"citrus",label:"Citrus",gradients:{light:"linear-gradient(135deg, #fefce8 0%, #fef08a 45%, #facc15 100%)",dark:"linear-gradient(135deg, #422006 0%, #854d0e 50%, #b45309 100%)"},accent:"amber"},{id:"glacier",label:"Glacier",gradients:{light:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 45%, #bae6fd 100%)",dark:"linear-gradient(135deg, #082f49 0%, #0c4a6e 45%, #0284c7 100%)"},accent:"sky"},{id:"terracotta",label:"Terracotta",gradients:{light:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 45%, #f97316 100%)",dark:"linear-gradient(135deg, #431407 0%, #7c2d12 45%, #9a3412 100%)"},accent:"bronze"},{id:"nocturne",label:"Nocturne",gradients:{light:"linear-gradient(135deg, #ede9fe 0%, #c7d2fe 45%, #4338ca 100%)",dark:"linear-gradient(135deg, #020617 0%, #111827 45%, #312e81 100%)"},accent:"slate"},{id:"horizon",label:"Horizon",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 40%, #60a5fa 100%)",dark:"linear-gradient(135deg, #451a03 0%, #9a3412 45%, #1d4ed8 100%)"},accent:"cobalt"}],y=p[0],C={theme:"system",accent:y!=null&&y.accent&&m.some(u=>u.id===y.accent)?y.accent:m[0].id,background:{mode:"gradient",gradientId:(y==null?void 0:y.id)??p[0].id},titleBackdrop:!1,mergeAllBookmarks:!0,folderColumnWidth:1170,compactFolderHeader:!0,enableBookmarkSearch:!1,enableTopSites:!1,lastShortcutFolderId:null},R={...C,folderSelection:{...w},version:Nn},j=typeof chrome<"u"?chrome:null,I=(_o=j==null?void 0:j.runtime)!=null&&_o.id?j:ui(),V=!!((wo=j==null?void 0:j.runtime)!=null&&wo.id),P=!!((yo=j==null?void 0:j.storage)!=null&&yo.local)&&V,N=!!((So=j==null?void 0:j.storage)!=null&&So.sync)&&V;let A=g.loading,K="info",X=[],Y=[],he=new Set,pe=null,Z=new Set,fe=new Set,qe=new Set,le=!1,ne=!1,O=!1,Dt=null,ft=[],_t=null,tt="",Ze=new Set,Fe=null,At=[],Ie=new Map,Oe=0,Ae=null,je=null,nt=[],Ue=new Map,Xe=0,ie=!1,wt=new Set,lt=0,Ee=0,ye=null,Ce="",ke,yt,xe,St,T=Sn(),$e=!1,Ut=!0,Xt=!1,zt=!1,vt=!1,Ht=!1,It=[...m],Ct=[...p],qt=[],hl=0,xt=!1,Gt=!1,Vn={x:0,y:0},_e=null,ht="",$t=!1,gt=[],Pt=!1,ge=-1,en=null,mt=null,pn=null,Re=null,et=null,Bt=null;const ot=[];ws(()=>{var u,h;if((async()=>{try{await el()}catch(S){console.error("Bookmark Dial: failed to load settings",S),t(6,T=Sn()),t(105,zt=P),jt(T.theme),dn(T.accent),kn(T.background.gradientId)}try{await ai()}catch(S){console.error("Bookmark Dial: failed to load background",S)}t(103,Ut=!1),await Wr(),ml()})(),typeof window<"u"){const S=E=>{if(Gt&&E.key==="Escape"){on(),E.stopPropagation();return}if(E.key==="Escape"){if(ye!==null){t(23,ye=null),E.stopPropagation();return}if($t){po(),E.stopPropagation();return}$e&&In()}if(E.key==="/"&&T.enableBookmarkSearch&&!E.ctrlKey&&!E.metaKey){const q=E.target;if(q instanceof HTMLInputElement||q instanceof HTMLTextAreaElement)return;E.preventDefault(),t(33,$t=!0)}},D=E=>{if(Gt){const G=E.target;G instanceof Element&&!G.closest(".context-menu")&&on()}if(ye===null)return;const q=E.target;q instanceof Element&&q.closest(".tile-actions")||t(23,ye=null)};window.addEventListener("keydown",S),window.addEventListener("pointerdown",D),ot.push(()=>window.removeEventListener("keydown",S)),ot.push(()=>window.removeEventListener("pointerdown",D))}if((h=(u=I==null?void 0:I.storage)==null?void 0:u.onChanged)!=null&&h.addListener){const S=(D,E)=>{if(E!=="sync"&&E!=="local")return;const G=D[E==="sync"?Rn:rl];!G||!G.newValue||Tn(G.newValue)};I.storage.onChanged.addListener(S),ot.push(()=>I.storage.onChanged.removeListener(S))}return()=>{Re&&clearTimeout(Re),typeof document<"u"&&document.body.classList.remove("settings-open"),ot.forEach(S=>S==null?void 0:S())}});function Sn(){return{theme:C.theme,accent:C.accent,background:{...C.background},titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,folderColumnWidth:C.folderColumnWidth,compactFolderHeader:C.compactFolderHeader,enableBookmarkSearch:C.enableBookmarkSearch,enableTopSites:C.enableTopSites,lastShortcutFolderId:C.lastShortcutFolderId}}function Ot(u){return _.some(h=>h.id===u)?u:C.theme}function vn(u){return m.some(h=>h.id===u)?u:C.accent}function Wt(u){return p.some(h=>h.id===u)?u:C.background.gradientId}function Kn(u={}){var kt,Dn,An,nl;const h=Ot(u.theme),S=vn(u.accent),D=u.background??{},E=D.mode==="custom"?"custom":"gradient",q=Wt(D.gradientId),G=typeof u.titleBackdrop=="boolean",ce=G?u.titleBackdrop:C.titleBackdrop,me=typeof u.mergeAllBookmarks=="boolean"||typeof u.groupFoldersTogether=="boolean",te=me?u.mergeAllBookmarks??u.groupFoldersTogether:C.mergeAllBookmarks,ee=typeof u.folderColumnWidth=="number"?u.folderColumnWidth:C.folderColumnWidth,se=typeof u.compactFolderHeader=="boolean"?u.compactFolderHeader:C.compactFolderHeader,Le=typeof u.enableBookmarkSearch=="boolean"?u.enableBookmarkSearch:C.enableBookmarkSearch,st=typeof u.enableTopSites=="boolean"?u.enableTopSites:C.enableTopSites,ve=u.lastShortcutFolderId??C.lastShortcutFolderId,sn=Fa(u.folderSelection),re=!wr(sn.selectedIds,((kt=u.folderSelection)==null?void 0:kt.selectedIds)??[])||!wr(sn.expandedIds,((Dn=u.folderSelection)==null?void 0:Dn.expandedIds)??[]),Be=h!==u.theme||S!==u.accent||E!==(((An=u.background)==null?void 0:An.mode)??C.background.mode)||q!==(((nl=u.background)==null?void 0:nl.gradientId)??C.background.gradientId)||!G||!me||ee!==u.folderColumnWidth||se!==u.compactFolderHeader||Le!==u.enableBookmarkSearch||st!==u.enableTopSites||ve!==u.lastShortcutFolderId;return{settings:{theme:h,accent:S,background:{mode:E,gradientId:q},titleBackdrop:ce,mergeAllBookmarks:te,folderColumnWidth:ee,compactFolderHeader:se,enableBookmarkSearch:Le,enableTopSites:st,lastShortcutFolderId:ve},folderSelection:sn,changed:Be||re||(u.version??Nn)!==Nn}}function rt(u){return m.find(h=>h.id===u)??m[0]}function Qn(u){return p.find(h=>h.id===u)??p[0]}function tn(){t(106,It=yr(m,T==null?void 0:T.accent)),t(9,Ht=!1)}function Jn(){t(9,Ht=!0)}function bn(){Ht?tn():Jn()}function Ft(){var u,h;t(107,Ct=yr(p,((u=T==null?void 0:T.background)==null?void 0:u.mode)==="gradient"?(h=T==null?void 0:T.background)==null?void 0:h.gradientId:null)),t(8,vt=!1)}function Yn(){t(8,vt=!0)}function gl(){vt?Ft():Yn()}function un(){return!et&&typeof window<"u"&&typeof window.matchMedia=="function"&&(et=window.matchMedia("(prefers-color-scheme: dark)")),et}function jt(u){if(typeof document>"u")return;const h=Ot(u),S=un();if(h==="system"&&S){if(document.body.classList.toggle("dark",S.matches),!Bt){const D=E=>{document.body.classList.toggle("dark",E.matches)};typeof S.addEventListener=="function"?(S.addEventListener("change",D),Bt=()=>S.removeEventListener("change",D)):typeof S.addListener=="function"?(S.addListener(D),Bt=()=>S.removeListener(D)):Bt=null,Bt&&ot.push(Bt)}}else Bt&&(Bt(),Bt=null),document.body.classList.toggle("dark",h==="dark");document.body.dataset.theme=h}function dn(u){if(typeof document>"u")return;const h=rt(u),S=document.documentElement;S.style.setProperty("--accent-color",h.colors.base),S.style.setProperty("--accent-color-contrast",h.colors.contrast),S.style.setProperty("--accent-color-soft",h.colors.soft),S.style.setProperty("--accent-color-border",h.colors.border)}function kn(u){if(typeof document>"u")return;const h=Qn(u),S=document.documentElement;S.style.setProperty("--page-background-light",h.gradients.light),S.style.setProperty("--page-background-dark",h.gradients.dark)}function it(){if(!P||!Xt||!le)return;Re&&clearTimeout(Re);const u={theme:T.theme,accent:T.accent,titleBackdrop:T.titleBackdrop,mergeAllBookmarks:T.mergeAllBookmarks,folderColumnWidth:T.folderColumnWidth,compactFolderHeader:T.compactFolderHeader,enableBookmarkSearch:T.enableBookmarkSearch,enableTopSites:T.enableTopSites,lastShortcutFolderId:T.lastShortcutFolderId,background:{...T.background},folderSelection:{selectedIds:Array.from(Z),expandedIds:Array.from(fe)},version:Nn};Re=setTimeout(async()=>{Re=null;try{const h=[I.storage.local.set({[rl]:u})];N&&h.push(I.storage.sync.set({[Rn]:u})),await Promise.all(h)}catch(h){console.error("Bookmark Dial: failed to store preferences",h)}},120)}function In(){if($e&&(t(7,$e=!1),typeof document<"u"&&St)){const u=document.activeElement;u&&St.contains(u)&&(xe==null||xe.focus())}}function Cn(){t(7,$e=!$e)}function Zn(u){const h=Ot(u);T.theme!==h&&t(6,T={...T,theme:h})}function pt(u){const h=vn(u);T.accent!==h&&t(6,T={...T,accent:h})}function Vt(u){const h=!!u;T.titleBackdrop!==h&&t(6,T={...T,titleBackdrop:h})}function Xn(u){const h=!!u;T.mergeAllBookmarks!==h&&t(6,T={...T,mergeAllBookmarks:h})}function Bn(u){const h=Number(u);T.folderColumnWidth!==h&&t(6,T={...T,folderColumnWidth:h})}function xn(u){const h=!!u;T.compactFolderHeader!==h&&t(6,T={...T,compactFolderHeader:h})}function nn(u){const h=!!u;T.enableBookmarkSearch!==h&&(t(6,T={...T,enableBookmarkSearch:h}),h||(t(33,$t=!1),t(10,ht="")))}function $n(u){const h=!!u;T.enableTopSites!==h&&(t(6,T={...T,enableTopSites:h}),h&&!Pt&&bo())}function fn(u){const h=Wt(u),S=Qn(h),D=S.accent&&m.some(ce=>ce.id===S.accent)?S.accent:null,E=T.background.mode!=="gradient"||T.background.gradientId!==h,q=D?vn(D):T.accent,G=!!D&&q!==T.accent;!E&&!G||t(6,T={...T,accent:G?q:T.accent,background:{...T.background,mode:"gradient",gradientId:h}})}async function ze(){In(),await Ol(),oi()}async function el(){if(t(105,zt=!1),t(102,ie=!1),!P){t(6,T=Sn()),t(0,Z=new Set(w.selectedIds)),t(99,fe=new Set(w.expandedIds)),t(100,le=!0),jt(T.theme),dn(T.accent),kn(T.background.gradientId),Me();return}let u={},h={};if(N)try{u=await I.storage.sync.get(Rn)}catch(q){console.warn("Bookmark Dial: failed to read sync preferences",q)}try{h=await I.storage.local.get(rl)}catch(q){console.warn("Bookmark Dial: failed to read local preferences",q)}let S=u==null?void 0:u[Rn],D=!1;!S&&(h!=null&&h[rl])&&(S=h[rl],D=!0);const E=Kn(S??R);t(6,T=E.settings),t(0,Z=new Set(E.folderSelection.selectedIds.length?E.folderSelection.selectedIds:w.selectedIds)),t(99,fe=new Set(E.folderSelection.expandedIds)),t(100,le=!0),t(105,zt=E.changed||D),t(102,ie=E.changed||D),jt(T.theme),dn(T.accent),kn(T.background.gradientId),Me()}async function ml(){try{await Ds(I),pe=await hn(),await Te(),await bt(),Ge(),await We()}catch(u){console.error("Bookmark Dial: initialization failed",u),rn(g.error,"error")}}async function hn(){const u=await I.runtime.sendMessage({type:"getFolderId"});if(!(u!=null&&u.folderId))throw new Error((u==null?void 0:u.error)||"Missing folder");return u.folderId}async function Te(){Z.size===0&&pe&&(t(0,Z=new Set([pe])),t(102,ie=!0))}async function bt(){const u=Array.from(Z);u.length&&(await Promise.allSettled(u.map(h=>ol(I,h))),Me())}function Ge(){var ce,me;const u=Ea(()=>We(),150),h=(te,ee)=>{Ps(ee),!ee.url&&Fn(ee)&&Ve(ee.id),ee.url?Qe(ee.parentId)&&u():Z.has(ee.id)&&u()};I.bookmarks.onCreated.addListener(h);const S=(te,ee)=>{Os(te,ee),he.has(te)&&u()};I.bookmarks.onChanged.addListener(S);const D=(te,ee)=>{js(te,ee),(he.has(te)||Qe(ee.parentId)||Qe(ee.oldParentId))&&u()};I.bookmarks.onMoved.addListener(D);const E=(te,ee)=>{const se=Nr(te);se&&ln(te,{...ee,node:se}),Rs(te,ee),(he.has(te)||Qe(ee.parentId))&&(he.delete(te),u())};I.bookmarks.onRemoved.addListener(E);const q=()=>u(),G=()=>rn("Importing bookmarks‚Ä¶");(ce=I.bookmarks.onImportEnded)==null||ce.addListener(q),(me=I.bookmarks.onImportBegan)==null||me.addListener(G),ot.push(()=>{var te,ee;I.bookmarks.onCreated.removeListener(h),I.bookmarks.onChanged.removeListener(S),I.bookmarks.onMoved.removeListener(D),I.bookmarks.onRemoved.removeListener(E),(te=I.bookmarks.onImportEnded)==null||te.removeListener(q),(ee=I.bookmarks.onImportBegan)==null||ee.removeListener(G)})}function ln(u,h={}){if(h!=null&&h.node&&!h.node.url){const S=new Set(Fl(u));if(S.size){const D=new Set(Z);let E=!1;S.forEach(q=>{D.has(q)&&(D.delete(q),E=!0)}),E&&(t(0,Z=D),t(102,ie=!0),Me(),it(),Z.size||Promise.resolve().then(()=>Te()).then(()=>bt()).then(()=>We()))}u===pe&&gn()}}async function gn(){rn("Default folder was removed. Recreating‚Ä¶");try{const u=await I.runtime.sendMessage({type:"resetFolderCache"});if(u!=null&&u.folderId)pe=u.folderId,await Ve(pe),await We(),rn("Default folder restored.","success");else throw new Error((u==null?void 0:u.error)||"Unable to recreate folder")}catch(u){console.error("Bookmark Dial: missing folder recovery failed",u),rn(g.error,"error")}}async function He(u){const h=u instanceof Set?new Set(u):new Set(u??[]);if(!h.size)return{items:[],counts:new Map,total:0,groups:[]};await Promise.all(Array.from(h).map(me=>ol(I,me)));const S=mn(),D=new Map,E=new Map,q=[],G=[];h.forEach(me=>{const te=so(S,me,[],!0),ee=so(S,me,[],!1),se=Ll(me),Le=se[se.length-1]||"Untitled folder";te.forEach(ve=>{const re=(Tl(ve.url)||ve.url||ve.url||ve.id).toLowerCase();D.has(re)||(D.set(re,ve.id),q.push({...ve,sourceFolderId:me,sourcePath:se}))});const st=ee.map(ve=>{const re=(Tl(ve.url)||ve.url||ve.url||ve.id).toLowerCase(),Be=E.get(me)??new Set;return Be.add(re),E.set(me,Be),{...ve,sourceFolderId:me,sourcePath:se}});G.push({id:me,label:Le,path:se,fullPath:se.join(" ‚Ä∫ "),items:st})}),G.sort((me,te)=>me.fullPath.localeCompare(te.fullPath));const ce=new Map(Array.from(E.entries()).map(([me,te])=>[me,te.size]));return{items:q,counts:ce,total:q.length,groups:G}}async function We(){const u=++lt;if(!Z.size){t(97,X=[]),t(98,Y=[]),he=new Set,Ie=new Map,t(18,Oe=0),Me(),rn("Select folders to populate this page.","info");return}try{const h=await He(Z);if(u!==lt)return;Ie=h.counts,t(18,Oe=h.total),pl(h.items),t(98,Y=h.groups.map(S=>({id:S.id,label:S.label,path:S.path,fullPath:S.fullPath,items:S.items.map(D=>Sr(D))}))),Me(),h.items.length===0?rn(g.empty):rn("","info")}catch(h){console.error("Bookmark Dial: failed to load bookmarks",h),rn(g.error,"error")}}function pl(u){he=new Set(u.map(h=>h.id)),t(97,X=u.map(h=>Sr(h)))}function Fn(u){return!u||u.url?!1:Qe(u.parentId)}function Qe(u){if(!u)return!1;const h=mn();let S=u;for(;S;){if(Z.has(S))return!0;const D=h.nodesById[S];S=(D==null?void 0:D.parentId)??null}return!1}async function Ve(u){if(!u)return;await ol(I,u);const h=Fl(u),S=new Set(Z);let D=!1;h.forEach(E=>{S.has(E)||(S.add(E),D=!0)}),D&&(t(0,Z=S),t(102,ie=!0),await bt(),await We(),it())}async function Pe(u){if(!u)return;const h=Fl(u);if(!h.length)return;const S=ne,D=S&&Ae?Ae:S?new Set(Z):Z,E=new Set(D);if(h.every(G=>E.has(G))?h.forEach(G=>E.delete(G)):h.forEach(G=>E.add(G)),S){t(19,Ae=E);const G=++Ee,ce=await He(Ae);if(G!==Ee)return;Ue=ce.counts,t(21,Xe=ce.total),t(20,nt=Se(Ae,Ue))}else Un(Z,E)||(t(0,Z=E),t(102,ie=!0),await Te(),await bt(),await We(),it())}function bl(u){var ee;if(!u)return;const h=mn(),S=h.nodesById[u];if(!(S!=null&&S.isFolder)||!(((ee=S.childrenIds)==null?void 0:ee.some(se=>{const Le=h.nodesById[se];return Le==null?void 0:Le.isFolder}))??!1))return;const E=ne,q=E&&je?je:E?new Set(fe):fe,G=new Set(q??[]),ce=new Set(G),me=(se,{persist:Le=!1}={})=>{E?t(101,je=se):(t(99,fe=se),Le&&(t(102,ie=!0),it()))};G.has(u)?G.delete(u):G.add(u);const te=!Un(ce,G);me(G,{persist:te})}async function Kt(){if(ne){t(19,Ae=new Set),Ee++,Ue=new Map,t(21,Xe=0),t(20,nt=[]);return}t(0,Z=new Set),t(102,ie=!0),await Te(),await bt(),await We(),it()}async function kl(){if(!ne)return;const u=new Set(Ae??[]),h=new Set(je??[]),S=!Un(Z,u),D=!Un(fe,h);t(1,ne=!1),F(),S&&(t(0,Z=u),t(102,ie=!0),await Te(),await bt(),await We()),D&&(t(99,fe=h),t(102,ie=!0)),S||D?it():Me()}async function _l(){await As(I),t(19,Ae=new Set(Z)),t(101,je=new Set(fe)),Ue=new Map(Ie),t(21,Xe=Oe),t(20,nt=Se(Ae,Ue)),Ee=0,t(16,tt=""),t(3,Ze=new Set),t(17,Fe=null),t(1,ne=!0)}function F(){t(19,Ae=null),t(101,je=null),t(20,nt=[]),Ue=new Map,t(21,Xe=0),Ee=0,t(16,tt=""),t(3,Ze=new Set),t(17,Fe=null)}function Q(){t(1,ne=!1),F()}function Se(u,h){mn();const S=Array.from(u??[]).map(D=>{const E=Ll(D),q=E[E.length-1]||"Untitled folder";return{id:D,path:E,label:q,fullPath:E.join(" ‚Ä∫ "),count:(h==null?void 0:h.get(D))??0}});return S.sort((D,E)=>D.fullPath.localeCompare(E.fullPath)),S}function Me(){t(4,At=Se(Z,Ie))}function En(u){const S=mn().nodesById[u],D=ne&&Ae?Ae:Z;if(!(S!=null&&S.isFolder))return D.has(u)?"selected":"none";const E=Fl(u);if(!E.length)return D.has(u)?"selected":"none";const q=E.filter(G=>D.has(G)).length;return q===0?"none":q===E.length?"selected":"partial"}async function wl(u){var me;t(16,tt=u);const h=u.trim();if(!h){t(3,Ze=new Set),t(17,Fe=null);return}if((me=I==null?void 0:I.bookmarks)!=null&&me.search)try{const ee=(await I.bookmarks.search({query:h})).filter(se=>!se.url);for(const se of ee){await ol(I,se.id);let Le=se.parentId;for(;Le;){await ol(I,Le);const st=mn().nodesById[Le];Le=(st==null?void 0:st.parentId)??null}}}catch(te){console.warn("Bookmark Dial: folder search failed",te)}const S=Ns(),D=h.toLowerCase(),q=S.filter(te=>{const ee=te.title.toLowerCase().includes(D),se=te.path.join(" ").toLowerCase().includes(D);return ee||se}).map(te=>te.id);t(3,Ze=new Set(q));const G=new Set,ce=mn();q.forEach(te=>{var Le;let ee=ce.nodesById[te];for(;ee&&(G.add(ee.id),!!ee.parentId);)ee=ce.nodesById[ee.parentId];const se=ce.nodesById[te];(Le=se==null?void 0:se.childrenIds)==null||Le.forEach(st=>{const ve=ce.nodesById[st];ve!=null&&ve.isFolder&&G.add(st)})}),t(17,Fe=G)}function Tn(u){const h=Kn(u),S=h.settings;(S.theme!==T.theme||S.accent!==T.accent||S.background.mode!==T.background.mode||S.background.gradientId!==T.background.gradientId||S.titleBackdrop!==T.titleBackdrop||S.mergeAllBookmarks!==T.mergeAllBookmarks||S.folderColumnWidth!==T.folderColumnWidth||S.compactFolderHeader!==T.compactFolderHeader||S.enableBookmarkSearch!==T.enableBookmarkSearch||S.enableTopSites!==T.enableTopSites)&&t(6,T={...T,...S,background:{...S.background}});const E=new Set(h.folderSelection.selectedIds),q=new Set(h.folderSelection.expandedIds),G=!Un(E,Z),ce=!Un(q,fe);G&&(t(0,Z=E),Me(),We()),ce&&t(99,fe=q),(G||ce)&&t(102,ie=!1)}function Mn(u){const{next:h,changed:S}=vr(X,u);if(!S)return;t(97,X=h);let D=!1;const E=Y.map(q=>{const{next:G,changed:ce}=vr(q.items,u);return ce?(D=!0,{...q,items:G}):q});D&&t(98,Y=E)}function Ln(u){t(23,ye=ye===u?null:u)}function $(){t(23,ye=null)}function Ke(u,h="info",S=null,D=5e3){const E=++hl,q={id:E,message:u,type:h,undoData:S};return t(28,qt=[...qt,q]),D>0&&setTimeout(()=>zl(E),D),E}function zl(u){t(28,qt=qt.filter(h=>h.id!==u))}async function Gr(u){if(!(u!=null&&u.undoData))return;const{action:h,data:S}=u.undoData;try{h==="removeBookmark"&&S&&(await I.bookmarks.create({parentId:S.parentId,title:S.title,url:S.url,index:S.index}),Ke("Bookmark restored","success"))}catch(D){console.error("Bookmark Dial: undo failed",D),Ke("Failed to undo","error")}zl(u.id)}async function Wr(){if(!P){t(29,xt=!0);return}try{const u=await I.storage.local.get(eo);u!=null&&u[eo]||t(29,xt=!0)}catch(u){console.warn("Bookmark Dial: failed to check welcome state",u)}}async function Vr(){if(t(29,xt=!1),P)try{await I.storage.local.set({[eo]:!0})}catch(u){console.warn("Bookmark Dial: failed to save welcome state",u)}}function Hl(u,h){u.preventDefault(),$(),t(32,_e=h);const S=180,D=180;let E=u.clientX,q=u.clientY;E+S>window.innerWidth&&(E=window.innerWidth-S-8),q+D>window.innerHeight&&(q=window.innerHeight-D-8),t(31,Vn={x:E,y:q}),t(30,Gt=!0)}function on(){t(30,Gt=!1),t(32,_e=null)}async function Kr(){_e!=null&&_e.url&&window.open(_e.url,"_blank"),on()}async function Qr(){if(_e!=null&&_e.url)try{await navigator.clipboard.writeText(_e.url),Ke("URL copied to clipboard","success")}catch(u){console.error("Bookmark Dial: copy failed",u),Ke("Failed to copy URL","error")}on()}function Jr(){_e&&Sl(_e),on()}function Yr(){_e&&tl(_e.id),on()}function Zr(u){t(10,ht=u)}function po(){t(33,$t=!1),t(10,ht="")}async function bo(){var u;if(!Pt){if(!((u=I==null?void 0:I.topSites)!=null&&u.get)){t(108,Pt=!0);return}try{const h=await I.topSites.get();t(34,gt=(h||[]).map((S,D)=>({id:`topsite-${D}`,title:S.title||il(S.url),url:S.url,displayTitle:S.title||il(S.url),initials:Hr(S.title||il(S.url)),palette:qr(S.title||il(S.url)),fallback:!1,isTopSite:!0}))),t(108,Pt=!0)}catch(h){console.warn("Bookmark Dial: failed to load top sites",h),t(108,Pt=!0)}}}function Xr(u){const h=T.mergeAllBookmarks?T.enableTopSites?[...i,...gt]:i:[];if(!h.length)return;const S=xr(),D=h.length;if(u.key==="ArrowRight")u.preventDefault(),t(35,ge=Math.min(ge+1,D-1)),ge<0&&t(35,ge=0);else if(u.key==="ArrowLeft")u.preventDefault(),t(35,ge=Math.max(ge-1,0));else if(u.key==="ArrowDown"){u.preventDefault();const E=ge+S;t(35,ge=E<D?E:ge)}else if(u.key==="ArrowUp"){u.preventDefault();const E=ge-S;t(35,ge=E>=0?E:ge)}else if(u.key==="Enter"&&ge>=0){u.preventDefault();const E=h[ge];E!=null&&E.url&&(window.location.href=E.url)}else if((u.key==="Delete"||u.key==="Backspace")&&ge>=0){u.preventDefault();const E=h[ge];E&&!E.isTopSite&&tl(E.id)}else u.key==="/"&&T.enableBookmarkSearch?(u.preventDefault(),t(33,$t=!0)):u.key==="Escape"&&(t(35,ge=-1),on())}function xr(){return en&&getComputedStyle(en).getPropertyValue("grid-template-columns").split(" ").length||4}function ql(u){t(35,ge=u)}function Gl(u,h,S=null){if(h.isTopSite){u.preventDefault();return}t(37,mt=h),S||h.parentId,u.dataTransfer.effectAllowed="move",u.dataTransfer.setData("text/plain",h.id)}function Wl(u,h){!mt||mt.id===h.id||h.isTopSite||(u.preventDefault(),u.dataTransfer.dropEffect="move",t(38,pn=h))}function $r(u){u.currentTarget.contains(u.relatedTarget)||t(38,pn=null)}async function Vl(u,h){if(u.preventDefault(),!mt||mt.id===h.id){yl();return}if(h.isTopSite){yl();return}try{await I.bookmarks.move(mt.id,{parentId:h.parentId,index:h.index}),Ke("Bookmark moved","success")}catch(S){console.error("Bookmark Dial: move failed",S),Ke("Failed to move bookmark","error")}yl()}function ei(){yl()}function yl(){t(37,mt=null),t(38,pn=null)}async function Kl(u=null){Dt=u,t(2,O=!0)}async function ti(u){t(2,O=!1);const{folderId:h,url:S,title:D}=u,E=Tl(S);if(!E){alert("That does not appear to be a valid URL.");return}try{await I.bookmarks.create({parentId:h,title:D,url:E}),t(6,T={...T,lastShortcutFolderId:h}),it()}catch(q){console.error("Bookmark Dial: failed to create bookmark",q),alert("Unable to add shortcut. Please try again.")}}function ni(){t(2,O=!1),Dt=null}function ko(){if(At.length)return At;const u=Se(Z,Ie);if(u.length)return u;if(pe){const h=Ll(pe),S=h[h.length-1]||"Bookmark Dial";return[{id:pe,path:h,label:S,fullPath:h.join(" ‚Ä∫ "),count:0}]}return[]}function li(){if(Dt)return Dt;const u=ft.length>0?ft:ko();return u.length===0?null:T.lastShortcutFolderId&&u.some(S=>S.id===T.lastShortcutFolderId)?T.lastShortcutFolderId:u[u.length-1].id}async function Sl(u){var G;if(!(u!=null&&u.id))return;$();const h=prompt("Update the shortcut URL:",u.url??"");if(h===null)return;const S=Tl(h.trim());if(!S){alert("That does not appear to be a valid URL.");return}const D=(G=u.title)!=null&&G.trim()?u.title:u.displayTitle||il(S),E=prompt("Update the shortcut title:",D),q=E?E.trim():D;try{await I.bookmarks.update(u.id,{title:q,url:S})}catch(ce){console.error("Bookmark Dial: failed to update bookmark",ce),alert("Unable to update shortcut. Please try again.")}}async function tl(u){$(),on();const h=X.find(S=>S.id===u)||Y.flatMap(S=>S.items).find(S=>S.id===u);if(h)try{const[S]=await I.bookmarks.get(u);await I.bookmarks.remove(u),Ke(`"${h.displayTitle||h.title}" removed`,"info",{action:"removeBookmark",data:{parentId:String(S.parentId),title:String(S.title||""),url:String(S.url||""),index:typeof S.index=="number"?S.index:0}},8e3)}catch(S){console.error("Bookmark Dial: failed to remove bookmark",S),Ke("Failed to remove bookmark","error")}}function oi(){yt&&t(26,yt.value="",yt),ke==null||ke.showModal()}async function ri(u){var S;u.preventDefault();const h=(S=yt==null?void 0:yt.files)==null?void 0:S[0];if(!h){ke==null||ke.close();return}if(!ci(h)){alert("Please choose a JPEG or PNG image under 10 MB.");return}try{const D=await Ta(h,b);P&&await I.storage.local.set({[El]:D}),vl(D),t(6,T={...T,background:{...T.background,mode:"custom"}}),ke==null||ke.close()}catch(D){console.error("Bookmark Dial: failed to save background",D),alert("Unable to store the background image. Try a smaller file.")}}async function ii(){try{P&&await I.storage.local.remove(El)}catch(u){console.error("Bookmark Dial: failed to clear background",u)}vl(null),t(6,T={...T,background:{...T.background,mode:"gradient"}}),ke==null||ke.close()}function si(){ke==null||ke.close()}async function ai(){if(!P){vl(null),T.background.mode==="custom"&&t(6,T={...T,background:{...T.background,mode:"gradient"}});return}try{const u=await I.storage.local.get(El),h=(u==null?void 0:u[El])||"";vl(h),!h&&T.background.mode==="custom"&&(t(6,T={...T,background:{...T.background,mode:"gradient"}}),t(105,zt=!0))}catch(u){console.error("Bookmark Dial: failed to load background",u)}}function vl(u){t(24,Ce=u||"")}function rn(u,h="info"){t(11,A=u),t(12,K=h)}function ci(u){return["image/jpeg","image/png"].includes(u.type)&&u.size<=b}function ui(){console.info("Bookmark Dial: using mock Chrome APIs for development");let u="mock-folder",h=1;const S={onCreated:new Set,onChanged:new Set,onMoved:new Set,onRemoved:new Set,onImportBegan:new Set,onImportEnded:new Set},D=new Set,E=new Map,q=new Map([["speedDialFolderId",u],[Rn,{version:Nn,theme:C.theme,accent:C.accent,titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,background:{...C.background},folderSelection:{selectedIds:[u],expandedIds:[]}}]]),G=new Map;function ce(v,...M){const U=S[v];U&&U.forEach(J=>{try{J(...M)}catch(ue){console.error(`Mock chrome ${v} handler failed`,ue)}})}function me(v,M){!M||Object.keys(M).length===0||D.forEach(U=>{try{U(M,v)}catch(J){console.error("Mock chrome storage listener failed",J)}})}function te(v){return v===void 0?void 0:JSON.parse(JSON.stringify(v))}function ee(v,M){if(Array.isArray(M)){const U={};return M.forEach(J=>U[J]=v.get(J)),U}if(typeof M=="object"&&M!==null){const U={...M};for(const J of Object.keys(M))v.has(J)&&(U[J]=v.get(J));return U}return{[M]:v.get(M)}}function se(v,M,U){const J={};Object.entries(U||{}).forEach(([ue,at])=>{const _n=v.get(ue);v.set(ue,at),J[ue]={oldValue:te(_n),newValue:te(at)}}),me(M,J)}function Le(v,M,U){const J=Array.isArray(U)?U:[U],ue={};J.forEach(at=>{if(!v.has(at))return;const _n=v.get(at);v.delete(at),ue[at]={oldValue:te(_n),newValue:void 0}}),me(M,ue)}function st(v){v!=null&&v.children&&(v.children.forEach((M,U)=>{M.index=U}),v.hasChildren=v.children.some(M=>!M.url))}function ve(v,M,U){const J=G.get(v);if(!J)throw new Error(`Parent ${v} not found`);Array.isArray(J.children)||(J.children=[]);const ue=typeof U=="number"?Math.max(0,Math.min(U,J.children.length)):J.children.length;J.children.splice(ue,0,M),M.parentId=v,st(J)}function sn(v,M){const U=G.get(v);if(!(U!=null&&U.children))return;const J=U.children.findIndex(ue=>ue.id===M);J!==-1&&(U.children.splice(J,1),st(U))}function re({id:v,parentId:M=null,title:U="Untitled folder",index:J}){const ue=v??`mock-folder-${h++}`,at={id:ue,parentId:M,title:U,index:typeof J=="number"?J:0,children:[]};return G.set(ue,at),M&&ve(M,at,J),at}function Be({id:v,parentId:M,title:U,url:J,index:ue}){if(!M)throw new Error("Bookmarks require a parent folder");const at=v??`mock-bookmark-${h++}`,_n={id:at,parentId:M,title:U??J??"Untitled",url:J,index:typeof ue=="number"?ue:0};return G.set(at,_n),ve(M,_n,ue),_n}function kt(v,M=!1){if(!v)return null;const U={id:v.id,parentId:v.parentId??void 0,title:v.title,index:v.index};return v.url&&(U.url=v.url),M&&Array.isArray(v.children)&&(U.children=v.children.map(J=>kt(J,!0))),U}function Dn(v){v&&(Array.isArray(v.children)&&[...v.children].forEach(M=>Dn(M)),G.delete(v.id))}const An=re({id:"0",parentId:null,title:""}),nl=re({id:"1",parentId:An.id,title:"Bookmarks Bar"});re({id:"2",parentId:An.id,title:"Other Bookmarks"}),re({id:"3",parentId:An.id,title:"Mobile Bookmarks"});const Il=re({id:"1-reading",parentId:"1",title:"Reading List"}),Ki=re({id:"2-inspiration",parentId:"2",title:"Inspiration"});function vo(v){[{title:"Svelte",url:"https://svelte.dev"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"Vite",url:"https://vitejs.dev"}].forEach((J,ue)=>{Be({parentId:v,title:J.title,url:J.url,index:ue})});const U=re({id:`${v}-frameworks`,parentId:v,title:"Frameworks"});[{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Ember.js",url:"https://emberjs.com"},{title:"Lit",url:"https://lit.dev"},{title:"Solid",url:"https://www.solidjs.com"},{title:"Alpine.js",url:"https://alpinejs.dev"},{title:"Preact",url:"https://preact.dev"},{title:"Backbone.js",url:"https://backbonejs.org"},{title:"jQuery",url:"https://jquery.com"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt.js",url:"https://nuxt.com"}].forEach((J,ue)=>{Be({parentId:U.id,title:J.title,url:J.url,index:ue})})}re({id:u,parentId:nl.id,title:"Bookmark Dial"}),vo(u);const Qi=re({id:"bookmarks-bar-tooling",parentId:nl.id,title:"Developer Tools"});ga.forEach((v,M)=>{Be({parentId:Qi.id,title:v.title,url:v.url,index:M})});const Ql=re({id:"reading-fiction",parentId:Il.id,title:"Fiction"}),Ji=re({id:"reading-fiction-classic",parentId:Ql.id,title:"Classic Novels"});Et.fiction.classicNovels.forEach((v,M)=>{Be({parentId:Ji.id,title:v.title,url:v.url,index:M})});const Yi=re({id:"reading-fiction-modern",parentId:Ql.id,title:"Modern Fiction"});Et.fiction.modernFiction.forEach((v,M)=>{Be({parentId:Yi.id,title:v.title,url:v.url,index:M})});const Zi=re({id:"reading-fiction-short",parentId:Ql.id,title:"Short Stories"});Et.fiction.shortStories.forEach((v,M)=>{Be({parentId:Zi.id,title:v.title,url:v.url,index:M})});const Jl=re({id:"reading-nonfiction",parentId:Il.id,title:"Non-Fiction"}),Xi=re({id:"reading-nonfiction-essays",parentId:Jl.id,title:"Essays"});Et.nonFiction.essays.forEach((v,M)=>{Be({parentId:Xi.id,title:v.title,url:v.url,index:M})});const xi=re({id:"reading-nonfiction-bio",parentId:Jl.id,title:"Biography"});Et.nonFiction.biography.forEach((v,M)=>{Be({parentId:xi.id,title:v.title,url:v.url,index:M})});const $i=re({id:"reading-nonfiction-history",parentId:Jl.id,title:"History"});Et.nonFiction.history.forEach((v,M)=>{Be({parentId:$i.id,title:v.title,url:v.url,index:M})});const Yl=re({id:"reading-poetry",parentId:Il.id,title:"Poetry"}),es=re({id:"reading-poetry-classic",parentId:Yl.id,title:"Classic Poetry"});Et.poetry.classicPoetry.forEach((v,M)=>{Be({parentId:es.id,title:v.title,url:v.url,index:M})});const ts=re({id:"reading-poetry-contemporary",parentId:Yl.id,title:"Contemporary Poetry"});Et.poetry.contemporaryPoetry.forEach((v,M)=>{Be({parentId:ts.id,title:v.title,url:v.url,index:M})});const ns=re({id:"reading-poetry-spoken",parentId:Yl.id,title:"Spoken Word"});Et.poetry.spokenWord.forEach((v,M)=>{Be({parentId:ns.id,title:v.title,url:v.url,index:M})});const Zl=re({id:"reading-academic",parentId:Il.id,title:"Academic"}),ls=re({id:"reading-academic-criticism",parentId:Zl.id,title:"Literary Criticism"});Et.academic.literaryCriticism.forEach((v,M)=>{Be({parentId:ls.id,title:v.title,url:v.url,index:M})});const os=re({id:"reading-academic-theory",parentId:Zl.id,title:"Literary Theory"});Et.academic.literaryTheory.forEach((v,M)=>{Be({parentId:os.id,title:v.title,url:v.url,index:M})});const rs=re({id:"reading-academic-journals",parentId:Zl.id,title:"Academic Journals"});Et.academic.journals.forEach((v,M)=>{Be({parentId:rs.id,title:v.title,url:v.url,index:M})}),[{title:"Muz.li",url:"https://muz.li"},{title:"Awwwards",url:"https://www.awwwards.com"},{title:"Dribbble",url:"https://dribbble.com"}].forEach((v,M)=>{Be({parentId:Ki.id,title:v.title,url:v.url,index:M})});function Pn(v){const M=S[v];return{addListener:U=>M.add(U),removeListener:U=>M.delete(U)}}return{runtime:{sendMessage:async v=>{if((v==null?void 0:v.type)==="getFolderId")return{folderId:u};if((v==null?void 0:v.type)==="resetFolderCache"){const M=`mock-folder-${Date.now().toString(36)}`,U=G.get(u);if(U){const ue=U.parentId;ue&&sn(ue,U.id),Dn(U)}u=M;const J=re({id:u,parentId:"1",title:"Bookmark Dial"});return vo(J.id),se(q,"sync",{speedDialFolderId:u,[Rn]:{version:Nn,theme:C.theme,accent:C.accent,titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,background:{...C.background},folderSelection:{selectedIds:[u],expandedIds:[]}}}),{folderId:u}}return{}}},bookmarks:{onCreated:Pn("onCreated"),onChanged:Pn("onChanged"),onMoved:Pn("onMoved"),onRemoved:Pn("onRemoved"),onImportBegan:Pn("onImportBegan"),onImportEnded:Pn("onImportEnded"),async getTree(){return[kt(G.get("0"),!0)]},async getChildren(v){const M=G.get(v);return M!=null&&M.children?M.children.map(U=>kt(U,!1)):[]},async getSubTree(v){const M=G.get(v);return M?[kt(M,!0)]:[]},async search(v){const M=String((v==null?void 0:v.query)??"").trim().toLowerCase();return M?Array.from(G.values()).filter(U=>!U.url&&(U.title||"").toLowerCase().includes(M)).map(U=>kt(U,!1)):[]},async create({parentId:v,title:M,url:U}){const J=U?Be({parentId:v,title:M,url:U}):re({parentId:v,title:M});return ce("onCreated",J.id,kt(J,!0)),kt(J,!0)},async update(v,M={}){const U=G.get(v);if(!U)throw new Error("Bookmark not found");const J={};return typeof M.title=="string"&&(U.title=M.title,J.title=M.title),typeof M.url=="string"&&(U.url=M.url,J.url=M.url),ce("onChanged",v,J),kt(U,!1)},async remove(v){const M=G.get(v);if(!M)throw new Error("Bookmark not found");const U=kt(M,!0);M.parentId&&sn(M.parentId,v),Dn(M),ce("onRemoved",v,{parentId:U.parentId??null,node:U})},async move(v,{parentId:M,index:U}){const J=G.get(v);if(!J)throw new Error("Bookmark not found");const ue=J.parentId??null;return ue&&sn(ue,v),ve(M,J,U),ce("onMoved",v,{parentId:M,oldParentId:ue,index:U}),kt(J,!1)}},storage:{local:{async get(v){return ee(E,v)},async set(v){se(E,"local",v)},async remove(v){Le(E,"local",v)}},sync:{async get(v){return ee(q,v)},async set(v){se(q,"sync",v)},async remove(v){Le(q,"sync",v)}},onChanged:{addListener(v){D.add(v)},removeListener(v){D.delete(v)}}},topSites:{async get(){return[{title:"Google",url:"https://www.google.com"},{title:"YouTube",url:"https://www.youtube.com"},{title:"Facebook",url:"https://www.facebook.com"},{title:"Twitter",url:"https://twitter.com"},{title:"Reddit",url:"https://www.reddit.com"},{title:"Wikipedia",url:"https://www.wikipedia.org"},{title:"Amazon",url:"https://www.amazon.com"},{title:"Netflix",url:"https://www.netflix.com"}]}}}}function di(u){Ss.call(this,n,u)}function fi(u){Rt[u?"unshift":"push"](()=>{xe=u,t(27,xe)})}const hi=u=>Zn(u.id),gi=u=>pt(u.id),mi=u=>Vt(u.currentTarget.checked),pi=u=>fn(u.id),bi=u=>Xn(u.currentTarget.checked),ki=u=>Bn(u.currentTarget.value),_i=u=>xn(u.currentTarget.checked),wi=u=>nn(u.currentTarget.checked),yi=u=>$n(u.currentTarget.checked);function Si(u){Rt[u?"unshift":"push"](()=>{St=u,t(5,St)})}const vi=u=>Ln(u.id),Ii=u=>Sl(u),Ci=u=>tl(u.id),Bi=u=>Mn(u.id),Fi=(u,h)=>Hl(h,u),Ei=u=>ql(u),Ti=(u,h)=>Gl(h,u),Mi=(u,h)=>Wl(h,u),Li=(u,h)=>Vl(h,u),Di=u=>ql(i.length+u);function Ai(u){Rt[u?"unshift":"push"](()=>{en=u,t(36,en)})}const Pi=u=>Ln(u.id),Oi=u=>Sl(u),ji=u=>tl(u.id),Ri=u=>Mn(u.id),Ni=(u,h)=>Hl(h,u),Ui=(u,h,S)=>Gl(S,u,h.id),zi=(u,h)=>Wl(h,u),Hi=(u,h)=>Vl(h,u),qi=u=>Kl(u.id),Gi=u=>Kl(u.id);function Wi(u){Rt[u?"unshift":"push"](()=>{yt=u,t(26,yt)})}function Vi(u){Rt[u?"unshift":"push"](()=>{ke=u,t(25,ke)})}return n.$$.update=()=>{n.$$.dirty[3]&16384&&t(109,l=new Set(Ct.slice(0,jl).map(u=>u.id))),n.$$.dirty[3]&8192&&t(110,o=new Set(It.slice(0,Rl).map(u=>u.id))),n.$$.dirty[0]&320|n.$$.dirty[3]&65536&&!vt&&T.background.mode==="gradient"&&T.background.gradientId&&!l.has(T.background.gradientId)&&t(8,vt=!0),n.$$.dirty[0]&256|n.$$.dirty[3]&16384&&t(42,r=vt?Ct:Ct.slice(0,jl)),n.$$.dirty[0]&576|n.$$.dirty[3]&131072&&!Ht&&T.accent&&!o.has(T.accent)&&t(9,Ht=!0),n.$$.dirty[0]&512|n.$$.dirty[3]&8192&&t(41,a=Ht?It:It.slice(0,Rl)),n.$$.dirty[0]&64|n.$$.dirty[3]&7808&&!Ut&&le&&(jt(T.theme),dn(T.accent),kn(T.background.gradientId),(zt||ie||Xt)&&it(),t(104,Xt=!0),t(105,zt=!1),t(102,ie=!1)),n.$$.dirty[0]&128&&typeof document<"u"&&document.body.classList.toggle("settings-open",$e),n.$$.dirty[0]&160&&$e&&Ol().then(()=>{St==null||St.focus()}),n.$$.dirty[0]&10|n.$$.dirty[3]&320&&t(22,wt=(()=>{const u=ne&&je?je:fe,h=new Set(u??[]);if(Ze.size){const S=mn();Ze.forEach(D=>{var q,G;let E=((q=S.nodesById[D])==null?void 0:q.parentId)??null;for(;E;)h.add(E),E=((G=S.nodesById[E])==null?void 0:G.parentId)??null})}return h})()),n.$$.dirty[0]&1024|n.$$.dirty[3]&16&&t(39,i=(()=>{if(!ht.trim())return X;const u=ht.toLowerCase().trim();return X.filter(h=>{var S,D,E;return((S=h.title)==null?void 0:S.toLowerCase().includes(u))||((D=h.url)==null?void 0:D.toLowerCase().includes(u))||((E=h.displayTitle)==null?void 0:E.toLowerCase().includes(u))})})()),n.$$.dirty[0]&1024|n.$$.dirty[3]&32&&t(40,c=(()=>{if(!ht.trim())return Y;const u=ht.toLowerCase().trim();return Y.map(h=>({...h,items:h.items.filter(S=>{var D,E,q;return((D=S.title)==null?void 0:D.toLowerCase().includes(u))||((E=S.url)==null?void 0:E.toLowerCase().includes(u))||((q=S.displayTitle)==null?void 0:q.toLowerCase().includes(u))})})).filter(h=>h.items.length>0)})()),n.$$.dirty[0]&64|n.$$.dirty[3]&32768&&T.enableTopSites&&!Pt&&bo(),n.$$.dirty[0]&21&&(O||At.length||Z.size)&&(t(14,ft=ko()),t(15,_t=li()))},[Z,ne,O,Ze,At,St,T,$e,vt,Ht,ht,A,K,qe,ft,_t,tt,Fe,Oe,Ae,nt,Xe,wt,ye,Ce,ke,yt,xe,qt,xt,Gt,Vn,_e,$t,gt,ge,en,mt,pn,i,c,a,r,d,_,m,p,bn,gl,In,Cn,Zn,pt,Vt,Xn,Bn,xn,nn,$n,fn,ze,Pe,bl,Kt,kl,_l,Q,En,wl,Mn,Ln,zl,Gr,Vr,Hl,on,Kr,Qr,Jr,Yr,Zr,po,Xr,ql,Gl,Wl,$r,Vl,ei,Kl,ti,ni,Sl,tl,ri,ii,si,X,Y,fe,le,je,ie,Ut,Xt,zt,It,Ct,Pt,l,o,di,fi,hi,gi,mi,pi,bi,ki,_i,wi,yi,Si,vi,Ii,Ci,Bi,Fi,Ei,Ti,Mi,Li,Di,Ai,Pi,Oi,ji,Ri,Ni,Ui,zi,Hi,qi,Gi,Wi,Vi]}class qa extends cn{constructor(e){super(),an(this,e,Ha,Ca,Yt,{},null,[-1,-1,-1,-1,-1,-1,-1,-1])}}new qa({target:document.getElementById("app")});
