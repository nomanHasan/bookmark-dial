var is=Object.defineProperty;var ss=(n,e,t)=>e in n?is(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Xl=(n,e,t)=>ss(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function ce(){}const dl=n=>n;function Ir(n){return n()}function Io(){return Object.create(null)}function He(n){n.forEach(Ir)}function ut(n){return typeof n=="function"}function Zt(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Cl;function Co(n,e){return n===e?!0:(Cl||(Cl=document.createElement("a")),Cl.href=e,n===Cl.href)}function as(n){return Object.keys(n).length===0}function Cr(n,...e){if(n==null){for(const l of e)l(void 0);return ce}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Wn(n){let e;return Cr(n,t=>e=t)(),e}function Br(n,e,t){n.$$.on_destroy.push(Cr(e,t))}function Bo(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const Fr=typeof window<"u";let Nl=Fr?()=>window.performance.now():()=>Date.now(),ao=Fr?n=>requestAnimationFrame(n):ce;const qn=new Set;function Er(n){qn.forEach(e=>{e.c(n)||(qn.delete(e),e.f())}),qn.size!==0&&ao(Er)}function Ul(n){let e;return qn.size===0&&ao(Er),{promise:new Promise(t=>{qn.add(e={c:n,f:t})}),abort(){qn.delete(e)}}}const cs=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function f(n,e){n.appendChild(e)}function Tr(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function us(n){const e=k("style");return e.textContent="/* empty */",ds(Tr(n),e),e.sheet}function ds(n,e){return f(n.head||n,e),e.sheet}function W(n,e,t){n.insertBefore(e,t||null)}function G(n){n.parentNode&&n.parentNode.removeChild(n)}function xl(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function k(n){return document.createElement(n)}function Lt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function fe(n){return document.createTextNode(n)}function L(){return fe(" ")}function dt(){return fe("")}function q(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function no(n){return function(e){return e.preventDefault(),n.call(this,e)}}function fs(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function s(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function hs(n){return Array.from(n.childNodes)}function De(n,e){e=""+e,n.data!==e&&(n.data=e)}function Hn(n,e){n.value=e??""}function Dl(n,e,t,l){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function Fo(n,e,t){for(let l=0;l<n.options.length;l+=1){const o=n.options[l];if(o.__value===e){o.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function gs(n){const e=n.querySelector(":checked");return e&&e.__value}function we(n,e,t){n.classList.toggle(e,!!t)}function Mr(n,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:l})}const Al=new Map;let Pl=0;function ms(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function ps(n,e){const t={stylesheet:us(e),rules:{}};return Al.set(n,t),t}function al(n,e,t,l,o,i,a,r=0){const u=16.666/l;let d=`{
`;for(let y=0;y<=1;y+=u){const B=e+(t-e)*i(y);d+=y*100+`%{${a(B,1-B)}}
`}const g=d+`100% {${a(t,1-t)}}
}`,w=`__svelte_${ms(g)}_${r}`,p=Tr(n),{stylesheet:_,rules:m}=Al.get(p)||ps(p,n);m[w]||(m[w]=!0,_.insertRule(`@keyframes ${w} ${g}`,_.cssRules.length));const b=n.style.animation||"";return n.style.animation=`${b?`${b}, `:""}${w} ${l}ms linear ${o}ms 1 both`,Pl+=1,w}function cl(n,e){const t=(n.style.animation||"").split(", "),l=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),o=t.length-l.length;o&&(n.style.animation=l.join(", "),Pl-=o,Pl||bs())}function bs(){ao(()=>{Pl||(Al.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&G(e)}),Al.clear())})}function ks(n,e,t,l){if(!e)return ce;const o=n.getBoundingClientRect();if(e.left===o.left&&e.right===o.right&&e.top===o.top&&e.bottom===o.bottom)return ce;const{delay:i=0,duration:a=300,easing:r=dl,start:u=Nl()+i,end:d=u+a,tick:g=ce,css:w}=t(n,{from:e,to:o},l);let p=!0,_=!1,m;function b(){w&&(m=al(n,0,1,a,i,r,w)),i||(_=!0)}function y(){w&&cl(n,m),p=!1}return Ul(B=>{if(!_&&B>=u&&(_=!0),_&&B>=d&&(g(1,0),y()),!p)return!1;if(_){const C=B-u,N=0+1*r(C/a);g(N,1-N)}return!0}),b(),g(0,1),y}function _s(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,o=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=l,Lr(n,o)}}function Lr(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(n),o=l.transform==="none"?"":l.transform;n.style.transform=`${o} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let ul;function sl(n){ul=n}function Dr(){if(!ul)throw new Error("Function called outside component initialization");return ul}function ws(n){Dr().$$.on_mount.push(n)}function ys(){const n=Dr();return(e,t,{cancelable:l=!1}={})=>{const o=n.$$.callbacks[e];if(o){const i=Mr(e,t,{cancelable:l});return o.slice().forEach(a=>{a.call(n,i)}),!i.defaultPrevented}return!0}}function Ss(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const zn=[],Rt=[];let Gn=[];const Eo=[],Ar=Promise.resolve();let lo=!1;function Pr(){lo||(lo=!0,Ar.then(Or))}function Ol(){return Pr(),Ar}function Yt(n){Gn.push(n)}const $l=new Set;let On=0;function Or(){if(On!==0)return;const n=ul;do{try{for(;On<zn.length;){const e=zn[On];On++,sl(e),vs(e.$$)}}catch(e){throw zn.length=0,On=0,e}for(sl(null),zn.length=0,On=0;Rt.length;)Rt.pop()();for(let e=0;e<Gn.length;e+=1){const t=Gn[e];$l.has(t)||($l.add(t),t())}Gn.length=0}while(zn.length);for(;Eo.length;)Eo.pop()();lo=!1,$l.clear(),sl(n)}function vs(n){if(n.fragment!==null){n.update(),He(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Yt)}}function Is(n){const e=[],t=[];Gn.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Gn=e}let ll;function co(){return ll||(ll=Promise.resolve(),ll.then(()=>{ll=null})),ll}function wn(n,e,t){n.dispatchEvent(Mr(`${e?"intro":"outro"}${t}`))}const Ml=new Set;let Jt;function Ye(){Jt={r:0,c:[],p:Jt}}function Ze(){Jt.r||He(Jt.c),Jt=Jt.p}function x(n,e){n&&n.i&&(Ml.delete(n),n.i(e))}function oe(n,e,t,l){if(n&&n.o){if(Ml.has(n))return;Ml.add(n),Jt.c.push(()=>{Ml.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}const uo={duration:0};function Cs(n,e,t){const l={direction:"in"};let o=e(n,t,l),i=!1,a,r,u=0;function d(){a&&cl(n,a)}function g(){const{delay:p=0,duration:_=300,easing:m=dl,tick:b=ce,css:y}=o||uo;y&&(a=al(n,0,1,_,p,m,y,u++)),b(0,1);const B=Nl()+p,C=B+_;r&&r.abort(),i=!0,Yt(()=>wn(n,!0,"start")),r=Ul(N=>{if(i){if(N>=C)return b(1,0),wn(n,!0,"end"),d(),i=!1;if(N>=B){const j=m((N-B)/_);b(j,1-j)}}return i})}let w=!1;return{start(){w||(w=!0,cl(n),ut(o)?(o=o(l),co().then(g)):g())},invalidate(){w=!1},end(){i&&(d(),i=!1)}}}function Bs(n,e,t){const l={direction:"out"};let o=e(n,t,l),i=!0,a;const r=Jt;r.r+=1;let u;function d(){const{delay:g=0,duration:w=300,easing:p=dl,tick:_=ce,css:m}=o||uo;m&&(a=al(n,1,0,w,g,p,m));const b=Nl()+g,y=b+w;Yt(()=>wn(n,!1,"start")),"inert"in n&&(u=n.inert,n.inert=!0),Ul(B=>{if(i){if(B>=y)return _(0,1),wn(n,!1,"end"),--r.r||He(r.c),!1;if(B>=b){const C=p((B-b)/w);_(1-C,C)}}return i})}return ut(o)?co().then(()=>{o=o(l),d()}):d(),{end(g){g&&"inert"in n&&(n.inert=u),g&&o.tick&&o.tick(1,0),i&&(a&&cl(n,a),i=!1)}}}function Bl(n,e,t,l){let i=e(n,t,{direction:"both"}),a=l?0:1,r=null,u=null,d=null,g;function w(){d&&cl(n,d)}function p(m,b){const y=m.b-a;return b*=Math.abs(y),{a,b:m.b,d:y,duration:b,start:m.start,end:m.start+b,group:m.group}}function _(m){const{delay:b=0,duration:y=300,easing:B=dl,tick:C=ce,css:N}=i||uo,j={start:Nl()+b,b:m};m||(j.group=Jt,Jt.r+=1),"inert"in n&&(m?g!==void 0&&(n.inert=g):(g=n.inert,n.inert=!0)),r||u?u=j:(N&&(w(),d=al(n,a,m,y,b,B,N)),m&&C(0,1),r=p(j,y),Yt(()=>wn(n,m,"start")),Ul(I=>{if(u&&I>u.start&&(r=p(u,y),u=null,wn(n,r.b,"start"),N&&(w(),d=al(n,a,r.b,r.duration,0,B,i.css))),r){if(I>=r.end)C(a=r.b,1-a),wn(n,r.b,"end"),u||(r.b?w():--r.group.r||He(r.group.c)),r=null;else if(I>=r.start){const V=I-r.start;a=r.a+r.d*B(V/r.duration),C(a,1-a)}}return!!(r||u)}))}return{run(m){ut(i)?co().then(()=>{i=i({direction:m?"in":"out"}),_(m)}):_(m)},end(){w(),r=u=null}}}function be(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function fo(n,e){n.d(1),e.delete(n.key)}function yn(n,e){oe(n,1,1,()=>{e.delete(n.key)})}function Fs(n,e){n.f(),yn(n,e)}function Xt(n,e,t,l,o,i,a,r,u,d,g,w){let p=n.length,_=i.length,m=p;const b={};for(;m--;)b[n[m].key]=m;const y=[],B=new Map,C=new Map,N=[];for(m=_;m--;){const P=w(o,i,m),z=t(P);let A=a.get(z);A?N.push(()=>A.p(P,e)):(A=d(z,P),A.c()),B.set(z,y[m]=A),z in b&&C.set(z,Math.abs(m-b[z]))}const j=new Set,I=new Set;function V(P){x(P,1),P.m(r,g),a.set(P.key,P),g=P.first,_--}for(;p&&_;){const P=y[_-1],z=n[p-1],A=P.key,K=z.key;P===z?(g=P.first,p--,_--):B.has(K)?!a.has(A)||j.has(A)?V(P):I.has(K)?p--:C.get(A)>C.get(K)?(I.add(A),V(P)):(j.add(K),p--):(u(z,a),p--)}for(;p--;){const P=n[p];B.has(P.key)||u(P,a)}for(;_;)V(y[_-1]);return He(N),y}function Nt(n){n&&n.c()}function Tt(n,e,t){const{fragment:l,after_update:o}=n.$$;l&&l.m(e,t),Yt(()=>{const i=n.$$.on_mount.map(Ir).filter(ut);n.$$.on_destroy?n.$$.on_destroy.push(...i):He(i),n.$$.on_mount=[]}),o.forEach(Yt)}function Mt(n,e){const t=n.$$;t.fragment!==null&&(Is(t.after_update),He(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Es(n,e){n.$$.dirty[0]===-1&&(zn.push(n),Pr(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function sn(n,e,t,l,o,i,a=null,r=[-1]){const u=ul;sl(n);const d=n.$$={fragment:null,ctx:[],props:i,update:ce,not_equal:o,bound:Io(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Io(),dirty:r,skip_bound:!1,root:e.target||u.$$.root};a&&a(d.root);let g=!1;if(d.ctx=t?t(n,e.props||{},(w,p,..._)=>{const m=_.length?_[0]:p;return d.ctx&&o(d.ctx[w],d.ctx[w]=m)&&(!d.skip_bound&&d.bound[w]&&d.bound[w](m),g&&Es(n,w)),p}):[],d.update(),g=!0,He(d.before_update),d.fragment=l?l(d.ctx):!1,e.target){if(e.hydrate){const w=hs(e.target);d.fragment&&d.fragment.l(w),w.forEach(G)}else d.fragment&&d.fragment.c();e.intro&&x(n.$$.fragment),Tt(n,e.target,e.anchor),Or()}sl(u)}class an{constructor(){Xl(this,"$$");Xl(this,"$$set")}$destroy(){Mt(this,1),this.$destroy=ce}$on(e,t){if(!ut(t))return ce;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const o=l.indexOf(t);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!as(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ts="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ts);const jn=[];function Ms(n,e=ce){let t;const l=new Set;function o(r){if(Zt(n,r)&&(n=r,t)){const u=!jn.length;for(const d of l)d[1](),jn.push(d,n);if(u){for(let d=0;d<jn.length;d+=2)jn[d][0](jn[d+1]);jn.length=0}}}function i(r){o(r(n))}function a(r,u=ce){const d=[r,u];return l.add(d),l.size===1&&(t=e(o,i)||ce),r(n),()=>{l.delete(d),l.size===0&&t&&(t(),t=null)}}return{set:o,update:i,subscribe:a}}const Ls={nodesById:{},rootIds:[]},ft=Ms(Ls),jr={subscribe:ft.subscribe};function ho(n,{includeChildren:e=!1}={}){const t=Array.isArray(n.children),l=t?[...n.children]:[],o=e?l.sort((r,u)=>(r.index??0)-(u.index??0)):[],a=l.filter(r=>!r.url).length>0;return{id:n.id,parentId:n.parentId??null,title:n.title??"",url:n.url??null,index:typeof n.index=="number"?n.index:0,isFolder:!n.url,childrenIds:e?o.map(r=>r.id):[],childrenLoaded:e,hasChildren:!n.url&&(e||t?a:!0)}}function Rr(n){ft.update(e=>{const t={...e.nodesById};let l=[...e.rootIds];for(const o of n){const i=t[o.id];t[o.id]=i?{...i,...o}:o,!o.parentId&&!l.includes(o.id)&&l.push(o.id)}return l.sort((o,i)=>{const a=t[o],r=t[i];return((a==null?void 0:a.index)??0)-((r==null?void 0:r.index)??0)}),{...e,nodesById:t,rootIds:l}})}function oo(n,e,t){ft.update(l=>{const o={...l.nodesById},i=o[n];if(!i)return l;const a=Array.from(new Set(e));a.sort((u,d)=>{const g=o[u],w=o[d];return((g==null?void 0:g.index)??0)-((w==null?void 0:w.index)??0)});const r=a.some(u=>{var d;return(d=o[u])==null?void 0:d.isFolder});return o[n]={...i,childrenIds:a,childrenLoaded:t?!0:i.childrenLoaded,hasChildren:r},{...l,nodesById:o}})}async function Ds(n){const e=await n.bookmarks.getTree(),t=Array.isArray(e)?e[0]:null,o=((t==null?void 0:t.children)??[]).map(i=>ho(i,{includeChildren:!1}));return ft.set({nodesById:Object.fromEntries(o.map(i=>[i.id,i])),rootIds:o.map(i=>i.id)}),o.map(i=>i.id)}async function As(n){const e=await n.bookmarks.getTree(),t=Array.isArray(e)?e[0]:null;if(!t)return[];const l=[],o=[];function i(r,u=!1){const w=(Array.isArray(r.children)?[...r.children]:[]).sort((m,b)=>(m.index??0)-(b.index??0)),p=w.filter(m=>!m.url),_={id:r.id,parentId:r.parentId??null,title:r.title??"",url:r.url??null,index:typeof r.index=="number"?r.index:0,isFolder:!r.url,childrenIds:w.map(m=>m.id),childrenLoaded:!0,hasChildren:p.length>0};r.url||(l.push(_),u&&o.push(r.id));for(const m of p)i(m,!1)}const a=t.children??[];for(const r of a)i(r,!0);return ft.set({nodesById:Object.fromEntries(l.map(r=>[r.id,r])),rootIds:o}),o}function mn(){return Wn(ft)}function Nr(n){return Wn(ft).nodesById[n]}async function ol(n,e){const t=await n.bookmarks.getSubTree(e),l=Array.isArray(t)?t[0]:null;if(!l)return{folderIds:[]};const o=[l],i=[],a=[];for(;o.length;){const r=o.shift(),u=Array.isArray(r.children),d=ho(r,{includeChildren:u});i.push(d),r.url||a.push(r.id),u&&o.push(...r.children)}return Rr(i),i.forEach(r=>{if(r.isFolder&&oo(r.id,r.childrenIds,!0),r.parentId){const d=Wn(ft).nodesById[r.parentId];if(d){const g=d.childrenIds?[...d.childrenIds]:[];g.push(r.id),oo(r.parentId,g,d.childrenLoaded)}}}),{folderIds:a}}function Ll(n){const e=Wn(ft),t=[];let l=e.nodesById[n];for(;l&&(l.title&&t.unshift(l.title),!!l.parentId);)l=e.nodesById[l.parentId];return t}function Ps(n){const e=ho(n,{includeChildren:!1});if(Rr([e]),e.parentId){const t=Nr(e.parentId),l=t!=null&&t.childrenIds?[...t.childrenIds]:[];l.splice(e.index??l.length,0,e.id),oo(e.parentId,l,t==null?void 0:t.childrenLoaded)}}function Os(n,e){ft.update(t=>{const l=t.nodesById[n];if(!l)return t;const o={...t.nodesById,[n]:{...l,...e}};return{...t,nodesById:o}})}function js(n,{parentId:e,oldParentId:t,index:l}){ft.update(o=>{const i={...o.nodesById},a=i[n];if(!a)return o;const r={...a,parentId:e,index:typeof l=="number"?l:a.index};if(i[n]=r,t&&i[t]){const u=i[t],d=(u.childrenIds??[]).filter(w=>w!==n),g=d.some(w=>{var p;return(p=i[w])==null?void 0:p.isFolder});i[t]={...u,childrenIds:d,hasChildren:g}}if(e&&i[e]){const u=i[e],d=[...u.childrenIds??[]];d.includes(n)||d.splice(l??d.length,0,n);const g=d.some(w=>{var p;return(p=i[w])==null?void 0:p.isFolder});i[e]={...u,childrenIds:d,hasChildren:g}}return{...o,nodesById:i}})}function Rs(n,{parentId:e}){ft.update(t=>{var r;const l={...t.nodesById},o=new Set([n]),i=[n];for(;i.length;){const u=i.pop(),d=l[u];d&&(r=d.childrenIds)!=null&&r.length&&d.childrenIds.forEach(g=>{o.has(g)||(o.add(g),i.push(g))})}o.forEach(u=>{delete l[u]});let a=t.rootIds;if(a.includes(n)&&(a=a.filter(u=>u!==n)),e&&l[e]){const u=l[e],d=(u.childrenIds??[]).filter(w=>w!==n),g=d.some(w=>{var p;return(p=l[w])==null?void 0:p.isFolder});l[e]={...u,childrenIds:d,hasChildren:g}}return{...t,nodesById:l,rootIds:a}})}function Fl(n){var o;const e=Wn(ft),t=[],l=[n];for(;l.length;){const i=l.pop(),a=e.nodesById[i];a&&a.isFolder&&(t.push(i),(o=a.childrenIds)!=null&&o.length&&a.childrenIds.forEach(r=>{const u=e.nodesById[r];u!=null&&u.isFolder&&l.push(r)}))}return t}function Ns(){const n=Wn(ft);return Object.values(n.nodesById).filter(e=>e.isFolder).map(e=>({id:e.id,title:e.title??"",path:Ll(e.id)}))}function To(n,e,t){const l=n.slice();return l[26]=e[t],l}function Mo(n){let e,t,l,o,i,a,r,u,d,g,w,p,_,m=(n[12].title||"Untitled folder")+"",b,y,B,C,N,j,I,V=n[11]&&n[15]&&Lo(n);return{c(){var P;e=k("li"),t=k("div"),l=k("button"),o=Lt("svg"),i=Lt("path"),d=L(),g=k("label"),w=k("input"),p=L(),_=k("span"),b=fe(m),B=L(),V&&V.c(),s(i,"d","M6 4.5 10 8l-4 3.5"),s(i,"fill","none"),s(i,"stroke","currentColor"),s(i,"stroke-width","1.6"),s(i,"stroke-linecap","round"),s(i,"stroke-linejoin","round"),s(o,"viewBox","0 0 16 16"),s(o,"aria-hidden","true"),s(o,"focusable","false"),s(l,"type","button"),s(l,"class","folder-node__expander svelte-ux2jgn"),s(l,"aria-hidden",a=!n[11]),s(l,"aria-label",r=n[15]?"Collapse folder":"Expand folder"),l.disabled=u=!n[11],we(l,"hidden",!n[11]),s(w,"type","checkbox"),s(w,"class","folder-node__checkbox svelte-ux2jgn"),s(_,"class","folder-node__title svelte-ux2jgn"),s(_,"title",y=n[12].title||"Untitled folder"),s(g,"class","folder-node__label svelte-ux2jgn"),s(t,"class","folder-node__row svelte-ux2jgn"),s(t,"style",n[16]),s(e,"class","folder-node svelte-ux2jgn"),s(e,"data-expanded",n[15]),s(e,"data-depth",n[1]),s(e,"data-match",C=((P=n[5])==null?void 0:P.has(n[0]))??!1)},m(P,z){W(P,e,z),f(e,t),f(t,l),f(l,o),f(o,i),f(t,d),f(t,g),f(g,w),n[24](w),f(g,p),f(g,_),f(_,b),f(e,B),V&&V.m(e,null),N=!0,j||(I=[q(l,"click",n[17]),q(w,"change",n[18])],j=!0)},p(P,z){var A;(!N||z&2048&&a!==(a=!P[11]))&&s(l,"aria-hidden",a),(!N||z&32768&&r!==(r=P[15]?"Collapse folder":"Expand folder"))&&s(l,"aria-label",r),(!N||z&2048&&u!==(u=!P[11]))&&(l.disabled=u),(!N||z&2048)&&we(l,"hidden",!P[11]),(!N||z&4096)&&m!==(m=(P[12].title||"Untitled folder")+"")&&De(b,m),(!N||z&4096&&y!==(y=P[12].title||"Untitled folder"))&&s(_,"title",y),P[11]&&P[15]?V?(V.p(P,z),z&34816&&x(V,1)):(V=Lo(P),V.c(),x(V,1),V.m(e,null)):V&&(Ye(),oe(V,1,1,()=>{V=null}),Ze()),(!N||z&32768)&&s(e,"data-expanded",P[15]),(!N||z&2)&&s(e,"data-depth",P[1]),(!N||z&33&&C!==(C=((A=P[5])==null?void 0:A.has(P[0]))??!1))&&s(e,"data-match",C)},i(P){N||(x(V),N=!0)},o(P){oe(V),N=!1},d(P){P&&G(e),n[24](null),V&&V.d(),j=!1,He(I)}}}function Lo(n){let e,t=[],l=new Map,o,i=be(n[13]);const a=r=>r[26];for(let r=0;r<i.length;r+=1){let u=To(n,i,r),d=a(u);l.set(d,t[r]=Do(d,u))}return{c(){e=k("ul");for(let r=0;r<t.length;r+=1)t[r].c();s(e,"class","folder-node__children svelte-ux2jgn")},m(r,u){W(r,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(r,u){u&9214&&(i=be(r[13]),Ye(),t=Xt(t,u,a,1,r,i,l,e,yn,Do,null,To),Ze())},i(r){if(!o){for(let u=0;u<i.length;u+=1)x(t[u]);o=!0}},o(r){for(let u=0;u<t.length;u+=1)oe(t[u]);o=!1},d(r){r&&G(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Do(n,e){let t,l,o;return l=new Ur({props:{nodeId:e[26],depth:e[1]+1,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[5],selectedIds:e[6],toggleSelection:e[7],toggleExpansion:e[8],getCheckboxState:e[9]}}),{key:n,first:null,c(){t=dt(),Nt(l.$$.fragment),this.first=t},m(i,a){W(i,t,a),Tt(l,i,a),o=!0},p(i,a){e=i;const r={};a&8192&&(r.nodeId=e[26]),a&2&&(r.depth=e[1]+1),a&4&&(r.expandedIds=e[2]),a&8&&(r.loadingIds=e[3]),a&16&&(r.visibleIds=e[4]),a&32&&(r.searchMatches=e[5]),a&64&&(r.selectedIds=e[6]),a&128&&(r.toggleSelection=e[7]),a&256&&(r.toggleExpansion=e[8]),a&512&&(r.getCheckboxState=e[9]),l.$set(r)},i(i){o||(x(l.$$.fragment,i),o=!0)},o(i){oe(l.$$.fragment,i),o=!1},d(i){i&&G(t),Mt(l,i)}}}function Us(n){let e,t,l=n[14]&&Mo(n);return{c(){l&&l.c(),e=dt()},m(o,i){l&&l.m(o,i),W(o,e,i),t=!0},p(o,[i]){o[14]?l?(l.p(o,i),i&16384&&x(l,1)):(l=Mo(o),l.c(),x(l,1),l.m(e.parentNode,e)):l&&(Ye(),oe(l,1,1,()=>{l=null}),Ze())},i(o){t||(x(l),t=!0)},o(o){oe(l),t=!1},d(o){o&&G(e),l&&l.d(o)}}}function zs(n,e,t){let l,o,i,a,r,u,d,g,w,p;Br(n,jr,Y=>t(23,p=Y));let{nodeId:_}=e,{depth:m=0}=e,{expandedIds:b}=e,{loadingIds:y}=e,{visibleIds:B}=e,{searchMatches:C}=e,{selectedIds:N}=e,{toggleSelection:j}=e,{toggleExpansion:I}=e,{getCheckboxState:V}=e,P;const z=`--depth: ${m}`;function A(Y){Y.stopPropagation(),r&&(I==null||I(_))}function K(Y){Y.stopPropagation(),j==null||j(_)}function X(Y){Rt[Y?"unshift":"push"](()=>{P=Y,t(10,P),t(21,g),t(9,V),t(6,N),t(0,_)})}return n.$$set=Y=>{"nodeId"in Y&&t(0,_=Y.nodeId),"depth"in Y&&t(1,m=Y.depth),"expandedIds"in Y&&t(2,b=Y.expandedIds),"loadingIds"in Y&&t(3,y=Y.loadingIds),"visibleIds"in Y&&t(4,B=Y.visibleIds),"searchMatches"in Y&&t(5,C=Y.searchMatches),"selectedIds"in Y&&t(6,N=Y.selectedIds),"toggleSelection"in Y&&t(7,j=Y.toggleSelection),"toggleExpansion"in Y&&t(8,I=Y.toggleExpansion),"getCheckboxState"in Y&&t(9,V=Y.getCheckboxState)},n.$$.update=()=>{var Y,ge;n.$$.dirty&8388608&&t(22,l=p),n.$$.dirty&4194305&&t(12,o=(Y=l==null?void 0:l.nodesById)==null?void 0:Y[_]),n.$$.dirty&4096&&t(20,i=(o==null?void 0:o.isFolder)??!1),n.$$.dirty&4198400&&t(13,a=((ge=o==null?void 0:o.childrenIds)==null?void 0:ge.filter(pe=>{var he;const Z=(he=l==null?void 0:l.nodesById)==null?void 0:he[pe];return Z==null?void 0:Z.isFolder}))??[]),n.$$.dirty&1056768&&t(11,r=i&&a.length>0),n.$$.dirty&2053&&t(15,u=r&&(b==null?void 0:b.has(_))),n.$$.dirty&9&&(y==null||y.has(_)),n.$$.dirty&17&&t(19,d=!B||B.has(_)),n.$$.dirty&577&&t(21,g=V&&N?V(_):"none"),n.$$.dirty&2098176&&P&&(g==="partial"?(t(10,P.indeterminate=!0,P),t(10,P.checked=!1,P)):(t(10,P.indeterminate=!1,P),t(10,P.checked=g==="selected",P))),n.$$.dirty&1576960&&t(14,w=!!(o&&i&&d))},[_,m,b,y,B,C,N,j,I,V,P,r,o,a,w,u,z,A,K,d,i,g,l,p,X]}class Ur extends an{constructor(e){super(),sn(this,e,zs,Us,Zt,{nodeId:0,depth:1,expandedIds:2,loadingIds:3,visibleIds:4,searchMatches:5,selectedIds:6,toggleSelection:7,toggleExpansion:8,getCheckboxState:9})}}function Ao(n,e,t){const l=n.slice();return l[22]=e[t],l}function Po(n,e,t){const l=n.slice();return l[25]=e[t],l}function Oo(n){let e,t,l,o,i,a,r,u,d,g,w,p,_,m,b,y,B,C,N,j,I,V,P,z,A,K,X=n[9]===1?"":"s",Y,ge,pe,Z,he,qe,le,ne,O=n[10]===1?"":"s",Dt,ht,_t,tt,Xe,Fe,At,Ie,Oe,Ae,je;const nt=[qs,Hs],Ne=[];function xe(ye,Ce){return ye[1].length===0?0:1}_=xe(n),m=Ne[_]=nt[_](n);let se=n[9]>0&&Ro(n);function wt(ye,Ce){return ye[8].length===0?Ws:Gs}let lt=wt(n),Ee=lt(n);return{c(){e=k("div"),t=k("section"),l=k("header"),o=k("div"),o.innerHTML='<h2 id="folder-modal-title">Select bookmark folders</h2> <p class="folder-modal__hint svelte-gn1lpb">Choose one or more folders to show in your new tab. Selecting a folder includes all of its subfolders.</p>',i=L(),a=k("button"),a.textContent="√ó",r=L(),u=k("div"),d=k("input"),g=L(),w=k("div"),p=k("div"),m.c(),b=L(),y=k("aside"),B=k("header"),C=k("h3"),C.textContent="Selected folders",N=L(),se&&se.c(),j=L(),Ee.c(),I=L(),V=k("footer"),P=k("div"),z=k("span"),A=fe(n[9]),K=fe(" folder"),Y=fe(X),ge=fe(" selected"),pe=L(),Z=k("span"),Z.textContent="‚Ä¢",he=L(),qe=k("span"),le=fe(n[10]),ne=fe(" bookmark"),Dt=fe(O),ht=L(),_t=k("div"),tt=k("button"),tt.textContent="Cancel",Xe=L(),Fe=k("button"),At=fe("Confirm selection"),s(a,"type","button"),s(a,"class","folder-modal__close svelte-gn1lpb"),s(a,"aria-label","Close"),s(l,"class","folder-modal__header svelte-gn1lpb"),s(d,"type","search"),s(d,"placeholder","Search folders"),d.value=n[5],s(d,"class","svelte-gn1lpb"),s(u,"class","folder-modal__search svelte-gn1lpb"),s(p,"class","folder-modal__tree svelte-gn1lpb"),s(B,"class","svelte-gn1lpb"),s(y,"class","folder-modal__summary svelte-gn1lpb"),s(w,"class","folder-modal__body svelte-gn1lpb"),s(Z,"aria-hidden","true"),s(P,"class","folder-modal__totals svelte-gn1lpb"),s(tt,"type","button"),s(tt,"class","ghost-button svelte-gn1lpb"),s(Fe,"type","button"),s(Fe,"class","primary-button svelte-gn1lpb"),Fe.disabled=Ie=n[9]===0,s(_t,"class","folder-modal__actions svelte-gn1lpb"),s(V,"class","folder-modal__footer svelte-gn1lpb"),s(t,"class","folder-modal svelte-gn1lpb"),s(t,"role","dialog"),s(t,"aria-modal","true"),s(t,"aria-labelledby","folder-modal-title"),s(e,"class","modal-overlay svelte-gn1lpb"),s(e,"role","presentation")},m(ye,Ce){W(ye,e,Ce),f(e,t),f(t,l),f(l,o),f(l,i),f(l,a),f(t,r),f(t,u),f(u,d),n[21](d),f(t,g),f(t,w),f(w,p),Ne[_].m(p,null),f(w,b),f(w,y),f(y,B),f(B,C),f(B,N),se&&se.m(B,null),f(y,j),Ee.m(y,null),f(t,I),f(t,V),f(V,P),f(P,z),f(z,A),f(z,K),f(z,Y),f(z,ge),f(P,pe),f(P,Z),f(P,he),f(P,qe),f(qe,le),f(qe,ne),f(qe,Dt),f(V,ht),f(V,_t),f(_t,tt),f(_t,Xe),f(_t,Fe),f(Fe,At),Oe=!0,Ae||(je=[q(a,"click",function(){ut(n[14])&&n[14].apply(this,arguments)}),q(d,"input",n[19]),q(tt,"click",function(){ut(n[14])&&n[14].apply(this,arguments)}),q(Fe,"click",function(){ut(n[15])&&n[15].apply(this,arguments)}),q(e,"click",n[18])],Ae=!0)},p(ye,Ce){n=ye,(!Oe||Ce&32&&d.value!==n[5])&&(d.value=n[5]);let ke=_;_=xe(n),_===ke?Ne[_].p(n,Ce):(Ye(),oe(Ne[ke],1,1,()=>{Ne[ke]=null}),Ze(),m=Ne[_],m?m.p(n,Ce):(m=Ne[_]=nt[_](n),m.c()),x(m,1),m.m(p,null)),n[9]>0?se?se.p(n,Ce):(se=Ro(n),se.c(),se.m(B,null)):se&&(se.d(1),se=null),lt===(lt=wt(n))&&Ee?Ee.p(n,Ce):(Ee.d(1),Ee=lt(n),Ee&&(Ee.c(),Ee.m(y,null))),(!Oe||Ce&512)&&De(A,n[9]),(!Oe||Ce&512)&&X!==(X=n[9]===1?"":"s")&&De(Y,X),(!Oe||Ce&1024)&&De(le,n[10]),(!Oe||Ce&1024)&&O!==(O=n[10]===1?"":"s")&&De(Dt,O),(!Oe||Ce&512&&Ie!==(Ie=n[9]===0))&&(Fe.disabled=Ie)},i(ye){Oe||(x(m),Oe=!0)},o(ye){oe(m),Oe=!1},d(ye){ye&&G(e),n[21](null),Ne[_].d(),se&&se.d(),Ee.d(),Ae=!1,He(je)}}}function Hs(n){let e,t=[],l=new Map,o,i=be(n[1]);const a=r=>r[25];for(let r=0;r<i.length;r+=1){let u=Po(n,i,r),d=a(u);l.set(d,t[r]=jo(d,u))}return{c(){e=k("ul");for(let r=0;r<t.length;r+=1)t[r].c();s(e,"class","folder-tree svelte-gn1lpb")},m(r,u){W(r,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(r,u){u&14558&&(i=be(r[1]),Ye(),t=Xt(t,u,a,1,r,i,l,e,yn,jo,null,Po),Ze())},i(r){if(!o){for(let u=0;u<i.length;u+=1)x(t[u]);o=!0}},o(r){for(let u=0;u<t.length;u+=1)oe(t[u]);o=!1},d(r){r&&G(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function qs(n){let e;return{c(){e=k("p"),e.textContent="No bookmark folders available.",s(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,l){W(t,e,l)},p:ce,i:ce,o:ce,d(t){t&&G(e)}}}function jo(n,e){let t,l,o;return l=new Ur({props:{nodeId:e[25],depth:0,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[6],selectedIds:e[7],toggleSelection:e[11],toggleExpansion:e[12],getCheckboxState:e[13]}}),{key:n,first:null,c(){t=dt(),Nt(l.$$.fragment),this.first=t},m(i,a){W(i,t,a),Tt(l,i,a),o=!0},p(i,a){e=i;const r={};a&2&&(r.nodeId=e[25]),a&4&&(r.expandedIds=e[2]),a&8&&(r.loadingIds=e[3]),a&16&&(r.visibleIds=e[4]),a&64&&(r.searchMatches=e[6]),a&128&&(r.selectedIds=e[7]),a&2048&&(r.toggleSelection=e[11]),a&4096&&(r.toggleExpansion=e[12]),a&8192&&(r.getCheckboxState=e[13]),l.$set(r)},i(i){o||(x(l.$$.fragment,i),o=!0)},o(i){oe(l.$$.fragment,i),o=!1},d(i){i&&G(t),Mt(l,i)}}}function Ro(n){let e,t,l;return{c(){e=k("button"),e.textContent="Clear all",s(e,"type","button"),s(e,"class","summary-clear svelte-gn1lpb")},m(o,i){W(o,e,i),t||(l=q(e,"click",function(){ut(n[16])&&n[16].apply(this,arguments)}),t=!0)},p(o,i){n=o},d(o){o&&G(e),t=!1,l()}}}function Gs(n){let e,t=[],l=new Map,o=be(n[8]);const i=a=>a[22].id;for(let a=0;a<o.length;a+=1){let r=Ao(n,o,a),u=i(r);l.set(u,t[a]=Uo(u,r))}return{c(){e=k("ul");for(let a=0;a<t.length;a+=1)t[a].c();s(e,"class","folder-modal__selection-list svelte-gn1lpb")},m(a,r){W(a,e,r);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null)},p(a,r){r&256&&(o=be(a[8]),t=Xt(t,r,i,1,a,o,l,e,fo,Uo,null,Ao))},d(a){a&&G(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Ws(n){let e;return{c(){e=k("p"),e.textContent="Pick folders to see them here.",s(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,l){W(t,e,l)},p:ce,d(t){t&&G(e)}}}function No(n){let e,t=n[22].count+"",l;return{c(){e=k("span"),l=fe(t),s(e,"class","selection-chip__count svelte-gn1lpb")},m(o,i){W(o,e,i),f(e,l)},p(o,i){i&256&&t!==(t=o[22].count+"")&&De(l,t)},d(o){o&&G(e)}}}function Uo(n,e){let t,l,o,i=e[22].label+"",a,r,u,d,g=typeof e[22].count=="number"&&No(e);return{key:n,first:null,c(){t=k("li"),l=k("span"),o=k("span"),a=fe(i),r=L(),g&&g.c(),d=L(),s(o,"class","selection-chip__label svelte-gn1lpb"),s(l,"class","selection-chip svelte-gn1lpb"),s(l,"title",u=e[22].fullPath),this.first=t},m(w,p){W(w,t,p),f(t,l),f(l,o),f(o,a),f(l,r),g&&g.m(l,null),f(t,d)},p(w,p){e=w,p&256&&i!==(i=e[22].label+"")&&De(a,i),typeof e[22].count=="number"?g?g.p(e,p):(g=No(e),g.c(),g.m(l,null)):g&&(g.d(1),g=null),p&256&&u!==(u=e[22].fullPath)&&s(l,"title",u)},d(w){w&&G(t),g&&g.d()}}}function Vs(n){let e,t,l=n[0]&&Oo(n);return{c(){l&&l.c(),e=dt()},m(o,i){l&&l.m(o,i),W(o,e,i),t=!0},p(o,[i]){o[0]?l?(l.p(o,i),i&1&&x(l,1)):(l=Oo(o),l.c(),x(l,1),l.m(e.parentNode,e)):l&&(Ye(),oe(l,1,1,()=>{l=null}),Ze())},i(o){t||(x(l),t=!0)},o(o){oe(l),t=!1},d(o){o&&G(e),l&&l.d(o)}}}function Ks(n,e,t){let{open:l=!1}=e,{rootIds:o=[]}=e,{expandedIds:i}=e,{loadingIds:a}=e,{visibleIds:r}=e,{searchQuery:u=""}=e,{searchMatches:d}=e,{selectedIds:g}=e,{summary:w=[]}=e,{selectedFolderCount:p=0}=e,{totalBookmarkCount:_=0}=e,{toggleSelection:m}=e,{toggleExpansion:b}=e,{getCheckboxState:y}=e,{onSearchChange:B}=e,{onRequestClose:C}=e,{onConfirmSelection:N}=e,{onClearSelection:j}=e,I;function V(A){A.target===A.currentTarget&&(A.preventDefault(),C==null||C())}function P(A){B==null||B(A.target.value)}function z(A){Rt[A?"unshift":"push"](()=>{I=A,t(17,I)})}return n.$$set=A=>{"open"in A&&t(0,l=A.open),"rootIds"in A&&t(1,o=A.rootIds),"expandedIds"in A&&t(2,i=A.expandedIds),"loadingIds"in A&&t(3,a=A.loadingIds),"visibleIds"in A&&t(4,r=A.visibleIds),"searchQuery"in A&&t(5,u=A.searchQuery),"searchMatches"in A&&t(6,d=A.searchMatches),"selectedIds"in A&&t(7,g=A.selectedIds),"summary"in A&&t(8,w=A.summary),"selectedFolderCount"in A&&t(9,p=A.selectedFolderCount),"totalBookmarkCount"in A&&t(10,_=A.totalBookmarkCount),"toggleSelection"in A&&t(11,m=A.toggleSelection),"toggleExpansion"in A&&t(12,b=A.toggleExpansion),"getCheckboxState"in A&&t(13,y=A.getCheckboxState),"onSearchChange"in A&&t(20,B=A.onSearchChange),"onRequestClose"in A&&t(14,C=A.onRequestClose),"onConfirmSelection"in A&&t(15,N=A.onConfirmSelection),"onClearSelection"in A&&t(16,j=A.onClearSelection)},n.$$.update=()=>{if(n.$$.dirty&147457&&l){Ol().then(()=>{I==null||I.focus(),I==null||I.select()});const A=K=>{K.key==="Escape"&&(K.preventDefault(),C==null||C())};document.addEventListener("keydown",A,{once:!0})}},[l,o,i,a,r,u,d,g,w,p,_,m,b,y,C,N,j,I,V,P,B,z]}class Qs extends an{constructor(e){super(),sn(this,e,Ks,Vs,Zt,{open:0,rootIds:1,expandedIds:2,loadingIds:3,visibleIds:4,searchQuery:5,searchMatches:6,selectedIds:7,summary:8,selectedFolderCount:9,totalBookmarkCount:10,toggleSelection:11,toggleExpansion:12,getCheckboxState:13,onSearchChange:20,onRequestClose:14,onConfirmSelection:15,onClearSelection:16})}}function zo(n,e,t){const l=n.slice();return l[18]=e[t],l}function Ho(n){let e,t,l,o,i,a,r,u,d,g,w,p,_=[],m=new Map,b,y,B,C,N,j,I,V,P,z,A,K,X,Y,ge,pe,Z,he=be(n[1]);const qe=le=>le[18].id;for(let le=0;le<he.length;le+=1){let ne=zo(n,he,le),O=qe(ne);m.set(O,_[le]=Go(O,ne))}return{c(){e=k("div"),t=k("section"),l=k("header"),o=k("h2"),o.textContent="Add New Shortcut",i=L(),a=k("button"),a.textContent="√ó",r=L(),u=k("form"),d=k("div"),g=k("label"),g.innerHTML=`Folder
            <span class="form-hint svelte-1xx9qid">Where to save the shortcut</span>`,w=L(),p=k("select");for(let le=0;le<_.length;le+=1)_[le].c();b=L(),y=k("div"),B=k("label"),B.innerHTML=`URL
            <span class="form-hint svelte-1xx9qid">The website address</span>`,C=L(),N=k("input"),j=L(),I=k("div"),V=k("label"),V.innerHTML=`Title
            <span class="form-hint svelte-1xx9qid">Display name for the shortcut</span>`,P=L(),z=k("input"),A=L(),K=k("div"),X=k("button"),X.textContent="Cancel",Y=L(),ge=k("button"),ge.textContent="Add Shortcut",s(o,"id","add-shortcut-modal-title"),s(o,"class","svelte-1xx9qid"),s(a,"type","button"),s(a,"class","add-shortcut-modal__close svelte-1xx9qid"),s(a,"aria-label","Close"),s(l,"class","add-shortcut-modal__header svelte-1xx9qid"),s(g,"for","shortcut-folder"),s(g,"class","svelte-1xx9qid"),s(p,"id","shortcut-folder"),p.required=!0,s(p,"class","svelte-1xx9qid"),n[2]===void 0&&Yt(()=>n[14].call(p)),s(d,"class","form-group svelte-1xx9qid"),s(B,"for","shortcut-url"),s(B,"class","svelte-1xx9qid"),s(N,"id","shortcut-url"),s(N,"type","url"),s(N,"placeholder","https://example.com"),N.required=!0,s(N,"class","svelte-1xx9qid"),s(y,"class","form-group svelte-1xx9qid"),s(V,"for","shortcut-title"),s(V,"class","svelte-1xx9qid"),s(z,"id","shortcut-title"),s(z,"type","text"),s(z,"placeholder","Example Site"),z.required=!0,s(z,"class","svelte-1xx9qid"),s(I,"class","form-group svelte-1xx9qid"),s(X,"type","button"),s(X,"class","button button--secondary svelte-1xx9qid"),s(ge,"type","submit"),s(ge,"class","button button--primary svelte-1xx9qid"),s(K,"class","add-shortcut-modal__actions svelte-1xx9qid"),s(u,"class","add-shortcut-modal__form svelte-1xx9qid"),s(t,"class","add-shortcut-modal svelte-1xx9qid"),s(t,"role","dialog"),s(t,"aria-modal","true"),s(t,"aria-labelledby","add-shortcut-modal-title"),s(e,"class","modal-overlay svelte-1xx9qid"),s(e,"role","presentation")},m(le,ne){W(le,e,ne),f(e,t),f(t,l),f(l,o),f(l,i),f(l,a),f(t,r),f(t,u),f(u,d),f(d,g),f(d,w),f(d,p);for(let O=0;O<_.length;O+=1)_[O]&&_[O].m(p,null);Fo(p,n[2],!0),f(u,b),f(u,y),f(y,B),f(y,C),f(y,N),n[15](N),Hn(N,n[4]),f(u,j),f(u,I),f(I,V),f(I,P),f(I,z),Hn(z,n[5]),f(u,A),f(u,K),f(K,X),f(K,Y),f(K,ge),pe||(Z=[q(a,"click",n[7]),q(p,"change",n[14]),q(N,"input",n[16]),q(N,"blur",n[8]),q(z,"input",n[17]),q(X,"click",n[7]),q(u,"submit",n[9]),q(e,"click",n[6])],pe=!0)},p(le,ne){ne&2&&(he=be(le[1]),_=Xt(_,ne,qe,1,le,he,m,p,fo,Go,null,zo)),ne&6&&Fo(p,le[2]),ne&16&&N.value!==le[4]&&Hn(N,le[4]),ne&32&&z.value!==le[5]&&Hn(z,le[5])},d(le){le&&G(e);for(let ne=0;ne<_.length;ne+=1)_[ne].d();n[15](null),pe=!1,He(Z)}}}function qo(n){let e,t=n[18].count+"",l,o;return{c(){e=fe("("),l=fe(t),o=fe(")")},m(i,a){W(i,e,a),W(i,l,a),W(i,o,a)},p(i,a){a&2&&t!==(t=i[18].count+"")&&De(l,t)},d(i){i&&(G(e),G(l),G(o))}}}function Go(n,e){let t,l=Wo(e[18])+"",o,i,a,r,u=e[18].count!==void 0&&qo(e);return{key:n,first:null,c(){t=k("option"),o=fe(l),i=L(),u&&u.c(),a=L(),t.__value=r=e[18].id,Hn(t,t.__value),this.first=t},m(d,g){W(d,t,g),f(t,o),f(t,i),u&&u.m(t,null),f(t,a)},p(d,g){e=d,g&2&&l!==(l=Wo(e[18])+"")&&De(o,l),e[18].count!==void 0?u?u.p(e,g):(u=qo(e),u.c(),u.m(t,a)):u&&(u.d(1),u=null),g&2&&r!==(r=e[18].id)&&(t.__value=r,Hn(t,t.__value))},d(d){d&&G(t),u&&u.d()}}}function Js(n){let e,t=n[0]&&Ho(n);return{c(){t&&t.c(),e=dt()},m(l,o){t&&t.m(l,o),W(l,e,o)},p(l,[o]){l[0]?t?t.p(l,o):(t=Ho(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ce,o:ce,d(l){l&&G(e),t&&t.d(l)}}}function Wo(n){return n.fullPath||n.label||"Untitled folder"}function Ys(n,e,t){let{open:l=!1}=e,{folders:o=[]}=e,{defaultFolderId:i=null}=e,{onConfirm:a=null}=e,{onClose:r=null}=e,u="",d="",g="",w,p=!1;function _(I){I.target===I.currentTarget&&(I.preventDefault(),m())}function m(){r==null||r()}function b(){if(!g&&d)try{const I=new URL(d);t(5,g=I.hostname.replace(/^www\./,""))}catch{}}function y(I){if(I.preventDefault(),!u){alert("Please select a folder.");return}if(!d.trim()){alert("Please enter a URL.");return}if(!g.trim()){alert("Please enter a title.");return}a==null||a({folderId:u,url:d.trim(),title:g.trim()})}function B(){u=gs(this),t(2,u),t(0,l),t(1,o),t(10,i),t(13,p),t(3,w),t(1,o)}function C(I){Rt[I?"unshift":"push"](()=>{w=I,t(3,w)})}function N(){d=this.value,t(4,d),t(0,l),t(13,p),t(10,i),t(1,o),t(3,w)}function j(){g=this.value,t(5,g),t(0,l),t(13,p),t(10,i),t(1,o),t(3,w)}return n.$$set=I=>{"open"in I&&t(0,l=I.open),"folders"in I&&t(1,o=I.folders),"defaultFolderId"in I&&t(10,i=I.defaultFolderId),"onConfirm"in I&&t(11,a=I.onConfirm),"onClose"in I&&t(12,r=I.onClose)},n.$$.update=()=>{if(n.$$.dirty&1031&&l&&o.length>0&&(u&&o.some(V=>V.id===u)||t(2,u=i||o[0].id)),n.$$.dirty&9227)if(l&&!p){t(13,p=!0),t(4,d=""),t(5,g=""),t(2,u=i||(o.length>0?o[0].id:"")),Ol().then(()=>{w==null||w.focus()});const I=V=>{V.key==="Escape"&&(V.preventDefault(),m())};document.addEventListener("keydown",I,{once:!0})}else!l&&p&&t(13,p=!1)},[l,o,u,w,d,g,_,m,b,y,i,a,r,p,B,C,N,j]}class Zs extends an{constructor(e){super(),sn(this,e,Ys,Js,Zt,{open:0,folders:1,defaultFolderId:10,onConfirm:11,onClose:12})}}function Xs(n){let e,t,l,o;return{c(){e=k("img"),Co(e.src,t=n[8])||s(e,"src",t),s(e,"alt",""),s(e,"loading","lazy")},m(i,a){W(i,e,a),l||(o=q(e,"error",n[13]),l=!0)},p(i,a){a[0]&256&&!Co(e.src,t=i[8])&&s(e,"src",t)},d(i){i&&G(e),l=!1,o()}}}function xs(n){let e=n[0].initials+"",t;return{c(){t=fe(e)},m(l,o){W(l,t,o)},p(l,o){o[0]&1&&e!==(e=l[0].initials+"")&&De(t,e)},d(l){l&&G(t)}}}function Vo(n){let e,t,l,o,i,a;return{c(){e=k("div"),t=k("button"),t.textContent="Edit",l=L(),o=k("button"),o.textContent="Remove",s(t,"type","button"),s(t,"role","menuitem"),s(t,"class","tile-menu__item"),s(o,"type","button"),s(o,"role","menuitem"),s(o,"class","tile-menu__item tile-menu__item--danger"),s(e,"class","tile-menu"),s(e,"role","menu")},m(r,u){W(r,e,u),f(e,t),f(e,l),f(e,o),i||(a=[q(t,"click",n[11]),q(o,"click",n[12])],i=!0)},p:ce,d(r){r&&G(e),i=!1,He(a)}}}function $s(n){let e,t,l,o,i,a,r=n[0].displayTitle+"",u,d,g,w,p,_,m,b,y,B,C,N,j,I;function V(K,X){return K[0].fallback?xs:Xs}let P=V(n),z=P(n),A=n[2]&&Vo(n);return{c(){e=k("article"),t=k("a"),l=k("div"),z.c(),i=L(),a=k("div"),u=fe(r),w=L(),p=k("div"),_=k("button"),m=Lt("svg"),b=Lt("circle"),y=Lt("circle"),B=Lt("circle"),N=L(),A&&A.c(),s(l,"class","tile-icon"),s(l,"style",o=`--dial-color: ${n[0].palette.background}; --dial-text: ${n[0].palette.text};`),s(l,"aria-hidden","true"),s(a,"class","tile-title"),we(a,"tile-title--pill",n[1]),s(t,"class","tile-link"),s(t,"href",d=n[0].url||"#!"),s(t,"title",g=n[0].title||n[0].url||"Shortcut"),s(t,"draggable","false"),s(b,"cx","8"),s(b,"cy","3.5"),s(b,"r","1.25"),s(y,"cx","8"),s(y,"cy","8"),s(y,"r","1.25"),s(B,"cx","8"),s(B,"cy","12.5"),s(B,"r","1.25"),s(m,"viewBox","0 0 16 16"),s(m,"aria-hidden","true"),s(m,"focusable","false"),s(_,"class","tile-menu-button"),s(_,"type","button"),s(_,"aria-haspopup","true"),s(_,"aria-expanded",n[2]),s(_,"aria-label",C=`Open options for ${n[7]}`),we(_,"tile-menu-button--active",n[2]),s(p,"class","tile-actions"),s(e,"class","tile"),s(e,"draggable",n[9]),we(e,"tile--focused",n[3]),we(e,"tile--dragging",n[4]),we(e,"tile--drag-over",n[5]),we(e,"tile--top-site",n[6])},m(K,X){W(K,e,X),f(e,t),f(t,l),z.m(l,null),f(t,i),f(t,a),f(a,u),f(e,w),f(e,p),f(p,_),f(_,m),f(m,b),f(m,y),f(m,B),f(p,N),A&&A.m(p,null),j||(I=[q(t,"focus",n[15]),q(_,"click",n[10]),q(e,"contextmenu",n[14]),q(e,"dragstart",n[16]),q(e,"dragover",n[17]),q(e,"dragleave",n[18]),q(e,"drop",n[19]),q(e,"dragend",n[20])],j=!0)},p(K,X){P===(P=V(K))&&z?z.p(K,X):(z.d(1),z=P(K),z&&(z.c(),z.m(l,null))),X[0]&1&&o!==(o=`--dial-color: ${K[0].palette.background}; --dial-text: ${K[0].palette.text};`)&&s(l,"style",o),X[0]&1&&r!==(r=K[0].displayTitle+"")&&De(u,r),X[0]&2&&we(a,"tile-title--pill",K[1]),X[0]&1&&d!==(d=K[0].url||"#!")&&s(t,"href",d),X[0]&1&&g!==(g=K[0].title||K[0].url||"Shortcut")&&s(t,"title",g),X[0]&4&&s(_,"aria-expanded",K[2]),X[0]&128&&C!==(C=`Open options for ${K[7]}`)&&s(_,"aria-label",C),X[0]&4&&we(_,"tile-menu-button--active",K[2]),K[2]?A?A.p(K,X):(A=Vo(K),A.c(),A.m(p,null)):A&&(A.d(1),A=null),X[0]&512&&s(e,"draggable",K[9]),X[0]&8&&we(e,"tile--focused",K[3]),X[0]&16&&we(e,"tile--dragging",K[4]),X[0]&32&&we(e,"tile--drag-over",K[5]),X[0]&64&&we(e,"tile--top-site",K[6])},i:ce,o:ce,d(K){K&&G(e),z.d(),A&&A.d(),j=!1,He(I)}}}function ea(n,e,t){let l,{bookmark:o}=e,{titleBackdrop:i=!1}=e,{menuOpen:a=!1}=e,{focused:r=!1}=e,{dragging:u=!1}=e,{dragOver:d=!1}=e,{isTopSite:g=!1}=e,{onToggleMenu:w=()=>{}}=e,{onEdit:p=()=>{}}=e,{onRemove:_=()=>{}}=e,{onFallback:m=()=>{}}=e,{onContextMenu:b=()=>{}}=e,{onFocus:y=()=>{}}=e,{onDragStart:B=()=>{}}=e,{onDragOver:C=()=>{}}=e,{onDragLeave:N=()=>{}}=e,{onDrop:j=()=>{}}=e,{onDragEnd:I=()=>{}}=e,{getFaviconUrl:V=()=>""}=e,P="Shortcut",z="";function A(O){O.preventDefault(),O.stopPropagation(),w==null||w()}function K(O){O.preventDefault(),O.stopPropagation(),p==null||p()}function X(O){O.preventDefault(),O.stopPropagation(),_==null||_()}function Y(){m==null||m()}function ge(O){O.preventDefault(),b==null||b(O)}function pe(){y==null||y()}function Z(O){if(!l){O.preventDefault();return}B==null||B(O)}function he(O){l&&(O.preventDefault(),C==null||C(O))}function qe(O){l&&(N==null||N(O))}function le(O){l&&(O.preventDefault(),j==null||j(O))}function ne(O){l&&(I==null||I(O))}return n.$$set=O=>{"bookmark"in O&&t(0,o=O.bookmark),"titleBackdrop"in O&&t(1,i=O.titleBackdrop),"menuOpen"in O&&t(2,a=O.menuOpen),"focused"in O&&t(3,r=O.focused),"dragging"in O&&t(4,u=O.dragging),"dragOver"in O&&t(5,d=O.dragOver),"isTopSite"in O&&t(6,g=O.isTopSite),"onToggleMenu"in O&&t(21,w=O.onToggleMenu),"onEdit"in O&&t(22,p=O.onEdit),"onRemove"in O&&t(23,_=O.onRemove),"onFallback"in O&&t(24,m=O.onFallback),"onContextMenu"in O&&t(25,b=O.onContextMenu),"onFocus"in O&&t(26,y=O.onFocus),"onDragStart"in O&&t(27,B=O.onDragStart),"onDragOver"in O&&t(28,C=O.onDragOver),"onDragLeave"in O&&t(29,N=O.onDragLeave),"onDrop"in O&&t(30,j=O.onDrop),"onDragEnd"in O&&t(31,I=O.onDragEnd),"getFaviconUrl"in O&&t(32,V=O.getFaviconUrl)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(7,P=(o==null?void 0:o.displayTitle)||(o==null?void 0:o.title)||(o==null?void 0:o.url)||"Shortcut"),n.$$.dirty[0]&1|n.$$.dirty[1]&2&&o!=null&&o.url&&!o.fallback&&(t(8,z=""),V(o.url).then(O=>{O?t(8,z=O):Y()}).catch(()=>{Y()})),n.$$.dirty[0]&64&&t(9,l=!g)},[o,i,a,r,u,d,g,P,z,l,A,K,X,Y,ge,pe,Z,he,qe,le,ne,w,p,_,m,b,y,B,C,N,j,I,V]}class go extends an{constructor(e){super(),sn(this,e,ea,$s,Zt,{bookmark:0,titleBackdrop:1,menuOpen:2,focused:3,dragging:4,dragOver:5,isTopSite:6,onToggleMenu:21,onEdit:22,onRemove:23,onFallback:24,onContextMenu:25,onFocus:26,onDragStart:27,onDragOver:28,onDragLeave:29,onDrop:30,onDragEnd:31,getFaviconUrl:32},null,[-1,-1])}}function zr(n){const e=n-1;return e*e*e+1}function ro(n,{delay:e=0,duration:t=400,easing:l=dl}={}){const o=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:l,css:i=>`opacity: ${i*o}`}}function io(n,{delay:e=0,duration:t=400,easing:l=zr,x:o=0,y:i=0,opacity:a=0}={}){const r=getComputedStyle(n),u=+r.opacity,d=r.transform==="none"?"":r.transform,g=u*(1-a),[w,p]=Bo(o),[_,m]=Bo(i);return{delay:e,duration:t,easing:l,css:(b,y)=>`
			transform: ${d} translate(${(1-b)*w}${p}, ${(1-b)*_}${m});
			opacity: ${u-g*y}`}}function ta(n,{from:e,to:t},l={}){const o=getComputedStyle(n),i=o.transform==="none"?"":o.transform,[a,r]=o.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*a/t.width-(t.left+a),d=e.top+e.height*r/t.height-(t.top+r),{delay:g=0,duration:w=_=>Math.sqrt(_)*120,easing:p=zr}=l;return{delay:g,duration:ut(w)?w(Math.sqrt(u*u+d*d)):w,easing:p,css:(_,m)=>{const b=m*u,y=m*d,B=_+m*e.width/t.width,C=_+m*e.height/t.height;return`transform: ${i} translate(${b}px, ${y}px) scale(${B}, ${C});`}}}function Ko(n,e,t){const l=n.slice();return l[7]=e[t],l}function Qo(n){let e,t,l;function o(){return n[5](n[7])}return{c(){e=k("button"),e.textContent="Undo",s(e,"type","button"),s(e,"class","toast__undo svelte-f4o70y")},m(i,a){W(i,e,a),t||(l=q(e,"click",o),t=!0)},p(i,a){n=i},d(i){i&&G(e),t=!1,l()}}}function Jo(n,e){let t,l,o=e[7].message+"",i,a,r,u,d,g,w,p,_,m=ce,b,y,B,C=e[7].undoData&&Qo(e);function N(){return e[6](e[7])}return{key:n,first:null,c(){t=k("div"),l=k("span"),i=fe(o),a=L(),r=k("div"),C&&C.c(),u=L(),d=k("button"),d.textContent="√ó",g=L(),s(l,"class","toast__message svelte-f4o70y"),s(d,"type","button"),s(d,"class","toast__dismiss svelte-f4o70y"),s(d,"aria-label","Dismiss notification"),s(r,"class","toast__actions svelte-f4o70y"),s(t,"class","toast svelte-f4o70y"),s(t,"role","alert"),we(t,"toast--success",e[7].type==="success"),we(t,"toast--error",e[7].type==="error"),we(t,"toast--info",e[7].type==="info"),this.first=t},m(j,I){W(j,t,I),f(t,l),f(l,i),f(t,a),f(t,r),C&&C.m(r,null),f(r,u),f(r,d),f(t,g),b=!0,y||(B=q(d,"click",N),y=!0)},p(j,I){e=j,(!b||I&1)&&o!==(o=e[7].message+"")&&De(i,o),e[7].undoData?C?C.p(e,I):(C=Qo(e),C.c(),C.m(r,u)):C&&(C.d(1),C=null),(!b||I&1)&&we(t,"toast--success",e[7].type==="success"),(!b||I&1)&&we(t,"toast--error",e[7].type==="error"),(!b||I&1)&&we(t,"toast--info",e[7].type==="info")},r(){_=t.getBoundingClientRect()},f(){_s(t),m(),Lr(t,_)},a(){m(),m=ks(t,_,ta,{duration:250})},i(j){b||(j&&Yt(()=>{b&&(p&&p.end(1),w=Cs(t,io,{y:50,duration:250}),w.start())}),b=!0)},o(j){w&&w.invalidate(),j&&(p=Bs(t,ro,{duration:150})),b=!1},d(j){j&&G(t),C&&C.d(),j&&p&&p.end(),y=!1,B()}}}function na(n){let e,t=[],l=new Map,o,i=be(n[0]);const a=r=>r[7].id;for(let r=0;r<i.length;r+=1){let u=Ko(n,i,r),d=a(u);l.set(d,t[r]=Jo(d,u))}return{c(){e=k("div");for(let r=0;r<t.length;r+=1)t[r].c();s(e,"class","toast-container svelte-f4o70y"),s(e,"aria-live","polite"),s(e,"aria-label","Notifications")},m(r,u){W(r,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(r,[u]){if(u&7){i=be(r[0]),Ye();for(let d=0;d<t.length;d+=1)t[d].r();t=Xt(t,u,a,1,r,i,l,e,Fs,Jo,null,Ko);for(let d=0;d<t.length;d+=1)t[d].a();Ze()}},i(r){if(!o){for(let u=0;u<i.length;u+=1)x(t[u]);o=!0}},o(r){for(let u=0;u<t.length;u+=1)oe(t[u]);o=!1},d(r){r&&G(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function la(n,e,t){let{toasts:l=[]}=e,{onDismiss:o=()=>{}}=e,{onUndo:i=()=>{}}=e;function a(g){o==null||o(g)}function r(g){i==null||i(g)}const u=g=>r(g),d=g=>a(g.id);return n.$$set=g=>{"toasts"in g&&t(0,l=g.toasts),"onDismiss"in g&&t(3,o=g.onDismiss),"onUndo"in g&&t(4,i=g.onUndo)},[l,a,r,o,i,u,d]}class oa extends an{constructor(e){super(),sn(this,e,la,na,Zt,{toasts:0,onDismiss:3,onUndo:4})}}function Yo(n){let e,t,l,o,i,a,r,u,d,g,w,p,_;return{c(){e=k("div"),t=k("article"),l=k("header"),l.innerHTML='<h2 id="welcome-title" class="svelte-1g41oro">Welcome to Bookmark Dial</h2> <p class="welcome-subtitle svelte-1g41oro">Your new tab, reimagined.</p>',o=L(),i=k("div"),i.innerHTML='<section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üìÅ</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Select Your Folders</h3> <p class="svelte-1g41oro">Open <strong class="svelte-1g41oro">Settings</strong> (gear icon) and click <strong class="svelte-1g41oro">Manage folders</strong> to choose which bookmark folders appear on your new tab.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚ûï</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Add Shortcuts</h3> <p class="svelte-1g41oro">Click the <strong class="svelte-1g41oro">+ Add shortcut</strong> tile to quickly add new bookmarks directly from this page.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üé®</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Customize Your Theme</h3> <p class="svelte-1g41oro">Choose from multiple themes, accent colors, and gradient backgrounds to personalize your experience.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚å®Ô∏è</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Keyboard Shortcuts</h3> <p class="svelte-1g41oro">Use <kbd class="svelte-1g41oro">Arrow keys</kbd> to navigate, <kbd class="svelte-1g41oro">Enter</kbd> to open, and <kbd class="svelte-1g41oro">Delete</kbd> or <kbd class="svelte-1g41oro">Backspace</kbd> to remove bookmarks.</p></div></section>',a=L(),r=k("footer"),u=k("button"),u.textContent="Get Started",s(l,"class","welcome-header svelte-1g41oro"),s(i,"class","welcome-content svelte-1g41oro"),s(u,"type","button"),s(u,"class","welcome-button svelte-1g41oro"),s(r,"class","welcome-footer svelte-1g41oro"),s(t,"class","welcome-modal svelte-1g41oro"),s(t,"role","dialog"),s(t,"aria-modal","true"),s(t,"aria-labelledby","welcome-title"),s(e,"class","welcome-overlay svelte-1g41oro"),s(e,"role","presentation")},m(m,b){W(m,e,b),f(e,t),f(t,l),f(t,o),f(t,i),f(t,a),f(t,r),f(r,u),w=!0,p||(_=[q(u,"click",function(){ut(n[1])&&n[1].apply(this,arguments)}),q(e,"click",n[2])],p=!0)},p(m,b){n=m},i(m){w||(m&&Yt(()=>{w&&(d||(d=Bl(t,io,{y:30,duration:300},!0)),d.run(1))}),m&&Yt(()=>{w&&(g||(g=Bl(e,ro,{duration:200},!0)),g.run(1))}),w=!0)},o(m){m&&(d||(d=Bl(t,io,{y:30,duration:300},!1)),d.run(0)),m&&(g||(g=Bl(e,ro,{duration:200},!1)),g.run(0)),w=!1},d(m){m&&G(e),m&&d&&d.end(),m&&g&&g.end(),p=!1,He(_)}}}function ra(n){let e,t,l,o=n[0]&&Yo(n);return{c(){o&&o.c(),e=dt()},m(i,a){o&&o.m(i,a),W(i,e,a),t||(l=q(window,"keydown",function(){ut(n[0]?n[3]:null)&&(n[0]?n[3]:null).apply(this,arguments)}),t=!0)},p(i,[a]){n=i,n[0]?o?(o.p(n,a),a&1&&x(o,1)):(o=Yo(n),o.c(),x(o,1),o.m(e.parentNode,e)):o&&(Ye(),oe(o,1,1,()=>{o=null}),Ze())},i(i){x(o)},o(i){oe(o)},d(i){i&&G(e),o&&o.d(i),t=!1,l()}}}function ia(n,e,t){let{open:l=!1}=e,{onDismiss:o=()=>{}}=e,{onGetStarted:i=()=>{}}=e;function a(u){u.target===u.currentTarget&&(o==null||o())}function r(u){u.key==="Escape"&&(u.preventDefault(),o==null||o())}return n.$$set=u=>{"open"in u&&t(0,l=u.open),"onDismiss"in u&&t(4,o=u.onDismiss),"onGetStarted"in u&&t(1,i=u.onGetStarted)},[l,i,a,r,o]}class sa extends an{constructor(e){super(),sn(this,e,ia,ra,Zt,{open:0,onDismiss:4,onGetStarted:1})}}function Zo(n){let e,t,l,o,i,a,r,u,d,g,w,p,_,m,b,y,B,C,N;return{c(){e=k("div"),t=L(),l=k("menu"),o=k("li"),i=k("button"),i.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M9 2h5v5M14 2L7 9M6 4H3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Open in new tab`,a=L(),r=k("li"),u=k("button"),u.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><rect x="5" y="5" width="8" height="9" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"></rect><path d="M11 5V3a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg>
        Copy URL`,d=L(),g=k("li"),w=L(),p=k("li"),_=k("button"),_.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M11.5 2.5l2 2L5 13H3v-2l8.5-8.5z" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Edit bookmark`,m=L(),b=k("li"),y=k("button"),y.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M3 4h10M6 4V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v1M5 4v9a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Remove`,s(e,"class","context-menu-overlay svelte-6dpg3b"),s(e,"role","presentation"),s(i,"type","button"),s(i,"class","context-menu__item svelte-6dpg3b"),s(i,"role","menuitem"),s(o,"class","svelte-6dpg3b"),s(u,"type","button"),s(u,"class","context-menu__item svelte-6dpg3b"),s(u,"role","menuitem"),s(r,"class","svelte-6dpg3b"),s(g,"class","context-menu__divider svelte-6dpg3b"),s(g,"role","separator"),s(_,"type","button"),s(_,"class","context-menu__item svelte-6dpg3b"),s(_,"role","menuitem"),s(p,"class","svelte-6dpg3b"),s(y,"type","button"),s(y,"class","context-menu__item context-menu__item--danger svelte-6dpg3b"),s(y,"role","menuitem"),s(b,"class","svelte-6dpg3b"),s(l,"class","context-menu svelte-6dpg3b"),s(l,"style",n[1]),s(l,"aria-label",B="Actions for "+n[2])},m(j,I){W(j,e,I),W(j,t,I),W(j,l,I),f(l,o),f(o,i),f(l,a),f(l,r),f(r,u),f(l,d),f(l,g),f(l,w),f(l,p),f(p,_),f(l,m),f(l,b),f(b,y),C||(N=[q(e,"click",n[7]),q(e,"contextmenu",no(n[7])),q(i,"click",n[5]),q(u,"click",n[6]),q(_,"click",n[3]),q(y,"click",n[4])],C=!0)},p(j,I){I&2&&s(l,"style",j[1]),I&4&&B!==(B="Actions for "+j[2])&&s(l,"aria-label",B)},d(j){j&&(G(e),G(t),G(l)),C=!1,He(N)}}}function aa(n){let e,t,l,o=n[0]&&Zo(n);return{c(){o&&o.c(),e=dt()},m(i,a){o&&o.m(i,a),W(i,e,a),t||(l=q(window,"keydown",function(){ut(n[0]?n[8]:null)&&(n[0]?n[8]:null).apply(this,arguments)}),t=!0)},p(i,[a]){n=i,n[0]?o?o.p(n,a):(o=Zo(n),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:ce,o:ce,d(i){i&&G(e),o&&o.d(i),t=!1,l()}}}function Xo(n){var i;const e=document.querySelectorAll(".context-menu__item"),t=document.activeElement;let o=Array.from(e).indexOf(t)+n;o<0&&(o=e.length-1),o>=e.length&&(o=0),(i=e[o])==null||i.focus()}function ca(n,e,t){let l,o,{bookmark:i=null}=e,{position:a={x:0,y:0}}=e,{visible:r=!1}=e;const u=ys();function d(){u("edit")}function g(){u("remove")}function w(){u("opennewtab")}function p(){u("copyurl")}function _(){u("close")}function m(b){b.key==="Escape"?(b.preventDefault(),_()):b.key==="ArrowDown"?(b.preventDefault(),Xo(1)):b.key==="ArrowUp"&&(b.preventDefault(),Xo(-1))}return n.$$set=b=>{"bookmark"in b&&t(9,i=b.bookmark),"position"in b&&t(10,a=b.position),"visible"in b&&t(0,r=b.visible)},n.$$.update=()=>{n.$$.dirty&512&&t(2,l=(i==null?void 0:i.title)||(i==null?void 0:i.url)||"bookmark"),n.$$.dirty&1024&&t(1,o=`left: ${a.x}px; top: ${a.y}px;`)},[r,o,l,d,g,w,p,_,m,i,a]}class ua extends an{constructor(e){super(),sn(this,e,ca,aa,Zt,{bookmark:9,position:10,visible:0})}}function xo(n){let e,t,l,o,i,a,r,u,d,g,w,p=n[1]&&$o(n);return{c(){e=k("div"),t=Lt("svg"),l=Lt("circle"),o=Lt("path"),i=L(),a=k("input"),r=L(),p&&p.c(),u=L(),d=k("button"),d.innerHTML='<svg viewBox="0 0 16 16" aria-hidden="true" class="svelte-qypsdi"><path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',s(l,"cx","6.5"),s(l,"cy","6.5"),s(l,"r","5"),s(l,"stroke","currentColor"),s(l,"stroke-width","1.5"),s(l,"fill","none"),s(o,"d","M10.5 10.5L14 14"),s(o,"stroke","currentColor"),s(o,"stroke-width","1.5"),s(o,"stroke-linecap","round"),s(t,"class","search-bar__icon svelte-qypsdi"),s(t,"viewBox","0 0 16 16"),s(t,"aria-hidden","true"),s(a,"type","search"),s(a,"class","search-bar__input svelte-qypsdi"),s(a,"placeholder","Search bookmarks‚Ä¶"),a.value=n[1],s(a,"aria-label","Search bookmarks"),s(d,"type","button"),s(d,"class","search-bar__close svelte-qypsdi"),s(d,"aria-label","Close search"),s(e,"class","search-bar svelte-qypsdi"),s(e,"role","search")},m(_,m){W(_,e,m),f(e,t),f(t,l),f(t,o),f(e,i),f(e,a),n[8](a),f(e,r),p&&p.m(e,null),f(e,u),f(e,d),g||(w=[q(a,"input",n[4]),q(a,"keydown",n[6]),q(d,"click",function(){ut(n[2])&&n[2].apply(this,arguments)})],g=!0)},p(_,m){n=_,m&2&&a.value!==n[1]&&(a.value=n[1]),n[1]?p?p.p(n,m):(p=$o(n),p.c(),p.m(e,u)):p&&(p.d(1),p=null)},d(_){_&&G(e),n[8](null),p&&p.d(),g=!1,He(w)}}}function $o(n){let e,t,l;return{c(){e=k("button"),e.textContent="√ó",s(e,"type","button"),s(e,"class","search-bar__clear svelte-qypsdi"),s(e,"aria-label","Clear search")},m(o,i){W(o,e,i),t||(l=q(e,"click",n[5]),t=!0)},p:ce,d(o){o&&G(e),t=!1,l()}}}function da(n){let e,t=n[0]&&xo(n);return{c(){t&&t.c(),e=dt()},m(l,o){t&&t.m(l,o),W(l,e,o)},p(l,[o]){l[0]?t?t.p(l,o):(t=xo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ce,o:ce,d(l){l&&G(e),t&&t.d(l)}}}function fa(n,e,t){let{visible:l=!1}=e,{query:o=""}=e,{onSearchChange:i=()=>{}}=e,{onClose:a=()=>{}}=e,r;function u(p){i==null||i(p.target.value)}function d(){i==null||i(""),r==null||r.focus()}function g(p){p.key==="Escape"&&(p.preventDefault(),o?i==null||i(""):a==null||a())}function w(p){Rt[p?"unshift":"push"](()=>{r=p,t(3,r)})}return n.$$set=p=>{"visible"in p&&t(0,l=p.visible),"query"in p&&t(1,o=p.query),"onSearchChange"in p&&t(7,i=p.onSearchChange),"onClose"in p&&t(2,a=p.onClose)},n.$$.update=()=>{n.$$.dirty&9&&l&&r&&r.focus()},[l,o,a,r,u,d,g,i,w]}class ha extends an{constructor(e){super(),sn(this,e,fa,da,Zt,{visible:0,query:1,onSearchChange:7,onClose:2})}}const ga=[{title:"ESLint",url:"https://eslint.org"},{title:"Prettier",url:"https://prettier.io"},{title:"Parcel",url:"https://parceljs.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"Visual Studio Code",url:"https://code.visualstudio.com"},{title:"npm",url:"https://www.npmjs.com"},{title:"Docker",url:"https://www.docker.com"},{title:"Kubernetes",url:"https://kubernetes.io"},{title:"Postman",url:"https://www.postman.com"},{title:"GitLab",url:"https://gitlab.com"},{title:"Bitbucket",url:"https://bitbucket.org"},{title:"Jest",url:"https://jestjs.io"},{title:"Webpack",url:"https://webpack.js.org"},{title:"Vite",url:"https://vitejs.dev"},{title:"TypeScript",url:"https://www.typescriptlang.org"},{title:"Babel",url:"https://babeljs.io"},{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Svelte",url:"https://svelte.dev"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt",url:"https://nuxt.com"},{title:"Tailwind CSS",url:"https://tailwindcss.com"},{title:"Bootstrap",url:"https://getbootstrap.com"},{title:"Sass",url:"https://sass-lang.com"},{title:"Node.js",url:"https://nodejs.org"},{title:"Deno",url:"https://deno.com"},{title:"Express",url:"https://expressjs.com"},{title:"Fastify",url:"https://www.fastify.io"},{title:"MongoDB",url:"https://www.mongodb.com"},{title:"PostgreSQL",url:"https://www.postgresql.org"},{title:"Redis",url:"https://redis.io"},{title:"MySQL",url:"https://www.mysql.com"},{title:"Vercel",url:"https://vercel.com"},{title:"Netlify",url:"https://www.netlify.com"},{title:"Heroku",url:"https://www.heroku.com"},{title:"AWS",url:"https://aws.amazon.com"},{title:"Firebase",url:"https://firebase.google.com"},{title:"Supabase",url:"https://supabase.com"},{title:"Figma",url:"https://www.figma.com"},{title:"Canva",url:"https://www.canva.com"},{title:"VS Code Extensions",url:"https://marketplace.visualstudio.com"},{title:"Chrome DevTools",url:"https://developer.chrome.com/docs/devtools"},{title:"Can I Use",url:"https://caniuse.com"},{title:"RegExr",url:"https://regexr.com"},{title:"JSON Formatter",url:"https://jsonformatter.org"},{title:"CodePen",url:"https://codepen.io"},{title:"JSFiddle",url:"https://jsfiddle.net"},{title:"Replit",url:"https://replit.com"},{title:"StackBlitz",url:"https://stackblitz.com"},{title:"GraphQL",url:"https://graphql.org"},{title:"Prisma",url:"https://www.prisma.io"},{title:"Cypress",url:"https://www.cypress.io"},{title:"Playwright",url:"https://playwright.dev"},{title:"Testing Library",url:"https://testing-library.com"},{title:"Storybook",url:"https://storybook.js.org"},{title:"Lodash",url:"https://lodash.com"},{title:"Axios",url:"https://axios-http.com"},{title:"Day.js",url:"https://day.js.org"},{title:"Chart.js",url:"https://www.chartjs.org"},{title:"Three.js",url:"https://threejs.org"},{title:"Vitest",url:"https://vitest.dev"},{title:"ESBuild",url:"https://esbuild.github.io"},{title:"Rollup",url:"https://rollupjs.org"},{title:"Gulp",url:"https://gulpjs.com"},{title:"Grunt",url:"https://gruntjs.com"},{title:"Semantic UI",url:"https://semantic-ui.com"},{title:"Material UI",url:"https://mui.com"},{title:"Chakra UI",url:"https://chakra-ui.com"},{title:"Ant Design",url:"https://ant.design"},{title:"Zustand",url:"https://zustand-demo.vercel.app"},{title:"Redux",url:"https://redux.js.org"},{title:"Recoil",url:"https://recoiljs.org"},{title:"Jotai",url:"https://jotai.org"},{title:"SWR",url:"https://swr.vercel.app"},{title:"React Query",url:"https://tanstack.com/query"},{title:"Apollo GraphQL",url:"https://www.apollographql.com"},{title:"Strapi",url:"https://strapi.io"},{title:"Contentful",url:"https://www.contentful.com"},{title:"Sanity",url:"https://www.sanity.io"},{title:"Auth0",url:"https://auth0.com"}],Et={fiction:{classicNovels:[{title:"Project Gutenberg",url:"https://www.gutenberg.org"},{title:"The Literature Network",url:"http://www.online-literature.com"},{title:"Classic Reader",url:"http://www.classicreader.com"},{title:"Read Print",url:"http://www.readprint.com"},{title:"Free Classic Literature",url:"https://www.freeclassicebooks.com"},{title:"Classic Literature Library",url:"https://classiclit.about.com"}],modernFiction:[{title:"Electric Literature",url:"https://electricliterature.com"},{title:"The Paris Review",url:"https://www.theparisreview.org"},{title:"Granta",url:"https://granta.com"},{title:"LitHub",url:"https://lithub.com"},{title:"The Rumpus",url:"https://therumpus.net"},{title:"The Millions",url:"https://themillions.com"}],shortStories:[{title:"Daily Science Fiction",url:"https://dailysciencefiction.com"},{title:"Narrative Magazine",url:"https://www.narrativemagazine.com"},{title:"One Story",url:"https://www.one-story.com"},{title:"Flash Fiction Online",url:"https://flashfictiononline.com"},{title:"Smokelong Quarterly",url:"http://www.smokelong.com"},{title:"Zoetrope All-Story",url:"https://www.all-story.com"}]},nonFiction:{essays:[{title:"The New Yorker Essays",url:"https://www.newyorker.com/culture/personal-history"},{title:"The Atlantic Essays",url:"https://www.theatlantic.com/ideas/"},{title:"Harper's Magazine",url:"https://harpers.org"},{title:"The Believer",url:"https://believermag.com"},{title:"n+1 Magazine",url:"https://www.nplusonemag.com"},{title:"Aeon Essays",url:"https://aeon.co/essays"}],biography:[{title:"Biography.com",url:"https://www.biography.com"},{title:"Famous People",url:"https://www.thefamouspeople.com"},{title:"Britannica Biographies",url:"https://www.britannica.com/biography"},{title:"Stanford Encyclopedia",url:"https://plato.stanford.edu"},{title:"Internet Biography",url:"https://www.notablebiographies.com"},{title:"Lives of the Great",url:"https://www.famousscientists.org"}],history:[{title:"History.com",url:"https://www.history.com"},{title:"Smithsonian Magazine",url:"https://www.smithsonianmag.com/history/"},{title:"History Today",url:"https://www.historytoday.com"},{title:"BBC History",url:"https://www.bbc.co.uk/history"},{title:"American Historical",url:"https://www.historians.org"},{title:"Ancient History",url:"https://www.ancient.eu"}]},poetry:{classicPoetry:[{title:"Poetry Foundation",url:"https://www.poetryfoundation.org"},{title:"Poets.org",url:"https://poets.org"},{title:"Poetry Archive",url:"https://www.poetryarchive.org"},{title:"Famous Poets",url:"https://www.famouspoetsandpoems.com"},{title:"All Poetry",url:"https://allpoetry.com"},{title:"Classic Poetry Aloud",url:"https://www.poetryoutloud.org"}],contemporaryPoetry:[{title:"Poetry Magazine",url:"https://www.poetrymagazine.org"},{title:"The Adroit Journal",url:"https://theadroitjournal.org"},{title:"Rattle",url:"https://www.rattle.com"},{title:"Poem-a-Day",url:"https://www.poets.org/poetsorg/poem-day"},{title:"Button Poetry",url:"https://buttonpoetry.com"},{title:"Split This Rock",url:"https://www.splitthisrock.org"}],spokenWord:[{title:"TED Poetry",url:"https://www.ted.com/topics/poetry"},{title:"Poetry Slam Inc",url:"https://www.poetryslam.com"},{title:"Def Poetry",url:"https://www.hbo.com/def-poetry"},{title:"Write About Now",url:"https://www.writeaboutnow.com"},{title:"Brave New Voices",url:"https://youthspeaks.org"},{title:"Individual World",url:"https://www.iwps.org"}]},academic:{literaryCriticism:[{title:"JSTOR",url:"https://www.jstor.org"},{title:"Project MUSE",url:"https://muse.jhu.edu"},{title:"Oxford Academic",url:"https://academic.oup.com"},{title:"Cambridge Core",url:"https://www.cambridge.org/core"},{title:"Taylor & Francis",url:"https://www.tandfonline.com"},{title:"SAGE Journals",url:"https://journals.sagepub.com"}],literaryTheory:[{title:"Critical Theory",url:"https://criticalthoery.web.unc.edu"},{title:"Theory.org",url:"https://www.theory.org.uk"},{title:"Yale Theory",url:"https://theory.yale.edu"},{title:"Johns Hopkins Guide",url:"https://litguide.press.jhu.edu"},{title:"Internet Encyclopedia",url:"https://iep.utm.edu"},{title:"Stanford Literary Lab",url:"https://litlab.stanford.edu"}],journals:[{title:"PMLA",url:"https://www.mla.org/Publications/Journals/PMLA"},{title:"New Literary History",url:"https://muse.jhu.edu/journal/96"},{title:"Modern Fiction Studies",url:"https://muse.jhu.edu/journal/122"},{title:"Contemporary Literature",url:"https://muse.jhu.edu/journal/92"},{title:"Modernism/modernity",url:"https://muse.jhu.edu/journal/186"},{title:"American Literature",url:"https://read.dukeupress.edu/american-literature"}]}},{Map:fl}=cs;function er(n,e,t){const l=n.slice();return l[228]=e[t],l}function tr(n,e,t){const l=n.slice();return l[225]=e[t],l}function nr(n,e,t){const l=n.slice();return l[222]=e[t],l[224]=t,l}function lr(n,e,t){const l=n.slice();return l[225]=e[t],l[227]=t,l}function or(n,e,t){const l=n.slice();return l[233]=e[t],l}function rr(n,e,t){const l=n.slice();return l[236]=e[t],l}function ir(n,e,t){const l=n.slice();return l[236]=e[t],l}function sr(n,e,t){const l=n.slice();return l[236]=e[t],l}function ar(n){let e,t=n[236].label+"",l,o,i,a,r;function u(){return n[112](n[236])}return{c(){e=k("button"),l=fe(t),o=L(),s(e,"type","button"),s(e,"class","choice-button"),s(e,"data-active",i=n[6].theme===n[236].id)},m(d,g){W(d,e,g),f(e,l),f(e,o),a||(r=q(e,"click",u),a=!0)},p(d,g){n=d,g[0]&64&&i!==(i=n[6].theme===n[236].id)&&s(e,"data-active",i)},d(d){d&&G(e),a=!1,r()}}}function cr(n){let e,t,l,o,i,a,r;function u(){return n[113](n[236])}return{c(){e=k("button"),s(e,"type","button"),s(e,"class","accent-swatch"),s(e,"style",t=`--swatch-color: ${n[236].colors.base};`),s(e,"data-active",l=n[6].accent===n[236].id),s(e,"aria-label",o=n[236].label),s(e,"title",i=n[236].label)},m(d,g){W(d,e,g),a||(r=q(e,"click",u),a=!0)},p(d,g){n=d,g[1]&1024&&t!==(t=`--swatch-color: ${n[236].colors.base};`)&&s(e,"style",t),g[0]&64|g[1]&1024&&l!==(l=n[6].accent===n[236].id)&&s(e,"data-active",l),g[1]&1024&&o!==(o=n[236].label)&&s(e,"aria-label",o),g[1]&1024&&i!==(i=n[236].label)&&s(e,"title",i)},d(d){d&&G(e),a=!1,r()}}}function ma(n){let e,t,l=n[9]?"Show fewer accent colors":"More accent colors",o,i,a;return{c(){e=k("div"),t=k("button"),o=fe(l),s(t,"type","button"),s(t,"class","swatch-toggle-button"),s(t,"aria-expanded",n[9]),s(e,"class","swatch-toggle-row")},m(r,u){W(r,e,u),f(e,t),f(t,o),i||(a=q(t,"click",n[47]),i=!0)},p(r,u){u[0]&512&&l!==(l=r[9]?"Show fewer accent colors":"More accent colors")&&De(o,l),u[0]&512&&s(t,"aria-expanded",r[9])},d(r){r&&G(e),i=!1,a()}}}function ur(n){let e,t,l=n[236].label+"",o,i,a,r,u,d;function g(){return n[115](n[236])}return{c(){e=k("button"),t=k("span"),o=fe(l),i=L(),s(e,"type","button"),s(e,"class","gradient-option"),s(e,"style",a=`--gradient-sample-light: ${n[236].gradients.light}; --gradient-sample-dark: ${n[236].gradients.dark};`),s(e,"data-active",r=n[6].background.mode==="gradient"&&n[6].background.gradientId===n[236].id)},m(w,p){W(w,e,p),f(e,t),f(t,o),f(e,i),u||(d=q(e,"click",g),u=!0)},p(w,p){n=w,p[1]&2048&&l!==(l=n[236].label+"")&&De(o,l),p[1]&2048&&a!==(a=`--gradient-sample-light: ${n[236].gradients.light}; --gradient-sample-dark: ${n[236].gradients.dark};`)&&s(e,"style",a),p[0]&64|p[1]&2048&&r!==(r=n[6].background.mode==="gradient"&&n[6].background.gradientId===n[236].id)&&s(e,"data-active",r)},d(w){w&&G(e),u=!1,d()}}}function pa(n){let e,t,l=n[8]?"Show fewer gradients":"More gradients",o,i,a;return{c(){e=k("div"),t=k("button"),o=fe(l),s(t,"type","button"),s(t,"class","swatch-toggle-button"),s(t,"aria-expanded",n[8]),s(e,"class","swatch-toggle-row")},m(r,u){W(r,e,u),f(e,t),f(t,o),i||(a=q(t,"click",n[48]),i=!0)},p(r,u){u[0]&256&&l!==(l=r[8]?"Show fewer gradients":"More gradients")&&De(o,l),u[0]&256&&s(t,"aria-expanded",r[8])},d(r){r&&G(e),i=!1,a()}}}function ba(n){let e=[],t=new fl,l,o=be(n[4]);const i=a=>a[233].id;for(let a=0;a<o.length;a+=1){let r=or(n,o,a),u=i(r);t.set(u,e[a]=dr(u,r))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=dt()},m(a,r){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,r);W(a,l,r)},p(a,r){r[0]&16&&(o=be(a[4]),e=Xt(e,r,i,1,a,o,t,l.parentNode,fo,dr,l,or))},d(a){a&&G(l);for(let r=0;r<e.length;r+=1)e[r].d(a)}}}function ka(n){let e;return{c(){e=k("span"),e.textContent="Default folder",s(e,"class","folder-chip folder-chip--empty"),s(e,"title","Default Bookmark Dial folder")},m(t,l){W(t,e,l)},p:ce,d(t){t&&G(e)}}}function dr(n,e){let t,l,o=e[233].label+"",i,a,r,u=e[233].count+"",d,g,w;return{key:n,first:null,c(){t=k("span"),l=k("span"),i=fe(o),a=L(),r=k("span"),d=fe(u),g=L(),s(l,"class","folder-chip__label"),s(r,"class","folder-chip__count"),s(t,"class","folder-chip"),s(t,"title",w=e[233].fullPath),this.first=t},m(p,_){W(p,t,_),f(t,l),f(l,i),f(t,a),f(t,r),f(r,d),f(t,g)},p(p,_){e=p,_[0]&16&&o!==(o=e[233].label+"")&&De(i,o),_[0]&16&&u!==(u=e[233].count+"")&&De(d,u),_[0]&16&&w!==(w=e[233].fullPath)&&s(t,"title",w)},d(p){p&&G(t)}}}function fr(n){let e,t,l,o,i,a,r,u,d,g,w,p,_,m;return{c(){e=k("div"),t=k("label"),l=k("span"),l.textContent="Folder width",o=L(),i=k("input"),r=L(),u=k("label"),d=k("input"),w=L(),p=k("div"),p.innerHTML='<span class="settings-toggle__label">Compact header</span> <span class="settings-toggle__description">Hide folder path to save space.</span>',s(l,"class","settings-control__label"),s(i,"type","range"),s(i,"min","480"),s(i,"max","1860"),s(i,"step","20"),i.value=a=n[6].folderColumnWidth,s(t,"class","settings-control"),s(d,"type","checkbox"),d.checked=g=n[6].compactFolderHeader,s(p,"class","settings-toggle__body"),s(u,"class","settings-toggle"),s(e,"class","ungrouped-settings")},m(b,y){W(b,e,y),f(e,t),f(t,l),f(t,o),f(t,i),f(e,r),f(e,u),f(u,d),f(u,w),f(u,p),_||(m=[q(i,"input",n[117]),q(d,"change",n[118])],_=!0)},p(b,y){y[0]&64&&a!==(a=b[6].folderColumnWidth)&&(i.value=a),y[0]&64&&g!==(g=b[6].compactFolderHeader)&&(d.checked=g)},d(b){b&&G(e),_=!1,He(m)}}}function hr(n){let e,t;return e=new ha({props:{visible:n[36],query:n[10],onSearchChange:n[80],onClose:n[81]}}),{c(){Nt(e.$$.fragment)},m(l,o){Tt(e,l,o),t=!0},p(l,o){const i={};o[1]&32&&(i.visible=l[36]),o[0]&1024&&(i.query=l[10]),e.$set(i)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){Mt(e,l)}}}function _a(n){let e,t=[],l=new fl,o=`${n[6].folderColumnWidth}px`,i,a=be(n[40]);const r=u=>u[228].id;for(let u=0;u<a.length;u+=1){let d=er(n,a,u),g=r(d);l.set(g,t[u]=pr(g,d))}return{c(){e=k("div");for(let u=0;u<t.length;u+=1)t[u].c();s(e,"class","folder-grid-list"),s(e,"aria-label","Bookmark folders"),Dl(e,"max-width",o)},m(u,d){W(u,e,d);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(e,null);i=!0},p(u,d){d[0]&67108928|d[1]&896|d[2]&1742737792&&(a=be(u[40]),Ye(),t=Xt(t,d,r,1,u,a,l,e,yn,pr,null,er),Ze()),d[0]&64&&o!==(o=`${u[6].folderColumnWidth}px`)&&Dl(e,"max-width",o)},i(u){if(!i){for(let d=0;d<a.length;d+=1)x(t[d]);i=!0}},o(u){for(let d=0;d<t.length;d+=1)oe(t[d]);i=!1},d(u){u&&G(e);for(let d=0;d<t.length;d+=1)t[d].d()}}}function wa(n){let e,t=[],l=new fl,o,i,a,r,u,d,g,w=be(n[13]);const p=m=>m[225].id;for(let m=0;m<w.length;m+=1){let b=lr(n,w,m),y=p(b);l.set(y,t[m]=br(y,b))}let _=n[6].enableTopSites&&n[11].length>0&&kr(n);return{c(){e=k("div");for(let m=0;m<t.length;m+=1)t[m].c();o=L(),_&&_.c(),i=L(),a=k("article"),r=k("button"),r.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',s(r,"class","add-button"),s(r,"type","button"),s(r,"aria-label","Add new bookmark shortcut"),s(a,"class","tile add-tile"),s(a,"draggable","false"),s(e,"id","dial-grid"),s(e,"class","grid"),s(e,"aria-label","Bookmark Dial links"),s(e,"tabindex","-1"),s(e,"role","group")},m(m,b){W(m,e,b);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null);f(e,o),_&&_.m(e,null),f(e,i),f(e,a),f(a,r),n[132](e),u=!0,d||(g=q(r,"click",n[88]),d=!0)},p(m,b){b[0]&67121216|b[1]&384|b[2]&1676677504&&(w=be(m[13]),Ye(),t=Xt(t,b,p,1,m,w,l,e,yn,br,o,lr),Ze()),m[6].enableTopSites&&m[11].length>0?_?(_.p(m,b),b[0]&2112&&x(_,1)):(_=kr(m),_.c(),x(_,1),_.m(e,i)):_&&(Ye(),oe(_,1,1,()=>{_=null}),Ze())},i(m){if(!u){for(let b=0;b<w.length;b+=1)x(t[b]);x(_),u=!0}},o(m){for(let b=0;b<t.length;b+=1)oe(t[b]);oe(_),u=!1},d(m){m&&G(e);for(let b=0;b<t.length;b+=1)t[b].d();_&&_.d(),n[132](null),d=!1,g()}}}function ya(n){let e,t=n[228].label+"",l,o,i,a=n[228].fullPath&&n[228].fullPath!==n[228].label&&gr(n);return{c(){e=k("h4"),l=fe(t),o=L(),a&&a.c(),i=dt(),s(e,"class","folder-section__title")},m(r,u){W(r,e,u),f(e,l),W(r,o,u),a&&a.m(r,u),W(r,i,u)},p(r,u){u[1]&512&&t!==(t=r[228].label+"")&&De(l,t),r[228].fullPath&&r[228].fullPath!==r[228].label?a?a.p(r,u):(a=gr(r),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},d(r){r&&(G(e),G(o),G(i)),a&&a.d(r)}}}function Sa(n){let e,t=n[228].label+"",l,o;return{c(){e=k("h4"),l=fe(t),s(e,"class","folder-section__title"),s(e,"title",o=n[228].fullPath)},m(i,a){W(i,e,a),f(e,l)},p(i,a){a[1]&512&&t!==(t=i[228].label+"")&&De(l,t),a[1]&512&&o!==(o=i[228].fullPath)&&s(e,"title",o)},d(i){i&&G(e)}}}function gr(n){let e,t=n[228].fullPath+"",l;return{c(){e=k("p"),l=fe(t),s(e,"class","folder-section__path")},m(o,i){W(o,e,i),f(e,l)},p(o,i){i[1]&512&&t!==(t=o[228].fullPath+"")&&De(l,t)},d(o){o&&G(e)}}}function va(n){let e,t,l,o,i,a;function r(){return n[142](n[228])}return{c(){e=k("div"),t=k("article"),l=k("button"),l.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',s(l,"class","add-button"),s(l,"type","button"),s(t,"class","tile add-tile"),s(t,"draggable","false"),s(e,"class","grid folder-section__grid"),s(e,"role","group"),s(e,"aria-label",o=`Shortcuts in ${n[228].fullPath||n[228].label}`)},m(u,d){W(u,e,d),f(e,t),f(t,l),i||(a=q(l,"click",r),i=!0)},p(u,d){n=u,d[1]&512&&o!==(o=`Shortcuts in ${n[228].fullPath||n[228].label}`)&&s(e,"aria-label",o)},i:ce,o:ce,d(u){u&&G(e),i=!1,a()}}}function Ia(n){let e,t=[],l=new fl,o,i,a,r,u,d,g,w=be(n[228].items);const p=m=>m[225].id;for(let m=0;m<w.length;m+=1){let b=tr(n,w,m),y=p(b);l.set(y,t[m]=mr(y,b))}function _(){return n[141](n[228])}return{c(){e=k("div");for(let m=0;m<t.length;m+=1)t[m].c();o=L(),i=k("article"),a=k("button"),a.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',s(a,"class","add-button"),s(a,"type","button"),s(i,"class","tile add-tile"),s(i,"draggable","false"),s(e,"class","grid folder-section__grid"),s(e,"role","group"),s(e,"aria-label",r=`Shortcuts in ${n[228].fullPath||n[228].label}`)},m(m,b){W(m,e,b);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null);f(e,o),f(e,i),f(i,a),u=!0,d||(g=q(a,"click",_),d=!0)},p(m,b){n=m,b[0]&67108928|b[1]&896|b[2]&1675628928&&(w=be(n[228].items),Ye(),t=Xt(t,b,p,1,n,w,l,e,yn,mr,o,tr),Ze()),(!u||b[1]&512&&r!==(r=`Shortcuts in ${n[228].fullPath||n[228].label}`))&&s(e,"aria-label",r)},i(m){if(!u){for(let b=0;b<w.length;b+=1)x(t[b]);u=!0}},o(m){for(let b=0;b<t.length;b+=1)oe(t[b]);u=!1},d(m){m&&G(e);for(let b=0;b<t.length;b+=1)t[b].d();d=!1,g()}}}function mr(n,e){var _,m;let t,l,o;function i(){return e[133](e[225])}function a(){return e[134](e[225])}function r(){return e[135](e[225])}function u(){return e[136](e[225])}function d(...b){return e[137](e[225],...b)}function g(...b){return e[138](e[225],e[228],...b)}function w(...b){return e[139](e[225],...b)}function p(...b){return e[140](e[225],...b)}return l=new go({props:{bookmark:e[225],titleBackdrop:e[6].titleBackdrop,menuOpen:e[26]===e[225].id,focused:!1,dragging:((_=e[38])==null?void 0:_.id)===e[225].id,dragOver:((m=e[39])==null?void 0:m.id)===e[225].id,onToggleMenu:i,onEdit:a,onRemove:r,onFallback:u,onContextMenu:d,onFocus:za,onDragStart:g,onDragOver:w,onDragLeave:e[85],onDrop:p,onDragEnd:e[87],getFaviconUrl:mo}}),{key:n,first:null,c(){t=dt(),Nt(l.$$.fragment),this.first=t},m(b,y){W(b,t,y),Tt(l,b,y),o=!0},p(b,y){var C,N;e=b;const B={};y[1]&512&&(B.bookmark=e[225]),y[0]&64&&(B.titleBackdrop=e[6].titleBackdrop),y[0]&67108864|y[1]&512&&(B.menuOpen=e[26]===e[225].id),y[1]&640&&(B.dragging=((C=e[38])==null?void 0:C.id)===e[225].id),y[1]&768&&(B.dragOver=((N=e[39])==null?void 0:N.id)===e[225].id),y[1]&512&&(B.onToggleMenu=i),y[1]&512&&(B.onEdit=a),y[1]&512&&(B.onRemove=r),y[1]&512&&(B.onFallback=u),y[1]&512&&(B.onContextMenu=d),y[1]&512&&(B.onDragStart=g),y[1]&512&&(B.onDragOver=w),y[1]&512&&(B.onDrop=p),l.$set(B)},i(b){o||(x(l.$$.fragment,b),o=!0)},o(b){oe(l.$$.fragment,b),o=!1},d(b){b&&G(t),Mt(l,b)}}}function pr(n,e){let t,l,o,i,a,r,u,d;function g(y,B){return y[6].compactFolderHeader?Sa:ya}let w=g(e),p=w(e);const _=[Ia,va],m=[];function b(y,B){return y[228].items.length?0:1}return a=b(e),r=m[a]=_[a](e),{key:n,first:null,c(){t=k("section"),l=k("header"),o=k("div"),p.c(),i=L(),r.c(),u=L(),s(o,"class","folder-section__titles"),s(l,"class","folder-section__header"),s(t,"class","folder-section"),this.first=t},m(y,B){W(y,t,B),f(t,l),f(l,o),p.m(o,null),f(t,i),m[a].m(t,null),f(t,u),d=!0},p(y,B){e=y,w===(w=g(e))&&p?p.p(e,B):(p.d(1),p=w(e),p&&(p.c(),p.m(o,null)));let C=a;a=b(e),a===C?m[a].p(e,B):(Ye(),oe(m[C],1,1,()=>{m[C]=null}),Ze(),r=m[a],r?r.p(e,B):(r=m[a]=_[a](e),r.c()),x(r,1),r.m(t,u))},i(y){d||(x(r),d=!0)},o(y){oe(r),d=!1},d(y){y&&G(t),p.d(),m[a].d()}}}function br(n,e){var m,b;let t,l,o;function i(){return e[122](e[225])}function a(){return e[123](e[225])}function r(){return e[124](e[225])}function u(){return e[125](e[225])}function d(...y){return e[126](e[225],...y)}function g(){return e[127](e[227])}function w(...y){return e[128](e[225],...y)}function p(...y){return e[129](e[225],...y)}function _(...y){return e[130](e[225],...y)}return l=new go({props:{bookmark:e[225],titleBackdrop:e[6].titleBackdrop,menuOpen:e[26]===e[225].id,focused:e[12]===e[227],dragging:((m=e[38])==null?void 0:m.id)===e[225].id,dragOver:((b=e[39])==null?void 0:b.id)===e[225].id,onToggleMenu:i,onEdit:a,onRemove:r,onFallback:u,onContextMenu:d,onFocus:g,onDragStart:w,onDragOver:p,onDragLeave:e[85],onDrop:_,onDragEnd:e[87],getFaviconUrl:mo}}),{key:n,first:null,c(){t=dt(),Nt(l.$$.fragment),this.first=t},m(y,B){W(y,t,B),Tt(l,y,B),o=!0},p(y,B){var N,j;e=y;const C={};B[0]&8192&&(C.bookmark=e[225]),B[0]&64&&(C.titleBackdrop=e[6].titleBackdrop),B[0]&67117056&&(C.menuOpen=e[26]===e[225].id),B[0]&12288&&(C.focused=e[12]===e[227]),B[0]&8192|B[1]&128&&(C.dragging=((N=e[38])==null?void 0:N.id)===e[225].id),B[0]&8192|B[1]&256&&(C.dragOver=((j=e[39])==null?void 0:j.id)===e[225].id),B[0]&8192&&(C.onToggleMenu=i),B[0]&8192&&(C.onEdit=a),B[0]&8192&&(C.onRemove=r),B[0]&8192&&(C.onFallback=u),B[0]&8192&&(C.onContextMenu=d),B[0]&8192&&(C.onFocus=g),B[0]&8192&&(C.onDragStart=w),B[0]&8192&&(C.onDragOver=p),B[0]&8192&&(C.onDrop=_),l.$set(C)},i(y){o||(x(l.$$.fragment,y),o=!0)},o(y){oe(l.$$.fragment,y),o=!1},d(y){y&&G(t),Mt(l,y)}}}function kr(n){let e=[],t=new fl,l,o,i=be(n[11]);const a=r=>r[222].id;for(let r=0;r<i.length;r+=1){let u=nr(n,i,r),d=a(u);t.set(d,e[r]=_r(d,u))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=dt()},m(r,u){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(r,u);W(r,l,u),o=!0},p(r,u){u[0]&14400|u[2]&1048576&&(i=be(r[11]),Ye(),e=Xt(e,u,a,1,r,i,t,l.parentNode,yn,_r,l,nr),Ze())},i(r){if(!o){for(let u=0;u<i.length;u+=1)x(e[u]);o=!0}},o(r){for(let u=0;u<e.length;u+=1)oe(e[u]);o=!1},d(r){r&&G(l);for(let u=0;u<e.length;u+=1)e[u].d(r)}}}function _r(n,e){let t,l,o;function i(){return e[131](e[224])}return l=new go({props:{bookmark:e[222],titleBackdrop:e[6].titleBackdrop,menuOpen:!1,focused:e[12]===e[13].length+e[224],dragging:!1,dragOver:!1,onToggleMenu:Ma,onEdit:La,onRemove:Da,onFallback:Aa,onContextMenu:Pa,onFocus:i,onDragStart:Oa,onDragOver:ja,onDragLeave:Ra,onDrop:Na,onDragEnd:Ua,getFaviconUrl:mo,isTopSite:!0}}),{key:n,first:null,c(){t=dt(),Nt(l.$$.fragment),this.first=t},m(a,r){W(a,t,r),Tt(l,a,r),o=!0},p(a,r){e=a;const u={};r[0]&2048&&(u.bookmark=e[222]),r[0]&64&&(u.titleBackdrop=e[6].titleBackdrop),r[0]&14336&&(u.focused=e[12]===e[13].length+e[224]),r[0]&10240&&(u.onFocus=i),l.$set(u)},i(a){o||(x(l.$$.fragment,a),o=!0)},o(a){oe(l.$$.fragment,a),o=!1},d(a){a&&G(t),Mt(l,a)}}}function Ca(n){var _l;let e,t,l,o,i,a,r,u,d,g,w,p,_,m,b,y,B,C,N,j,I,V,P,z,A,K,X,Y,ge,pe,Z,he,qe,le,ne,O,Dt,ht,_t,tt,Xe,Fe,At,Ie,Oe,Ae,je,nt,Ne,xe,se,wt,lt,Ee,ye,Ce,ke,yt,$e,St,E,Qe,Ut,xt,zt,vt,Ht,It,Ct,qt,hl,Gt,Wt,Vn,_e,gt,$t,ot,Pt,re,en,mt,pn,Re,et,Bt,rt,Sn,Ot,vn,Vt,Kn,it,Qn,tn,Jn,bn,Ft,Yn,gl,cn,jt,un,kn,st,In,Cn,Zn,pt,Kt,Xn,Bn,xn,nn,$n,dn,Ue,el,ml,fn=be(n[44]),Te=[];for(let F=0;F<fn.length;F+=1)Te[F]=ar(sr(n,fn,F));let bt=be(n[41]),Ge=[];for(let F=0;F<bt.length;F+=1)Ge[F]=cr(ir(n,bt,F));let ln=n[45].length>Rl&&ma(n),hn=be(n[42]),ze=[];for(let F=0;F<hn.length;F+=1)ze[F]=ur(rr(n,hn,F));let We=n[46].length>jl&&pa(n);function pl(F,Q){return F[4].length===0?ka:ba}let Fn=pl(n),Je=Fn(n),Ve=!n[6].mergeAllBookmarks&&fr(n),Pe=n[6].enableBookmarkSearch&&hr(n);const bl=[wa,_a],Qt=[];function kl(F,Q){return F[6].mergeAllBookmarks?0:1}return Re=kl(n),et=Qt[Re]=bl[Re](n),rt=new Qs({props:{open:n[1],rootIds:n[43].rootIds??[],expandedIds:n[25],loadingIds:n[16],visibleIds:n[20],searchQuery:n[19],searchMatches:n[3],selectedIds:n[1]&&n[22]?n[22]:n[0],summary:n[1]?n[23]:n[4],selectedFolderCount:n[1]?((_l=n[22])==null?void 0:_l.size)??0:n[0].size,totalBookmarkCount:n[1]?n[24]:n[21],toggleSelection:n[61],toggleExpansion:n[62],getCheckboxState:n[67],onSearchChange:n[68],onRequestClose:n[66],onConfirmSelection:n[64],onClearSelection:n[63]}}),Ot=new Zs({props:{open:n[2],folders:n[17],defaultFolderId:n[18],onConfirm:n[89],onClose:n[90]}}),Vt=new sa({props:{open:n[32],onDismiss:n[73],onGetStarted:n[73]}}),it=new ua({props:{bookmark:n[35],position:n[34],visible:n[33]}}),it.$on("edit",n[78]),it.$on("remove",n[79]),it.$on("opennewtab",n[76]),it.$on("copyurl",n[77]),it.$on("close",n[75]),tn=new oa({props:{toasts:n[31],onDismiss:n[71],onUndo:n[72]}}),{c(){e=k("div"),t=L(),l=k("div"),o=k("button"),i=Lt("svg"),a=Lt("path"),r=Lt("path"),u=L(),d=k("aside"),g=k("header"),w=k("h2"),w.innerHTML=`<img src="/icons/icon-48.png" alt="Bookmark Dial" class="settings-drawer__brand-icon"/>
        Settings`,p=L(),_=k("button"),_.textContent="√ó",m=L(),b=k("section"),y=k("h3"),y.textContent="Theme",B=L(),C=k("div");for(let F=0;F<Te.length;F+=1)Te[F].c();N=L(),j=k("section"),I=k("h3"),I.textContent="Accent color",V=L(),P=k("div");for(let F=0;F<Ge.length;F+=1)Ge[F].c();z=L(),ln&&ln.c(),A=L(),K=k("section"),X=k("h3"),X.textContent="Tile titles",Y=L(),ge=k("label"),pe=k("input"),he=L(),qe=k("div"),qe.innerHTML='<span class="settings-toggle__label">Rounded backdrop</span>',le=L(),ne=k("section"),O=k("h3"),O.textContent="Gradient background",Dt=L(),ht=k("div");for(let F=0;F<ze.length;F+=1)ze[F].c();_t=L(),We&&We.c(),tt=L(),Xe=k("section"),Fe=k("button"),Fe.textContent="Custom background‚Ä¶",At=L(),Ie=k("section"),Oe=k("h3"),Oe.textContent="Folders",Ae=L(),je=k("div"),nt=k("div"),Je.c(),Ne=L(),xe=k("button"),xe.textContent="Manage folders",se=L(),wt=k("label"),lt=k("input"),ye=L(),Ce=k("div"),Ce.innerHTML='<span class="settings-toggle__label">Merge bookmarks from all folders</span> <span class="settings-toggle__description">Display all bookmarks in a single deduplicated grid.</span>',ke=L(),Ve&&Ve.c(),yt=L(),$e=k("section"),St=k("h3"),St.textContent="Experimental",E=L(),Qe=k("label"),Ut=k("input"),zt=L(),vt=k("div"),vt.innerHTML='<span class="settings-toggle__label">Bookmark search</span> <span class="settings-toggle__description">Press <kbd>/</kbd> to search bookmarks.</span>',Ht=L(),It=k("label"),Ct=k("input"),hl=L(),Gt=k("div"),Gt.innerHTML='<span class="settings-toggle__label">Show frequently visited</span> <span class="settings-toggle__description">Include your most visited sites alongside bookmarks.</span>',Vn=L(),_e=k("div"),$t=L(),ot=k("main"),Pe&&Pe.c(),Pt=L(),re=k("section"),en=fe(n[14]),pn=L(),et.c(),Bt=L(),Nt(rt.$$.fragment),Sn=L(),Nt(Ot.$$.fragment),vn=L(),Nt(Vt.$$.fragment),Kn=L(),Nt(it.$$.fragment),Qn=L(),Nt(tn.$$.fragment),Jn=L(),bn=k("dialog"),Ft=k("form"),Yn=k("header"),Yn.innerHTML="<h2>Custom background</h2>",gl=L(),cn=k("div"),jt=k("label"),un=k("span"),un.textContent="Choose an image (JPEG/PNG, up to 10¬†MB)",kn=L(),st=k("input"),In=L(),Cn=k("p"),Cn.textContent="The selected image is stored locally on this device only.",Zn=L(),pt=k("footer"),Kt=k("button"),Kt.textContent="Remove",Xn=L(),Bn=k("span"),xn=L(),nn=k("button"),nn.textContent="Cancel",$n=L(),dn=k("button"),dn.textContent="Save",s(e,"id","background-layer"),we(e,"visible",n[6].background.mode==="custom"&&!!n[27]),Dl(e,"background-image",n[6].background.mode==="custom"&&n[27]?`url(${n[27]})`:null),s(a,"d","M12 8.75a3.25 3.25 0 1 1 0 6.5 3.25 3.25 0 0 1 0-6.5Z"),s(a,"fill","none"),s(a,"stroke","currentColor"),s(a,"stroke-width","1.6"),s(r,"d","M21 12l-2.938 3.5-1.562 4.294L12 19l-4.5.794L5.938 15.5 3 12l2.938-3.5L7.5 4.206 12 5l4.5-.794L18.062 8.5 21 12Z"),s(r,"fill","none"),s(r,"stroke","currentColor"),s(r,"stroke-width","1.6"),s(r,"stroke-linecap","round"),s(r,"stroke-linejoin","round"),s(i,"class","icon-button__glyph"),s(i,"viewBox","0 0 24 24"),s(i,"aria-hidden","true"),s(i,"focusable","false"),s(i,"role","img"),s(o,"class","icon-button"),s(o,"type","button"),s(o,"title","Settings"),s(o,"aria-label","Open settings"),s(o,"aria-expanded",n[7]),s(o,"aria-controls","settings-drawer"),s(_,"type","button"),s(_,"class","settings-drawer__close"),s(_,"aria-label","Close settings"),s(g,"class","settings-drawer__header"),s(C,"class","choice-row"),s(b,"class","settings-group"),s(P,"class","accent-grid"),s(j,"class","settings-group"),s(pe,"type","checkbox"),pe.checked=Z=n[6].titleBackdrop,s(qe,"class","settings-toggle__body"),s(ge,"class","settings-toggle"),s(ge,"title","Adds a soft highlight behind each title for contrast."),s(K,"class","settings-group"),s(ht,"class","gradient-grid"),s(ne,"class","settings-group"),s(Fe,"type","button"),s(Fe,"class","custom-background-button"),s(Xe,"class","settings-group"),s(nt,"class","folder-bar__summary"),s(xe,"type","button"),s(xe,"class","ghost-button folder-bar__action"),s(je,"class","folder-bar"),s(lt,"type","checkbox"),lt.checked=Ee=n[6].mergeAllBookmarks,s(Ce,"class","settings-toggle__body"),s(wt,"class","settings-toggle folder-group-toggle"),s(Ie,"class","settings-group settings-group--folders"),s(Ut,"type","checkbox"),Ut.checked=xt=n[6].enableBookmarkSearch,s(vt,"class","settings-toggle__body"),s(Qe,"class","settings-toggle"),s(Ct,"type","checkbox"),Ct.checked=qt=n[6].enableTopSites,s(Gt,"class","settings-toggle__body"),s(It,"class","settings-toggle"),s($e,"class","settings-group"),s(d,"id","settings-drawer"),s(d,"class","settings-drawer"),s(d,"data-open",n[7]),s(d,"aria-hidden",Wt=!n[7]),s(d,"tabindex","-1"),s(_e,"class","settings-overlay"),s(_e,"aria-hidden",gt=!n[7]),we(_e,"visible",n[7]),s(re,"id","status"),s(re,"role","status"),s(re,"aria-live","polite"),s(re,"data-tone",mt=n[14]?n[15]:null),s(l,"class","page"),s(st,"type","file"),s(st,"accept","image/png,image/jpeg,image/jpg"),s(jt,"class","file-picker"),s(Cn,"class","hint"),s(cn,"class","dialog-body"),s(Kt,"type","button"),s(Kt,"id","clear-background"),s(Kt,"class","ghost-button"),s(Bn,"class","spacer"),s(nn,"type","button"),s(nn,"id","cancel-background"),s(dn,"type","submit"),s(dn,"id","save-background"),s(pt,"class","dialog-footer"),s(Ft,"id","background-form"),s(Ft,"method","dialog")},m(F,Q){W(F,e,Q),W(F,t,Q),W(F,l,Q),f(l,o),f(o,i),f(i,a),f(i,r),n[111](o),f(l,u),f(l,d),f(d,g),f(g,w),f(g,p),f(g,_),f(d,m),f(d,b),f(b,y),f(b,B),f(b,C);for(let Se=0;Se<Te.length;Se+=1)Te[Se]&&Te[Se].m(C,null);f(d,N),f(d,j),f(j,I),f(j,V),f(j,P);for(let Se=0;Se<Ge.length;Se+=1)Ge[Se]&&Ge[Se].m(P,null);f(j,z),ln&&ln.m(j,null),f(d,A),f(d,K),f(K,X),f(K,Y),f(K,ge),f(ge,pe),f(ge,he),f(ge,qe),f(d,le),f(d,ne),f(ne,O),f(ne,Dt),f(ne,ht);for(let Se=0;Se<ze.length;Se+=1)ze[Se]&&ze[Se].m(ht,null);f(ne,_t),We&&We.m(ne,null),f(d,tt),f(d,Xe),f(Xe,Fe),f(d,At),f(d,Ie),f(Ie,Oe),f(Ie,Ae),f(Ie,je),f(je,nt),Je.m(nt,null),f(je,Ne),f(je,xe),f(Ie,se),f(Ie,wt),f(wt,lt),f(wt,ye),f(wt,Ce),f(Ie,ke),Ve&&Ve.m(Ie,null),f(d,yt),f(d,$e),f($e,St),f($e,E),f($e,Qe),f(Qe,Ut),f(Qe,zt),f(Qe,vt),f($e,Ht),f($e,It),f(It,Ct),f(It,hl),f(It,Gt),n[121](d),f(l,Vn),f(l,_e),f(l,$t),f(l,ot),Pe&&Pe.m(ot,null),f(ot,Pt),f(ot,re),f(re,en),f(ot,pn),Qt[Re].m(ot,null),f(l,Bt),Tt(rt,l,null),f(l,Sn),Tt(Ot,l,null),f(l,vn),Tt(Vt,l,null),f(l,Kn),Tt(it,l,null),f(l,Qn),Tt(tn,l,null),W(F,Jn,Q),W(F,bn,Q),f(bn,Ft),f(Ft,Yn),f(Ft,gl),f(Ft,cn),f(cn,jt),f(jt,un),f(jt,kn),f(jt,st),n[143](st),f(cn,In),f(cn,Cn),f(Ft,Zn),f(Ft,pt),f(pt,Kt),f(pt,Xn),f(pt,Bn),f(pt,xn),f(pt,nn),f(pt,$n),f(pt,dn),n[144](bn),Ue=!0,el||(ml=[q(o,"click",n[50]),q(_,"click",n[49]),q(pe,"change",n[114]),q(Fe,"click",n[60]),q(xe,"click",n[65]),q(lt,"change",n[116]),q(Ut,"change",n[119]),q(Ct,"change",n[120]),q(d,"click",fs(n[110])),q(_e,"pointerdown",n[49]),q(Kt,"click",no(n[94])),q(nn,"click",no(n[95])),q(Ft,"submit",n[93])],el=!0)},p(F,Q){var Ln;if((!Ue||Q[0]&134217792)&&we(e,"visible",F[6].background.mode==="custom"&&!!F[27]),Q[0]&134217792&&Dl(e,"background-image",F[6].background.mode==="custom"&&F[27]?`url(${F[27]})`:null),(!Ue||Q[0]&128)&&s(o,"aria-expanded",F[7]),Q[0]&64|Q[1]&1056768){fn=be(F[44]);let $;for($=0;$<fn.length;$+=1){const Ke=sr(F,fn,$);Te[$]?Te[$].p(Ke,Q):(Te[$]=ar(Ke),Te[$].c(),Te[$].m(C,null))}for(;$<Te.length;$+=1)Te[$].d(1);Te.length=fn.length}if(Q[0]&64|Q[1]&2098176){bt=be(F[41]);let $;for($=0;$<bt.length;$+=1){const Ke=ir(F,bt,$);Ge[$]?Ge[$].p(Ke,Q):(Ge[$]=cr(Ke),Ge[$].c(),Ge[$].m(P,null))}for(;$<Ge.length;$+=1)Ge[$].d(1);Ge.length=bt.length}if(F[45].length>Rl&&ln.p(F,Q),(!Ue||Q[0]&64&&Z!==(Z=F[6].titleBackdrop))&&(pe.checked=Z),Q[0]&64|Q[1]&268437504){hn=be(F[42]);let $;for($=0;$<hn.length;$+=1){const Ke=rr(F,hn,$);ze[$]?ze[$].p(Ke,Q):(ze[$]=ur(Ke),ze[$].c(),ze[$].m(ht,null))}for(;$<ze.length;$+=1)ze[$].d(1);ze.length=hn.length}F[46].length>jl&&We.p(F,Q),Fn===(Fn=pl(F))&&Je?Je.p(F,Q):(Je.d(1),Je=Fn(F),Je&&(Je.c(),Je.m(nt,null))),(!Ue||Q[0]&64&&Ee!==(Ee=F[6].mergeAllBookmarks))&&(lt.checked=Ee),F[6].mergeAllBookmarks?Ve&&(Ve.d(1),Ve=null):Ve?Ve.p(F,Q):(Ve=fr(F),Ve.c(),Ve.m(Ie,null)),(!Ue||Q[0]&64&&xt!==(xt=F[6].enableBookmarkSearch))&&(Ut.checked=xt),(!Ue||Q[0]&64&&qt!==(qt=F[6].enableTopSites))&&(Ct.checked=qt),(!Ue||Q[0]&128)&&s(d,"data-open",F[7]),(!Ue||Q[0]&128&&Wt!==(Wt=!F[7]))&&s(d,"aria-hidden",Wt),(!Ue||Q[0]&128&&gt!==(gt=!F[7]))&&s(_e,"aria-hidden",gt),(!Ue||Q[0]&128)&&we(_e,"visible",F[7]),F[6].enableBookmarkSearch?Pe?(Pe.p(F,Q),Q[0]&64&&x(Pe,1)):(Pe=hr(F),Pe.c(),x(Pe,1),Pe.m(ot,Pt)):Pe&&(Ye(),oe(Pe,1,1,()=>{Pe=null}),Ze()),(!Ue||Q[0]&16384)&&De(en,F[14]),(!Ue||Q[0]&49152&&mt!==(mt=F[14]?F[15]:null))&&s(re,"data-tone",mt);let Se=Re;Re=kl(F),Re===Se?Qt[Re].p(F,Q):(Ye(),oe(Qt[Se],1,1,()=>{Qt[Se]=null}),Ze(),et=Qt[Re],et?et.p(F,Q):(et=Qt[Re]=bl[Re](F),et.c()),x(et,1),et.m(ot,null));const Me={};Q[0]&2&&(Me.open=F[1]),Q[1]&4096&&(Me.rootIds=F[43].rootIds??[]),Q[0]&33554432&&(Me.expandedIds=F[25]),Q[0]&65536&&(Me.loadingIds=F[16]),Q[0]&1048576&&(Me.visibleIds=F[20]),Q[0]&524288&&(Me.searchQuery=F[19]),Q[0]&8&&(Me.searchMatches=F[3]),Q[0]&4194307&&(Me.selectedIds=F[1]&&F[22]?F[22]:F[0]),Q[0]&8388626&&(Me.summary=F[1]?F[23]:F[4]),Q[0]&4194307&&(Me.selectedFolderCount=F[1]?((Ln=F[22])==null?void 0:Ln.size)??0:F[0].size),Q[0]&18874370&&(Me.totalBookmarkCount=F[1]?F[24]:F[21]),rt.$set(Me);const En={};Q[0]&4&&(En.open=F[2]),Q[0]&131072&&(En.folders=F[17]),Q[0]&262144&&(En.defaultFolderId=F[18]),Ot.$set(En);const wl={};Q[1]&2&&(wl.open=F[32]),Vt.$set(wl);const Tn={};Q[1]&16&&(Tn.bookmark=F[35]),Q[1]&8&&(Tn.position=F[34]),Q[1]&4&&(Tn.visible=F[33]),it.$set(Tn);const Mn={};Q[1]&1&&(Mn.toasts=F[31]),tn.$set(Mn)},i(F){Ue||(x(Pe),x(et),x(rt.$$.fragment,F),x(Ot.$$.fragment,F),x(Vt.$$.fragment,F),x(it.$$.fragment,F),x(tn.$$.fragment,F),Ue=!0)},o(F){oe(Pe),oe(et),oe(rt.$$.fragment,F),oe(Ot.$$.fragment,F),oe(Vt.$$.fragment,F),oe(it.$$.fragment,F),oe(tn.$$.fragment,F),Ue=!1},d(F){F&&(G(e),G(t),G(l),G(Jn),G(bn)),n[111](null),xl(Te,F),xl(Ge,F),ln&&ln.d(),xl(ze,F),We&&We.d(),Je.d(),Ve&&Ve.d(),n[121](null),Pe&&Pe.d(),Qt[Re].d(),Mt(rt),Mt(Ot),Mt(Vt),Mt(it),Mt(tn),n[143](null),n[144](null),el=!1,He(ml)}}}const Ba=64,El="customBackgroundImage",rl="uiPreferences",Rn="dialPreferences",Nn=2,eo="hasSeenWelcome",jl=6,Rl=10;function wr(n=[],e=[]){return n.length!==e.length?!1:n.every((t,l)=>t===e[l])}function Fa(n={}){const e=Array.isArray(n.selectedIds)?n.selectedIds.filter(Boolean):[],t=Array.isArray(n.expandedIds)?n.expandedIds.filter(Boolean):[];return{selectedIds:Array.from(new Set(e)),expandedIds:Array.from(new Set(t))}}function Un(n,e){if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function yr(n,e){const t=[...n];if(!e)return t;const l=t.findIndex(i=>i.id===e);if(l<=0)return t;const[o]=t.splice(l,1);return[o,...t]}function so(n,e,t=[],l=!0){const o=n.nodesById[e];return!o||!o.isFolder||(o.childrenIds??[]).forEach(a=>{const r=n.nodesById[a];r&&(r.url?t.push(r):l&&so(n,a,t,!0))}),t}function Sr(n){const e=n.title||n.url;return{...n,displayTitle:e,initials:Hr(e),palette:qr(e),fallback:!1}}async function mo(n){try{const e=new URL(chrome.runtime.getURL("/_favicon/"));e.searchParams.set("pageUrl",n),e.searchParams.set("size",Ba.toString());const t=await fetch(e.toString());if(!t.ok)return"";const l=await t.blob();return new Promise(o=>{const i=new FileReader;i.onloadend=()=>o(i.result),i.onerror=()=>o(""),i.readAsDataURL(l)})}catch{return""}}function vr(n=[],e){let t=!1;return{next:n.map(o=>o.id!==e||o.fallback?o:(t=!0,{...o,fallback:!0})),changed:t}}function Tl(n){try{return new URL(n).href}catch{try{return new URL(`https://${n}`).href}catch{return null}}}function il(n){try{return new URL(n).hostname.replace(/^www\./i,"")}catch{return n}}function Hr(n){return n?n.trim().split(/\s+/)[0].slice(0,2).toUpperCase():"‚Ä¢"}function Ea(n,e){let t;return(...l)=>{clearTimeout(t),t=setTimeout(()=>n(...l),e)}}function qr(n){const e=(n||"").trim().toLowerCase();if(!e)return{background:"linear-gradient(145deg, #fde68a, #fbbf24)",text:"rgba(15, 23, 42, 0.85)"};let t=0,l=0,o=0;for(let b=0;b<e.length;b++){const y=e.charCodeAt(b),B=b+1;t+=y*B,l+=y*(B+1.5),o+=y*(B+2.5)}const i=to(t,360),a=to(l,36)-18,r=to(i+24+a,360),u=52+Math.abs(l)%30,d=42+Math.abs(o)%20,g=Math.min(96,u+8),w=Math.min(78,d+12),p=`hsl(${i}, ${u}%, ${d}%)`,_=`hsl(${r}, ${g}%, ${w}%)`,m=d>54?"rgba(30, 41, 59, 0.85)":"rgba(255, 255, 255, 0.88)";return{background:`linear-gradient(140deg, ${p}, ${_})`,text:m}}function to(n,e){return(n%e+e)%e}function Ta(n,e){return new Promise((t,l)=>{if(n.size>e){l(new Error("File exceeds size limit"));return}const o=new FileReader;o.onload=()=>t(o.result),o.onerror=()=>l(o.error||new Error("Failed to read file")),o.readAsDataURL(n)})}const Ma=()=>{},La=()=>{},Da=()=>{},Aa=()=>{},Pa=()=>{},Oa=()=>{},ja=()=>{},Ra=()=>{},Na=()=>{},Ua=()=>{},za=()=>{};function Ha(n,e,t){var _o,wo,yo,So;let l,o,i,a,r,u,d;Br(n,jr,c=>t(43,d=c));const g={loading:"Loading Bookmark Dial‚Ä¶",empty:"No bookmarks yet. Add shortcuts from this page or the bookmark manager.",error:"Bookmark Dial folder is unavailable. Try reopening the tab or reinstalling the extension."},w={selectedIds:[],expandedIds:[]},p=10*1024*1024,_=[{id:"dark",label:"Dark"},{id:"light",label:"Light"},{id:"system",label:"System"}],m=[{id:"cobalt",label:"Cobalt",colors:{base:"#2563eb",contrast:"#f8fafc",soft:"rgba(37, 99, 235, 0.14)",border:"rgba(37, 99, 235, 0.45)"}},{id:"violet",label:"Violet",colors:{base:"#8b5cf6",contrast:"#faf5ff",soft:"rgba(139, 92, 246, 0.16)",border:"rgba(139, 92, 246, 0.45)"}},{id:"emerald",label:"Emerald",colors:{base:"#059669",contrast:"#ecfdf5",soft:"rgba(5, 150, 105, 0.14)",border:"rgba(5, 150, 105, 0.45)"}},{id:"amber",label:"Amber",colors:{base:"#d97706",contrast:"#fffbeb",soft:"rgba(217, 119, 6, 0.18)",border:"rgba(217, 119, 6, 0.5)"}},{id:"rose",label:"Rose",colors:{base:"#e11d48",contrast:"#fff1f2",soft:"rgba(225, 29, 72, 0.16)",border:"rgba(225, 29, 72, 0.45)"}},{id:"slate",label:"Slate",colors:{base:"#475569",contrast:"#f8fafc",soft:"rgba(71, 85, 105, 0.18)",border:"rgba(71, 85, 105, 0.5)"}},{id:"sky",label:"Sky",colors:{base:"#0284c7",contrast:"#e0f2fe",soft:"rgba(2, 132, 199, 0.16)",border:"rgba(2, 132, 199, 0.45)"}},{id:"blush",label:"Blush",colors:{base:"#ec4899",contrast:"#fff0f6",soft:"rgba(236, 72, 153, 0.18)",border:"rgba(236, 72, 153, 0.5)"}},{id:"moss",label:"Moss",colors:{base:"#4d7c0f",contrast:"#ecfccb",soft:"rgba(77, 124, 15, 0.18)",border:"rgba(77, 124, 15, 0.5)"}},{id:"bronze",label:"Bronze",colors:{base:"#b45309",contrast:"#fff7ed",soft:"rgba(180, 83, 9, 0.2)",border:"rgba(180, 83, 9, 0.55)"}},{id:"orchid",label:"Orchid",colors:{base:"#c026d3",contrast:"#fdf4ff",soft:"rgba(192, 38, 211, 0.18)",border:"rgba(192, 38, 211, 0.5)"}},{id:"mint",label:"Mint",colors:{base:"#14b8a6",contrast:"#e0fefa",soft:"rgba(20, 184, 166, 0.16)",border:"rgba(20, 184, 166, 0.46)"}},{id:"graphite",label:"Graphite",colors:{base:"#1f2937",contrast:"#f8fafc",soft:"rgba(31, 41, 55, 0.22)",border:"rgba(31, 41, 55, 0.6)"}},{id:"sunset",label:"Sunset",colors:{base:"#ea580c",contrast:"#fff7ed",soft:"rgba(234, 88, 12, 0.18)",border:"rgba(234, 88, 12, 0.52)"}},{id:"glacier",label:"Glacier",colors:{base:"#0ea5e9",contrast:"#f0f9ff",soft:"rgba(14, 165, 233, 0.16)",border:"rgba(14, 165, 233, 0.45)"}},{id:"amethyst",label:"Amethyst",colors:{base:"#6d28d9",contrast:"#f5f3ff",soft:"rgba(109, 40, 217, 0.18)",border:"rgba(109, 40, 217, 0.5)"}},{id:"sand",label:"Sand",colors:{base:"#ca8a04",contrast:"#fffbeb",soft:"rgba(202, 138, 4, 0.2)",border:"rgba(202, 138, 4, 0.5)"}},{id:"cranberry",label:"Cranberry",colors:{base:"#be123c",contrast:"#fff1f5",soft:"rgba(190, 18, 60, 0.18)",border:"rgba(190, 18, 60, 0.5)"}}],b=[{id:"aurora",label:"Aurora",gradients:{light:"linear-gradient(135deg, #d8b4fe 0%, #6366f1 50%, #22d3ee 100%)",dark:"linear-gradient(135deg, #312e81 0%, #1e3a8a 50%, #0f172a 100%)"},accent:"violet"},{id:"sunrise",label:"Sunrise",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 50%, #f97316 100%)",dark:"linear-gradient(135deg, #7c2d12 0%, #c2410c 45%, #ea580c 100%)"},accent:"amber"},{id:"forest",label:"Forest",gradients:{light:"linear-gradient(135deg, #bbf7d0 0%, #34d399 50%, #0f766e 100%)",dark:"linear-gradient(135deg, #064e3b 0%, #059669 50%, #0f172a 100%)"},accent:"emerald"},{id:"ocean",label:"Ocean",gradients:{light:"linear-gradient(135deg, #bae6fd 0%, #38bdf8 50%, #0ea5e9 100%)",dark:"linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #082f49 100%)"},accent:"sky"},{id:"twilight",label:"Twilight",gradients:{light:"linear-gradient(135deg, #fecdd3 0%, #fda4af 50%, #fb7185 100%)",dark:"linear-gradient(135deg, #7f1d1d 0%, #be123c 50%, #9f1239 100%)"},accent:"orchid"},{id:"slate",label:"Slate",gradients:{light:"linear-gradient(135deg, #e2e8f0 0%, #cbd5f5 50%, #94a3b8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #0f172a 50%, #020617 100%)"},accent:"slate"},{id:"blossom",label:"Blossom",gradients:{light:"linear-gradient(135deg, #ffe4e6 0%, #fbcfe8 45%, #f472b6 100%)",dark:"linear-gradient(135deg, #831843 0%, #9d174d 50%, #701a75 100%)"},accent:"blush"},{id:"lagoon",label:"Lagoon",gradients:{light:"linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 40%, #5eead4 100%)",dark:"linear-gradient(135deg, #022c22 0%, #0d9488 45%, #14b8a6 100%)"},accent:"mint"},{id:"ember",label:"Ember",gradients:{light:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 40%, #fb7185 100%)",dark:"linear-gradient(135deg, #450a0a 0%, #9f1239 50%, #be123c 100%)"},accent:"rose"},{id:"lilac",label:"Lilac",gradients:{light:"linear-gradient(135deg, #f5f3ff 0%, #ede9fe 45%, #d8b4fe 100%)",dark:"linear-gradient(135deg, #312e81 0%, #5b21b6 50%, #7c3aed 100%)"},accent:"violet"},{id:"zenith",label:"Zenith",gradients:{light:"linear-gradient(135deg, #e0f2fe 0%, #dbeafe 45%, #818cf8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #1f3b8a 45%, #3730a3 100%)"},accent:"cobalt"},{id:"sage",label:"Sage",gradients:{light:"linear-gradient(135deg, #ecfccb 0%, #bbf7d0 45%, #84cc16 100%)",dark:"linear-gradient(135deg, #052e16 0%, #166534 45%, #15803d 100%)"},accent:"moss"},{id:"velvet",label:"Velvet",gradients:{light:"linear-gradient(135deg, #fdf4ff 0%, #f5d0fe 45%, #f0abfc 100%)",dark:"linear-gradient(135deg, #4a044e 0%, #6b21a8 45%, #86198f 100%)"},accent:"orchid"},{id:"citrus",label:"Citrus",gradients:{light:"linear-gradient(135deg, #fefce8 0%, #fef08a 45%, #facc15 100%)",dark:"linear-gradient(135deg, #422006 0%, #854d0e 50%, #b45309 100%)"},accent:"amber"},{id:"glacier",label:"Glacier",gradients:{light:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 45%, #bae6fd 100%)",dark:"linear-gradient(135deg, #082f49 0%, #0c4a6e 45%, #0284c7 100%)"},accent:"sky"},{id:"terracotta",label:"Terracotta",gradients:{light:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 45%, #f97316 100%)",dark:"linear-gradient(135deg, #431407 0%, #7c2d12 45%, #9a3412 100%)"},accent:"bronze"},{id:"nocturne",label:"Nocturne",gradients:{light:"linear-gradient(135deg, #ede9fe 0%, #c7d2fe 45%, #4338ca 100%)",dark:"linear-gradient(135deg, #020617 0%, #111827 45%, #312e81 100%)"},accent:"slate"},{id:"horizon",label:"Horizon",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 40%, #60a5fa 100%)",dark:"linear-gradient(135deg, #451a03 0%, #9a3412 45%, #1d4ed8 100%)"},accent:"cobalt"}],y=b[0],C={theme:"system",accent:y!=null&&y.accent&&m.some(c=>c.id===y.accent)?y.accent:m[0].id,background:{mode:"gradient",gradientId:(y==null?void 0:y.id)??b[0].id},titleBackdrop:!1,mergeAllBookmarks:!0,folderColumnWidth:1170,compactFolderHeader:!0,enableBookmarkSearch:!1,enableTopSites:!1,lastShortcutFolderId:null},N={...C,folderSelection:{...w},version:Nn},j=typeof chrome<"u"?chrome:null,I=(_o=j==null?void 0:j.runtime)!=null&&_o.id?j:ui(),V=!!((wo=j==null?void 0:j.runtime)!=null&&wo.id),P=!!((yo=j==null?void 0:j.storage)!=null&&yo.local)&&V,z=!!((So=j==null?void 0:j.storage)!=null&&So.sync)&&V;let A=g.loading,K="info",X=[],Y=[],ge=new Set,pe=null,Z=new Set,he=new Set,qe=new Set,le=!1,ne=!1,O=!1,Dt=null,ht=[],_t=null,tt="",Xe=new Set,Fe=null,At=[],Ie=new Map,Oe=0,Ae=null,je=null,nt=[],Ne=new Map,xe=0,se=!1,wt=new Set,lt=0,Ee=0,ye=null,Ce="",ke,yt,$e,St,E=Sn(),Qe=!1,Ut=!0,xt=!1,zt=!1,vt=!1,Ht=!1,It=[...m],Ct=[...b],qt=[],hl=0,Gt=!1,Wt=!1,Vn={x:0,y:0},_e=null,gt="",$t=!1,ot=[],Pt=!1,re=-1,en=null,mt=null,pn=null,Re=null,et=null,Bt=null;const rt=[];ws(()=>{var c,h;if((async()=>{try{await el()}catch(S){console.error("Bookmark Dial: failed to load settings",S),t(6,E=Sn()),t(104,zt=P),jt(E.theme),un(E.accent),kn(E.background.gradientId)}try{await ai()}catch(S){console.error("Bookmark Dial: failed to load background",S)}t(102,Ut=!1),await Wr(),ml()})(),typeof window<"u"){const S=T=>{const R=T.target;if(!(R instanceof HTMLInputElement||R instanceof HTMLTextAreaElement)){if(Wt&&T.key==="Escape"){gn(),T.stopPropagation();return}if(T.key==="Escape"){if(re>=0){t(12,re=-1),T.stopPropagation();return}if(ye!==null){t(26,ye=null),T.stopPropagation();return}if($t){po(),T.stopPropagation();return}Qe&&In();return}if(T.key==="/"&&E.enableBookmarkSearch&&!T.ctrlKey&&!T.metaKey){T.preventDefault(),t(36,$t=!0);return}E.mergeAllBookmarks&&!Qe&&!$t&&!Gt&&Xr(T)}},D=T=>{if(Wt){const U=T.target;U instanceof Element&&!U.closest(".context-menu")&&gn()}if(ye===null)return;const R=T.target;R instanceof Element&&R.closest(".tile-actions")||t(26,ye=null)};window.addEventListener("keydown",S),window.addEventListener("pointerdown",D),rt.push(()=>window.removeEventListener("keydown",S)),rt.push(()=>window.removeEventListener("pointerdown",D))}if((h=(c=I==null?void 0:I.storage)==null?void 0:c.onChanged)!=null&&h.addListener){const S=(D,T)=>{if(T!=="sync"&&T!=="local")return;const U=D[T==="sync"?Rn:rl];!U||!U.newValue||Tn(U.newValue)};I.storage.onChanged.addListener(S),rt.push(()=>I.storage.onChanged.removeListener(S))}return()=>{Re&&clearTimeout(Re),typeof document<"u"&&document.body.classList.remove("settings-open"),rt.forEach(S=>S==null?void 0:S())}});function Sn(){return{theme:C.theme,accent:C.accent,background:{...C.background},titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,folderColumnWidth:C.folderColumnWidth,compactFolderHeader:C.compactFolderHeader,enableBookmarkSearch:C.enableBookmarkSearch,enableTopSites:C.enableTopSites,lastShortcutFolderId:C.lastShortcutFolderId}}function Ot(c){return _.some(h=>h.id===c)?c:C.theme}function vn(c){return m.some(h=>h.id===c)?c:C.accent}function Vt(c){return b.some(h=>h.id===c)?c:C.background.gradientId}function Kn(c={}){var kt,Dn,An,nl;const h=Ot(c.theme),S=vn(c.accent),D=c.background??{},T=D.mode==="custom"?"custom":"gradient",R=Vt(D.gradientId),U=typeof c.titleBackdrop=="boolean",ue=U?c.titleBackdrop:C.titleBackdrop,me=typeof c.mergeAllBookmarks=="boolean"||typeof c.groupFoldersTogether=="boolean",te=me?c.mergeAllBookmarks??c.groupFoldersTogether:C.mergeAllBookmarks,ee=typeof c.folderColumnWidth=="number"?c.folderColumnWidth:C.folderColumnWidth,ae=typeof c.compactFolderHeader=="boolean"?c.compactFolderHeader:C.compactFolderHeader,Le=typeof c.enableBookmarkSearch=="boolean"?c.enableBookmarkSearch:C.enableBookmarkSearch,at=typeof c.enableTopSites=="boolean"?c.enableTopSites:C.enableTopSites,ve=c.lastShortcutFolderId??C.lastShortcutFolderId,rn=Fa(c.folderSelection),ie=!wr(rn.selectedIds,((kt=c.folderSelection)==null?void 0:kt.selectedIds)??[])||!wr(rn.expandedIds,((Dn=c.folderSelection)==null?void 0:Dn.expandedIds)??[]),Be=h!==c.theme||S!==c.accent||T!==(((An=c.background)==null?void 0:An.mode)??C.background.mode)||R!==(((nl=c.background)==null?void 0:nl.gradientId)??C.background.gradientId)||!U||!me||ee!==c.folderColumnWidth||ae!==c.compactFolderHeader||Le!==c.enableBookmarkSearch||at!==c.enableTopSites||ve!==c.lastShortcutFolderId;return{settings:{theme:h,accent:S,background:{mode:T,gradientId:R},titleBackdrop:ue,mergeAllBookmarks:te,folderColumnWidth:ee,compactFolderHeader:ae,enableBookmarkSearch:Le,enableTopSites:at,lastShortcutFolderId:ve},folderSelection:rn,changed:Be||ie||(c.version??Nn)!==Nn}}function it(c){return m.find(h=>h.id===c)??m[0]}function Qn(c){return b.find(h=>h.id===c)??b[0]}function tn(){t(105,It=yr(m,E==null?void 0:E.accent)),t(9,Ht=!1)}function Jn(){t(9,Ht=!0)}function bn(){Ht?tn():Jn()}function Ft(){var c,h;t(106,Ct=yr(b,((c=E==null?void 0:E.background)==null?void 0:c.mode)==="gradient"?(h=E==null?void 0:E.background)==null?void 0:h.gradientId:null)),t(8,vt=!1)}function Yn(){t(8,vt=!0)}function gl(){vt?Ft():Yn()}function cn(){return!et&&typeof window<"u"&&typeof window.matchMedia=="function"&&(et=window.matchMedia("(prefers-color-scheme: dark)")),et}function jt(c){if(typeof document>"u")return;const h=Ot(c),S=cn();if(h==="system"&&S){if(document.body.classList.toggle("dark",S.matches),!Bt){const D=T=>{document.body.classList.toggle("dark",T.matches)};typeof S.addEventListener=="function"?(S.addEventListener("change",D),Bt=()=>S.removeEventListener("change",D)):typeof S.addListener=="function"?(S.addListener(D),Bt=()=>S.removeListener(D)):Bt=null,Bt&&rt.push(Bt)}}else Bt&&(Bt(),Bt=null),document.body.classList.toggle("dark",h==="dark");document.body.dataset.theme=h}function un(c){if(typeof document>"u")return;const h=it(c),S=document.documentElement;S.style.setProperty("--accent-color",h.colors.base),S.style.setProperty("--accent-color-contrast",h.colors.contrast),S.style.setProperty("--accent-color-soft",h.colors.soft),S.style.setProperty("--accent-color-border",h.colors.border)}function kn(c){if(typeof document>"u")return;const h=Qn(c),S=document.documentElement;S.style.setProperty("--page-background-light",h.gradients.light),S.style.setProperty("--page-background-dark",h.gradients.dark)}function st(){if(!P||!xt||!le)return;Re&&clearTimeout(Re);const c={theme:E.theme,accent:E.accent,titleBackdrop:E.titleBackdrop,mergeAllBookmarks:E.mergeAllBookmarks,folderColumnWidth:E.folderColumnWidth,compactFolderHeader:E.compactFolderHeader,enableBookmarkSearch:E.enableBookmarkSearch,enableTopSites:E.enableTopSites,lastShortcutFolderId:E.lastShortcutFolderId,background:{...E.background},folderSelection:{selectedIds:Array.from(Z),expandedIds:Array.from(he)},version:Nn};Re=setTimeout(async()=>{Re=null;try{const h=[I.storage.local.set({[rl]:c})];z&&h.push(I.storage.sync.set({[Rn]:c})),await Promise.all(h)}catch(h){console.error("Bookmark Dial: failed to store preferences",h)}},120)}function In(){if(Qe&&(t(7,Qe=!1),typeof document<"u"&&St)){const c=document.activeElement;c&&St.contains(c)&&($e==null||$e.focus())}}function Cn(){t(7,Qe=!Qe)}function Zn(c){const h=Ot(c);E.theme!==h&&t(6,E={...E,theme:h})}function pt(c){const h=vn(c);E.accent!==h&&t(6,E={...E,accent:h})}function Kt(c){const h=!!c;E.titleBackdrop!==h&&t(6,E={...E,titleBackdrop:h})}function Xn(c){const h=!!c;E.mergeAllBookmarks!==h&&t(6,E={...E,mergeAllBookmarks:h})}function Bn(c){const h=Number(c);E.folderColumnWidth!==h&&t(6,E={...E,folderColumnWidth:h})}function xn(c){const h=!!c;E.compactFolderHeader!==h&&t(6,E={...E,compactFolderHeader:h})}function nn(c){const h=!!c;E.enableBookmarkSearch!==h&&(t(6,E={...E,enableBookmarkSearch:h}),h||(t(36,$t=!1),t(10,gt="")))}function $n(c){const h=!!c;E.enableTopSites!==h&&(t(6,E={...E,enableTopSites:h}),h&&!Pt&&bo())}function dn(c){const h=Vt(c),S=Qn(h),D=S.accent&&m.some(ue=>ue.id===S.accent)?S.accent:null,T=E.background.mode!=="gradient"||E.background.gradientId!==h,R=D?vn(D):E.accent,U=!!D&&R!==E.accent;!T&&!U||t(6,E={...E,accent:U?R:E.accent,background:{...E.background,mode:"gradient",gradientId:h}})}async function Ue(){In(),await Ol(),oi()}async function el(){if(t(104,zt=!1),t(101,se=!1),!P){t(6,E=Sn()),t(0,Z=new Set(w.selectedIds)),t(98,he=new Set(w.expandedIds)),t(99,le=!0),jt(E.theme),un(E.accent),kn(E.background.gradientId),Me();return}let c={},h={};if(z)try{c=await I.storage.sync.get(Rn)}catch(R){console.warn("Bookmark Dial: failed to read sync preferences",R)}try{h=await I.storage.local.get(rl)}catch(R){console.warn("Bookmark Dial: failed to read local preferences",R)}let S=c==null?void 0:c[Rn],D=!1;!S&&(h!=null&&h[rl])&&(S=h[rl],D=!0);const T=Kn(S??N);t(6,E=T.settings),t(0,Z=new Set(T.folderSelection.selectedIds.length?T.folderSelection.selectedIds:w.selectedIds)),t(98,he=new Set(T.folderSelection.expandedIds)),t(99,le=!0),t(104,zt=T.changed||D),t(101,se=T.changed||D),jt(E.theme),un(E.accent),kn(E.background.gradientId),Me()}async function ml(){try{await Ds(I),pe=await fn(),await Te(),await bt(),Ge(),await We()}catch(c){console.error("Bookmark Dial: initialization failed",c),on(g.error,"error")}}async function fn(){const c=await I.runtime.sendMessage({type:"getFolderId"});if(!(c!=null&&c.folderId))throw new Error((c==null?void 0:c.error)||"Missing folder");return c.folderId}async function Te(){Z.size===0&&pe&&(t(0,Z=new Set([pe])),t(101,se=!0))}async function bt(){const c=Array.from(Z);c.length&&(await Promise.allSettled(c.map(h=>ol(I,h))),Me())}function Ge(){var ue,me;const c=Ea(()=>We(),150),h=(te,ee)=>{Ps(ee),!ee.url&&Fn(ee)&&Ve(ee.id),ee.url?Je(ee.parentId)&&c():Z.has(ee.id)&&c()};I.bookmarks.onCreated.addListener(h);const S=(te,ee)=>{Os(te,ee),ge.has(te)&&c()};I.bookmarks.onChanged.addListener(S);const D=(te,ee)=>{js(te,ee),(ge.has(te)||Je(ee.parentId)||Je(ee.oldParentId))&&c()};I.bookmarks.onMoved.addListener(D);const T=(te,ee)=>{const ae=Nr(te);ae&&ln(te,{...ee,node:ae}),Rs(te,ee),(ge.has(te)||Je(ee.parentId))&&(ge.delete(te),c())};I.bookmarks.onRemoved.addListener(T);const R=()=>c(),U=()=>on("Importing bookmarks‚Ä¶");(ue=I.bookmarks.onImportEnded)==null||ue.addListener(R),(me=I.bookmarks.onImportBegan)==null||me.addListener(U),rt.push(()=>{var te,ee;I.bookmarks.onCreated.removeListener(h),I.bookmarks.onChanged.removeListener(S),I.bookmarks.onMoved.removeListener(D),I.bookmarks.onRemoved.removeListener(T),(te=I.bookmarks.onImportEnded)==null||te.removeListener(R),(ee=I.bookmarks.onImportBegan)==null||ee.removeListener(U)})}function ln(c,h={}){if(h!=null&&h.node&&!h.node.url){const S=new Set(Fl(c));if(S.size){const D=new Set(Z);let T=!1;S.forEach(R=>{D.has(R)&&(D.delete(R),T=!0)}),T&&(t(0,Z=D),t(101,se=!0),Me(),st(),Z.size||Promise.resolve().then(()=>Te()).then(()=>bt()).then(()=>We()))}c===pe&&hn()}}async function hn(){on("Default folder was removed. Recreating‚Ä¶");try{const c=await I.runtime.sendMessage({type:"resetFolderCache"});if(c!=null&&c.folderId)pe=c.folderId,await Ve(pe),await We(),on("Default folder restored.","success");else throw new Error((c==null?void 0:c.error)||"Unable to recreate folder")}catch(c){console.error("Bookmark Dial: missing folder recovery failed",c),on(g.error,"error")}}async function ze(c){const h=c instanceof Set?new Set(c):new Set(c??[]);if(!h.size)return{items:[],counts:new Map,total:0,groups:[]};await Promise.all(Array.from(h).map(me=>ol(I,me)));const S=mn(),D=new Map,T=new Map,R=[],U=[];h.forEach(me=>{const te=so(S,me,[],!0),ee=so(S,me,[],!1),ae=Ll(me),Le=ae[ae.length-1]||"Untitled folder";te.forEach(ve=>{const ie=(Tl(ve.url)||ve.url||ve.url||ve.id).toLowerCase();D.has(ie)||(D.set(ie,ve.id),R.push({...ve,sourceFolderId:me,sourcePath:ae}))});const at=ee.map(ve=>{const ie=(Tl(ve.url)||ve.url||ve.url||ve.id).toLowerCase(),Be=T.get(me)??new Set;return Be.add(ie),T.set(me,Be),{...ve,sourceFolderId:me,sourcePath:ae}});U.push({id:me,label:Le,path:ae,fullPath:ae.join(" ‚Ä∫ "),items:at})}),U.sort((me,te)=>me.fullPath.localeCompare(te.fullPath));const ue=new Map(Array.from(T.entries()).map(([me,te])=>[me,te.size]));return{items:R,counts:ue,total:R.length,groups:U}}async function We(){const c=++lt;if(!Z.size){t(96,X=[]),t(97,Y=[]),ge=new Set,Ie=new Map,t(21,Oe=0),Me(),on("Select folders to populate this page.","info");return}try{const h=await ze(Z);if(c!==lt)return;Ie=h.counts,t(21,Oe=h.total),pl(h.items),t(97,Y=h.groups.map(S=>({id:S.id,label:S.label,path:S.path,fullPath:S.fullPath,items:S.items.map(D=>Sr(D))}))),Me(),h.items.length===0?on(g.empty):on("","info")}catch(h){console.error("Bookmark Dial: failed to load bookmarks",h),on(g.error,"error")}}function pl(c){ge=new Set(c.map(h=>h.id)),t(96,X=c.map(h=>Sr(h)))}function Fn(c){return!c||c.url?!1:Je(c.parentId)}function Je(c){if(!c)return!1;const h=mn();let S=c;for(;S;){if(Z.has(S))return!0;const D=h.nodesById[S];S=(D==null?void 0:D.parentId)??null}return!1}async function Ve(c){if(!c)return;await ol(I,c);const h=Fl(c),S=new Set(Z);let D=!1;h.forEach(T=>{S.has(T)||(S.add(T),D=!0)}),D&&(t(0,Z=S),t(101,se=!0),await bt(),await We(),st())}async function Pe(c){if(!c)return;const h=Fl(c);if(!h.length)return;const S=ne,D=S&&Ae?Ae:S?new Set(Z):Z,T=new Set(D);if(h.every(U=>T.has(U))?h.forEach(U=>T.delete(U)):h.forEach(U=>T.add(U)),S){t(22,Ae=T);const U=++Ee,ue=await ze(Ae);if(U!==Ee)return;Ne=ue.counts,t(24,xe=ue.total),t(23,nt=Se(Ae,Ne))}else Un(Z,T)||(t(0,Z=T),t(101,se=!0),await Te(),await bt(),await We(),st())}function bl(c){var ee;if(!c)return;const h=mn(),S=h.nodesById[c];if(!(S!=null&&S.isFolder)||!(((ee=S.childrenIds)==null?void 0:ee.some(ae=>{const Le=h.nodesById[ae];return Le==null?void 0:Le.isFolder}))??!1))return;const T=ne,R=T&&je?je:T?new Set(he):he,U=new Set(R??[]),ue=new Set(U),me=(ae,{persist:Le=!1}={})=>{T?t(100,je=ae):(t(98,he=ae),Le&&(t(101,se=!0),st()))};U.has(c)?U.delete(c):U.add(c);const te=!Un(ue,U);me(U,{persist:te})}async function Qt(){if(ne){t(22,Ae=new Set),Ee++,Ne=new Map,t(24,xe=0),t(23,nt=[]);return}t(0,Z=new Set),t(101,se=!0),await Te(),await bt(),await We(),st()}async function kl(){if(!ne)return;const c=new Set(Ae??[]),h=new Set(je??[]),S=!Un(Z,c),D=!Un(he,h);t(1,ne=!1),F(),S&&(t(0,Z=c),t(101,se=!0),await Te(),await bt(),await We()),D&&(t(98,he=h),t(101,se=!0)),S||D?st():Me()}async function _l(){await As(I),t(22,Ae=new Set(Z)),t(100,je=new Set(he)),Ne=new Map(Ie),t(24,xe=Oe),t(23,nt=Se(Ae,Ne)),Ee=0,t(19,tt=""),t(3,Xe=new Set),t(20,Fe=null),t(1,ne=!0)}function F(){t(22,Ae=null),t(100,je=null),t(23,nt=[]),Ne=new Map,t(24,xe=0),Ee=0,t(19,tt=""),t(3,Xe=new Set),t(20,Fe=null)}function Q(){t(1,ne=!1),F()}function Se(c,h){mn();const S=Array.from(c??[]).map(D=>{const T=Ll(D),R=T[T.length-1]||"Untitled folder";return{id:D,path:T,label:R,fullPath:T.join(" ‚Ä∫ "),count:(h==null?void 0:h.get(D))??0}});return S.sort((D,T)=>D.fullPath.localeCompare(T.fullPath)),S}function Me(){t(4,At=Se(Z,Ie))}function En(c){const S=mn().nodesById[c],D=ne&&Ae?Ae:Z;if(!(S!=null&&S.isFolder))return D.has(c)?"selected":"none";const T=Fl(c);if(!T.length)return D.has(c)?"selected":"none";const R=T.filter(U=>D.has(U)).length;return R===0?"none":R===T.length?"selected":"partial"}async function wl(c){var me;t(19,tt=c);const h=c.trim();if(!h){t(3,Xe=new Set),t(20,Fe=null);return}if((me=I==null?void 0:I.bookmarks)!=null&&me.search)try{const ee=(await I.bookmarks.search({query:h})).filter(ae=>!ae.url);for(const ae of ee){await ol(I,ae.id);let Le=ae.parentId;for(;Le;){await ol(I,Le);const at=mn().nodesById[Le];Le=(at==null?void 0:at.parentId)??null}}}catch(te){console.warn("Bookmark Dial: folder search failed",te)}const S=Ns(),D=h.toLowerCase(),R=S.filter(te=>{const ee=te.title.toLowerCase().includes(D),ae=te.path.join(" ").toLowerCase().includes(D);return ee||ae}).map(te=>te.id);t(3,Xe=new Set(R));const U=new Set,ue=mn();R.forEach(te=>{var Le;let ee=ue.nodesById[te];for(;ee&&(U.add(ee.id),!!ee.parentId);)ee=ue.nodesById[ee.parentId];const ae=ue.nodesById[te];(Le=ae==null?void 0:ae.childrenIds)==null||Le.forEach(at=>{const ve=ue.nodesById[at];ve!=null&&ve.isFolder&&U.add(at)})}),t(20,Fe=U)}function Tn(c){const h=Kn(c),S=h.settings;(S.theme!==E.theme||S.accent!==E.accent||S.background.mode!==E.background.mode||S.background.gradientId!==E.background.gradientId||S.titleBackdrop!==E.titleBackdrop||S.mergeAllBookmarks!==E.mergeAllBookmarks||S.folderColumnWidth!==E.folderColumnWidth||S.compactFolderHeader!==E.compactFolderHeader||S.enableBookmarkSearch!==E.enableBookmarkSearch||S.enableTopSites!==E.enableTopSites)&&t(6,E={...E,...S,background:{...S.background}});const T=new Set(h.folderSelection.selectedIds),R=new Set(h.folderSelection.expandedIds),U=!Un(T,Z),ue=!Un(R,he);U&&(t(0,Z=T),Me(),We()),ue&&t(98,he=R),(U||ue)&&t(101,se=!1)}function Mn(c){const{next:h,changed:S}=vr(X,c);if(!S)return;t(96,X=h);let D=!1;const T=Y.map(R=>{const{next:U,changed:ue}=vr(R.items,c);return ue?(D=!0,{...R,items:U}):R});D&&t(97,Y=T)}function Ln(c){t(26,ye=ye===c?null:c)}function $(){t(26,ye=null)}function Ke(c,h="info",S=null,D=5e3){const T=++hl,R={id:T,message:c,type:h,undoData:S};return t(31,qt=[...qt,R]),D>0&&setTimeout(()=>zl(T),D),T}function zl(c){t(31,qt=qt.filter(h=>h.id!==c))}async function Gr(c){if(!(c!=null&&c.undoData))return;const{action:h,data:S}=c.undoData;try{h==="removeBookmark"&&S&&(await I.bookmarks.create({parentId:S.parentId,title:S.title,url:S.url,index:S.index}),Ke("Bookmark restored","success"))}catch(D){console.error("Bookmark Dial: undo failed",D),Ke("Failed to undo","error")}zl(c.id)}async function Wr(){if(!P){t(32,Gt=!0);return}try{const c=await I.storage.local.get(eo);c!=null&&c[eo]||t(32,Gt=!0)}catch(c){console.warn("Bookmark Dial: failed to check welcome state",c)}}async function Vr(){if(t(32,Gt=!1),P)try{await I.storage.local.set({[eo]:!0})}catch(c){console.warn("Bookmark Dial: failed to save welcome state",c)}}function Hl(c,h){c.preventDefault(),$(),t(35,_e=h);const S=180,D=180;let T=c.clientX,R=c.clientY;T+S>window.innerWidth&&(T=window.innerWidth-S-8),R+D>window.innerHeight&&(R=window.innerHeight-D-8),t(34,Vn={x:T,y:R}),t(33,Wt=!0)}function gn(){t(33,Wt=!1),t(35,_e=null)}async function Kr(){_e!=null&&_e.url&&window.open(_e.url,"_blank"),gn()}async function Qr(){if(_e!=null&&_e.url)try{await navigator.clipboard.writeText(_e.url),Ke("URL copied to clipboard","success")}catch(c){console.error("Bookmark Dial: copy failed",c),Ke("Failed to copy URL","error")}gn()}function Jr(){_e&&Sl(_e),gn()}function Yr(){_e&&tl(_e.id),gn()}function Zr(c){t(10,gt=c)}function po(){t(36,$t=!1),t(10,gt="")}async function bo(){var c;if(!Pt){if(!((c=I==null?void 0:I.topSites)!=null&&c.get)){t(107,Pt=!0);return}try{const h=await I.topSites.get();t(11,ot=(h||[]).map((S,D)=>({id:`topsite-${D}`,title:S.title||il(S.url),url:S.url,displayTitle:S.title||il(S.url),initials:Hr(S.title||il(S.url)),palette:qr(S.title||il(S.url)),fallback:!1,isTopSite:!0}))),t(107,Pt=!0)}catch(h){console.warn("Bookmark Dial: failed to load top sites",h),t(107,Pt=!0)}}}function Xr(c){const h=E.enableTopSites?[...r,...ot]:r;if(!h.length)return;const S=xr(),D=h.length;if(["ArrowRight","ArrowLeft","ArrowDown","ArrowUp"].includes(c.key)&&re<0){c.preventDefault(),t(12,re=0);return}if(c.key==="ArrowRight")c.preventDefault(),re+1<D&&t(12,re=re+1);else if(c.key==="ArrowLeft")c.preventDefault(),re-1>=0&&t(12,re=re-1);else if(c.key==="ArrowDown"){c.preventDefault();const R=re+S;R<D&&t(12,re=R)}else if(c.key==="ArrowUp"){c.preventDefault();const R=re-S;R>=0&&t(12,re=R)}else if(c.key==="Enter"&&re>=0){c.preventDefault();const R=h[re];R!=null&&R.url&&(window.location.href=R.url)}else if((c.key==="Delete"||c.key==="Backspace")&&re>=0){c.preventDefault();const R=h[re];if(R&&!R.isTopSite){const U=D-1;tl(R.id),U===0?t(12,re=-1):re>=U&&t(12,re=U-1)}}else if(c.key>="0"&&c.key<="9"){const R=c.key==="0"?9:parseInt(c.key,10)-1;if(R<D){c.preventDefault();const U=h[R];U!=null&&U.url&&(window.location.href=U.url)}}}function xr(){return en&&getComputedStyle(en).getPropertyValue("grid-template-columns").split(" ").length||4}function ql(c){t(12,re=c)}function Gl(c,h,S=null){if(h.isTopSite){c.preventDefault();return}t(38,mt=h),S||h.parentId,c.dataTransfer.effectAllowed="move",c.dataTransfer.setData("text/plain",h.id)}function Wl(c,h){!mt||mt.id===h.id||h.isTopSite||(c.preventDefault(),c.dataTransfer.dropEffect="move",t(39,pn=h))}function $r(c){c.currentTarget.contains(c.relatedTarget)||t(39,pn=null)}async function Vl(c,h){if(c.preventDefault(),!mt||mt.id===h.id){yl();return}if(h.isTopSite){yl();return}try{await I.bookmarks.move(mt.id,{parentId:h.parentId,index:h.index}),Ke("Bookmark moved","success")}catch(S){console.error("Bookmark Dial: move failed",S),Ke("Failed to move bookmark","error")}yl()}function ei(){yl()}function yl(){t(38,mt=null),t(39,pn=null)}async function Kl(c=null){Dt=c,t(2,O=!0)}async function ti(c){t(2,O=!1);const{folderId:h,url:S,title:D}=c,T=Tl(S);if(!T){alert("That does not appear to be a valid URL.");return}try{await I.bookmarks.create({parentId:h,title:D,url:T}),t(6,E={...E,lastShortcutFolderId:h}),st()}catch(R){console.error("Bookmark Dial: failed to create bookmark",R),alert("Unable to add shortcut. Please try again.")}}function ni(){t(2,O=!1),Dt=null}function ko(){if(At.length)return At;const c=Se(Z,Ie);if(c.length)return c;if(pe){const h=Ll(pe),S=h[h.length-1]||"Bookmark Dial";return[{id:pe,path:h,label:S,fullPath:h.join(" ‚Ä∫ "),count:0}]}return[]}function li(){if(Dt)return Dt;const c=ht.length>0?ht:ko();return c.length===0?null:E.lastShortcutFolderId&&c.some(S=>S.id===E.lastShortcutFolderId)?E.lastShortcutFolderId:c[c.length-1].id}async function Sl(c){var U;if(!(c!=null&&c.id))return;$();const h=prompt("Update the shortcut URL:",c.url??"");if(h===null)return;const S=Tl(h.trim());if(!S){alert("That does not appear to be a valid URL.");return}const D=(U=c.title)!=null&&U.trim()?c.title:c.displayTitle||il(S),T=prompt("Update the shortcut title:",D),R=T?T.trim():D;try{await I.bookmarks.update(c.id,{title:R,url:S})}catch(ue){console.error("Bookmark Dial: failed to update bookmark",ue),alert("Unable to update shortcut. Please try again.")}}async function tl(c){$(),gn();const h=X.find(S=>S.id===c)||Y.flatMap(S=>S.items).find(S=>S.id===c);if(h)try{const[S]=await I.bookmarks.get(c);await I.bookmarks.remove(c),Ke(`"${h.displayTitle||h.title}" removed`,"info",{action:"removeBookmark",data:{parentId:String(S.parentId),title:String(S.title||""),url:String(S.url||""),index:typeof S.index=="number"?S.index:0}},8e3)}catch(S){console.error("Bookmark Dial: failed to remove bookmark",S),Ke("Failed to remove bookmark","error")}}function oi(){yt&&t(29,yt.value="",yt),ke==null||ke.showModal()}async function ri(c){var S;c.preventDefault();const h=(S=yt==null?void 0:yt.files)==null?void 0:S[0];if(!h){ke==null||ke.close();return}if(!ci(h)){alert("Please choose a JPEG or PNG image under 10 MB.");return}try{const D=await Ta(h,p);P&&await I.storage.local.set({[El]:D}),vl(D),t(6,E={...E,background:{...E.background,mode:"custom"}}),ke==null||ke.close()}catch(D){console.error("Bookmark Dial: failed to save background",D),alert("Unable to store the background image. Try a smaller file.")}}async function ii(){try{P&&await I.storage.local.remove(El)}catch(c){console.error("Bookmark Dial: failed to clear background",c)}vl(null),t(6,E={...E,background:{...E.background,mode:"gradient"}}),ke==null||ke.close()}function si(){ke==null||ke.close()}async function ai(){if(!P){vl(null),E.background.mode==="custom"&&t(6,E={...E,background:{...E.background,mode:"gradient"}});return}try{const c=await I.storage.local.get(El),h=(c==null?void 0:c[El])||"";vl(h),!h&&E.background.mode==="custom"&&(t(6,E={...E,background:{...E.background,mode:"gradient"}}),t(104,zt=!0))}catch(c){console.error("Bookmark Dial: failed to load background",c)}}function vl(c){t(27,Ce=c||"")}function on(c,h="info"){t(14,A=c),t(15,K=h)}function ci(c){return["image/jpeg","image/png"].includes(c.type)&&c.size<=p}function ui(){console.info("Bookmark Dial: using mock Chrome APIs for development");let c="mock-folder",h=1;const S={onCreated:new Set,onChanged:new Set,onMoved:new Set,onRemoved:new Set,onImportBegan:new Set,onImportEnded:new Set},D=new Set,T=new Map,R=new Map([["speedDialFolderId",c],[Rn,{version:Nn,theme:C.theme,accent:C.accent,titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,background:{...C.background},folderSelection:{selectedIds:[c],expandedIds:[]}}]]),U=new Map;function ue(v,...M){const H=S[v];H&&H.forEach(J=>{try{J(...M)}catch(de){console.error(`Mock chrome ${v} handler failed`,de)}})}function me(v,M){!M||Object.keys(M).length===0||D.forEach(H=>{try{H(M,v)}catch(J){console.error("Mock chrome storage listener failed",J)}})}function te(v){return v===void 0?void 0:JSON.parse(JSON.stringify(v))}function ee(v,M){if(Array.isArray(M)){const H={};return M.forEach(J=>H[J]=v.get(J)),H}if(typeof M=="object"&&M!==null){const H={...M};for(const J of Object.keys(M))v.has(J)&&(H[J]=v.get(J));return H}return{[M]:v.get(M)}}function ae(v,M,H){const J={};Object.entries(H||{}).forEach(([de,ct])=>{const _n=v.get(de);v.set(de,ct),J[de]={oldValue:te(_n),newValue:te(ct)}}),me(M,J)}function Le(v,M,H){const J=Array.isArray(H)?H:[H],de={};J.forEach(ct=>{if(!v.has(ct))return;const _n=v.get(ct);v.delete(ct),de[ct]={oldValue:te(_n),newValue:void 0}}),me(M,de)}function at(v){v!=null&&v.children&&(v.children.forEach((M,H)=>{M.index=H}),v.hasChildren=v.children.some(M=>!M.url))}function ve(v,M,H){const J=U.get(v);if(!J)throw new Error(`Parent ${v} not found`);Array.isArray(J.children)||(J.children=[]);const de=typeof H=="number"?Math.max(0,Math.min(H,J.children.length)):J.children.length;J.children.splice(de,0,M),M.parentId=v,at(J)}function rn(v,M){const H=U.get(v);if(!(H!=null&&H.children))return;const J=H.children.findIndex(de=>de.id===M);J!==-1&&(H.children.splice(J,1),at(H))}function ie({id:v,parentId:M=null,title:H="Untitled folder",index:J}){const de=v??`mock-folder-${h++}`,ct={id:de,parentId:M,title:H,index:typeof J=="number"?J:0,children:[]};return U.set(de,ct),M&&ve(M,ct,J),ct}function Be({id:v,parentId:M,title:H,url:J,index:de}){if(!M)throw new Error("Bookmarks require a parent folder");const ct=v??`mock-bookmark-${h++}`,_n={id:ct,parentId:M,title:H??J??"Untitled",url:J,index:typeof de=="number"?de:0};return U.set(ct,_n),ve(M,_n,de),_n}function kt(v,M=!1){if(!v)return null;const H={id:v.id,parentId:v.parentId??void 0,title:v.title,index:v.index};return v.url&&(H.url=v.url),M&&Array.isArray(v.children)&&(H.children=v.children.map(J=>kt(J,!0))),H}function Dn(v){v&&(Array.isArray(v.children)&&[...v.children].forEach(M=>Dn(M)),U.delete(v.id))}const An=ie({id:"0",parentId:null,title:""}),nl=ie({id:"1",parentId:An.id,title:"Bookmarks Bar"});ie({id:"2",parentId:An.id,title:"Other Bookmarks"}),ie({id:"3",parentId:An.id,title:"Mobile Bookmarks"});const Il=ie({id:"1-reading",parentId:"1",title:"Reading List"}),Ki=ie({id:"2-inspiration",parentId:"2",title:"Inspiration"});function vo(v){[{title:"Svelte",url:"https://svelte.dev"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"Vite",url:"https://vitejs.dev"}].forEach((J,de)=>{Be({parentId:v,title:J.title,url:J.url,index:de})});const H=ie({id:`${v}-frameworks`,parentId:v,title:"Frameworks"});[{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Ember.js",url:"https://emberjs.com"},{title:"Lit",url:"https://lit.dev"},{title:"Solid",url:"https://www.solidjs.com"},{title:"Alpine.js",url:"https://alpinejs.dev"},{title:"Preact",url:"https://preact.dev"},{title:"Backbone.js",url:"https://backbonejs.org"},{title:"jQuery",url:"https://jquery.com"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt.js",url:"https://nuxt.com"}].forEach((J,de)=>{Be({parentId:H.id,title:J.title,url:J.url,index:de})})}ie({id:c,parentId:nl.id,title:"Bookmark Dial"}),vo(c);const Qi=ie({id:"bookmarks-bar-tooling",parentId:nl.id,title:"Developer Tools"});ga.forEach((v,M)=>{Be({parentId:Qi.id,title:v.title,url:v.url,index:M})});const Ql=ie({id:"reading-fiction",parentId:Il.id,title:"Fiction"}),Ji=ie({id:"reading-fiction-classic",parentId:Ql.id,title:"Classic Novels"});Et.fiction.classicNovels.forEach((v,M)=>{Be({parentId:Ji.id,title:v.title,url:v.url,index:M})});const Yi=ie({id:"reading-fiction-modern",parentId:Ql.id,title:"Modern Fiction"});Et.fiction.modernFiction.forEach((v,M)=>{Be({parentId:Yi.id,title:v.title,url:v.url,index:M})});const Zi=ie({id:"reading-fiction-short",parentId:Ql.id,title:"Short Stories"});Et.fiction.shortStories.forEach((v,M)=>{Be({parentId:Zi.id,title:v.title,url:v.url,index:M})});const Jl=ie({id:"reading-nonfiction",parentId:Il.id,title:"Non-Fiction"}),Xi=ie({id:"reading-nonfiction-essays",parentId:Jl.id,title:"Essays"});Et.nonFiction.essays.forEach((v,M)=>{Be({parentId:Xi.id,title:v.title,url:v.url,index:M})});const xi=ie({id:"reading-nonfiction-bio",parentId:Jl.id,title:"Biography"});Et.nonFiction.biography.forEach((v,M)=>{Be({parentId:xi.id,title:v.title,url:v.url,index:M})});const $i=ie({id:"reading-nonfiction-history",parentId:Jl.id,title:"History"});Et.nonFiction.history.forEach((v,M)=>{Be({parentId:$i.id,title:v.title,url:v.url,index:M})});const Yl=ie({id:"reading-poetry",parentId:Il.id,title:"Poetry"}),es=ie({id:"reading-poetry-classic",parentId:Yl.id,title:"Classic Poetry"});Et.poetry.classicPoetry.forEach((v,M)=>{Be({parentId:es.id,title:v.title,url:v.url,index:M})});const ts=ie({id:"reading-poetry-contemporary",parentId:Yl.id,title:"Contemporary Poetry"});Et.poetry.contemporaryPoetry.forEach((v,M)=>{Be({parentId:ts.id,title:v.title,url:v.url,index:M})});const ns=ie({id:"reading-poetry-spoken",parentId:Yl.id,title:"Spoken Word"});Et.poetry.spokenWord.forEach((v,M)=>{Be({parentId:ns.id,title:v.title,url:v.url,index:M})});const Zl=ie({id:"reading-academic",parentId:Il.id,title:"Academic"}),ls=ie({id:"reading-academic-criticism",parentId:Zl.id,title:"Literary Criticism"});Et.academic.literaryCriticism.forEach((v,M)=>{Be({parentId:ls.id,title:v.title,url:v.url,index:M})});const os=ie({id:"reading-academic-theory",parentId:Zl.id,title:"Literary Theory"});Et.academic.literaryTheory.forEach((v,M)=>{Be({parentId:os.id,title:v.title,url:v.url,index:M})});const rs=ie({id:"reading-academic-journals",parentId:Zl.id,title:"Academic Journals"});Et.academic.journals.forEach((v,M)=>{Be({parentId:rs.id,title:v.title,url:v.url,index:M})}),[{title:"Muz.li",url:"https://muz.li"},{title:"Awwwards",url:"https://www.awwwards.com"},{title:"Dribbble",url:"https://dribbble.com"}].forEach((v,M)=>{Be({parentId:Ki.id,title:v.title,url:v.url,index:M})});function Pn(v){const M=S[v];return{addListener:H=>M.add(H),removeListener:H=>M.delete(H)}}return{runtime:{sendMessage:async v=>{if((v==null?void 0:v.type)==="getFolderId")return{folderId:c};if((v==null?void 0:v.type)==="resetFolderCache"){const M=`mock-folder-${Date.now().toString(36)}`,H=U.get(c);if(H){const de=H.parentId;de&&rn(de,H.id),Dn(H)}c=M;const J=ie({id:c,parentId:"1",title:"Bookmark Dial"});return vo(J.id),ae(R,"sync",{speedDialFolderId:c,[Rn]:{version:Nn,theme:C.theme,accent:C.accent,titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,background:{...C.background},folderSelection:{selectedIds:[c],expandedIds:[]}}}),{folderId:c}}return{}}},bookmarks:{onCreated:Pn("onCreated"),onChanged:Pn("onChanged"),onMoved:Pn("onMoved"),onRemoved:Pn("onRemoved"),onImportBegan:Pn("onImportBegan"),onImportEnded:Pn("onImportEnded"),async getTree(){return[kt(U.get("0"),!0)]},async getChildren(v){const M=U.get(v);return M!=null&&M.children?M.children.map(H=>kt(H,!1)):[]},async getSubTree(v){const M=U.get(v);return M?[kt(M,!0)]:[]},async search(v){const M=String((v==null?void 0:v.query)??"").trim().toLowerCase();return M?Array.from(U.values()).filter(H=>!H.url&&(H.title||"").toLowerCase().includes(M)).map(H=>kt(H,!1)):[]},async create({parentId:v,title:M,url:H}){const J=H?Be({parentId:v,title:M,url:H}):ie({parentId:v,title:M});return ue("onCreated",J.id,kt(J,!0)),kt(J,!0)},async update(v,M={}){const H=U.get(v);if(!H)throw new Error("Bookmark not found");const J={};return typeof M.title=="string"&&(H.title=M.title,J.title=M.title),typeof M.url=="string"&&(H.url=M.url,J.url=M.url),ue("onChanged",v,J),kt(H,!1)},async remove(v){const M=U.get(v);if(!M)throw new Error("Bookmark not found");const H=kt(M,!0);M.parentId&&rn(M.parentId,v),Dn(M),ue("onRemoved",v,{parentId:H.parentId??null,node:H})},async move(v,{parentId:M,index:H}){const J=U.get(v);if(!J)throw new Error("Bookmark not found");const de=J.parentId??null;return de&&rn(de,v),ve(M,J,H),ue("onMoved",v,{parentId:M,oldParentId:de,index:H}),kt(J,!1)}},storage:{local:{async get(v){return ee(T,v)},async set(v){ae(T,"local",v)},async remove(v){Le(T,"local",v)}},sync:{async get(v){return ee(R,v)},async set(v){ae(R,"sync",v)},async remove(v){Le(R,"sync",v)}},onChanged:{addListener(v){D.add(v)},removeListener(v){D.delete(v)}}},topSites:{async get(){return[{title:"Google",url:"https://www.google.com"},{title:"YouTube",url:"https://www.youtube.com"},{title:"Facebook",url:"https://www.facebook.com"},{title:"Twitter",url:"https://twitter.com"},{title:"Reddit",url:"https://www.reddit.com"},{title:"Wikipedia",url:"https://www.wikipedia.org"},{title:"Amazon",url:"https://www.amazon.com"},{title:"Netflix",url:"https://www.netflix.com"}]}}}}function di(c){Ss.call(this,n,c)}function fi(c){Rt[c?"unshift":"push"](()=>{$e=c,t(30,$e)})}const hi=c=>Zn(c.id),gi=c=>pt(c.id),mi=c=>Kt(c.currentTarget.checked),pi=c=>dn(c.id),bi=c=>Xn(c.currentTarget.checked),ki=c=>Bn(c.currentTarget.value),_i=c=>xn(c.currentTarget.checked),wi=c=>nn(c.currentTarget.checked),yi=c=>$n(c.currentTarget.checked);function Si(c){Rt[c?"unshift":"push"](()=>{St=c,t(5,St)})}const vi=c=>Ln(c.id),Ii=c=>Sl(c),Ci=c=>tl(c.id),Bi=c=>Mn(c.id),Fi=(c,h)=>Hl(h,c),Ei=c=>ql(c),Ti=(c,h)=>Gl(h,c),Mi=(c,h)=>Wl(h,c),Li=(c,h)=>Vl(h,c),Di=c=>ql(r.length+c);function Ai(c){Rt[c?"unshift":"push"](()=>{en=c,t(37,en)})}const Pi=c=>Ln(c.id),Oi=c=>Sl(c),ji=c=>tl(c.id),Ri=c=>Mn(c.id),Ni=(c,h)=>Hl(h,c),Ui=(c,h,S)=>Gl(S,c,h.id),zi=(c,h)=>Wl(h,c),Hi=(c,h)=>Vl(h,c),qi=c=>Kl(c.id),Gi=c=>Kl(c.id);function Wi(c){Rt[c?"unshift":"push"](()=>{yt=c,t(29,yt)})}function Vi(c){Rt[c?"unshift":"push"](()=>{ke=c,t(28,ke)})}return n.$$.update=()=>{if(n.$$.dirty[3]&8192&&t(108,l=new Set(Ct.slice(0,jl).map(c=>c.id))),n.$$.dirty[3]&4096&&t(109,o=new Set(It.slice(0,Rl).map(c=>c.id))),n.$$.dirty[0]&320|n.$$.dirty[3]&32768&&!vt&&E.background.mode==="gradient"&&E.background.gradientId&&!l.has(E.background.gradientId)&&t(8,vt=!0),n.$$.dirty[0]&256|n.$$.dirty[3]&8192&&t(42,i=vt?Ct:Ct.slice(0,jl)),n.$$.dirty[0]&576|n.$$.dirty[3]&65536&&!Ht&&E.accent&&!o.has(E.accent)&&t(9,Ht=!0),n.$$.dirty[0]&512|n.$$.dirty[3]&4096&&t(41,a=Ht?It:It.slice(0,Rl)),n.$$.dirty[0]&64|n.$$.dirty[3]&3904&&!Ut&&le&&(jt(E.theme),un(E.accent),kn(E.background.gradientId),(zt||se||xt)&&st(),t(103,xt=!0),t(104,zt=!1),t(101,se=!1)),n.$$.dirty[0]&128&&typeof document<"u"&&document.body.classList.toggle("settings-open",Qe),n.$$.dirty[0]&160&&Qe&&Ol().then(()=>{St==null||St.focus()}),n.$$.dirty[0]&10|n.$$.dirty[3]&160&&t(25,wt=(()=>{const c=ne&&je?je:he,h=new Set(c??[]);if(Xe.size){const S=mn();Xe.forEach(D=>{var R,U;let T=((R=S.nodesById[D])==null?void 0:R.parentId)??null;for(;T;)h.add(T),T=((U=S.nodesById[T])==null?void 0:U.parentId)??null})}return h})()),n.$$.dirty[0]&1024|n.$$.dirty[3]&8&&t(13,r=(()=>{if(!gt.trim())return X;const c=gt.toLowerCase().trim();return X.filter(h=>{var S,D,T;return((S=h.title)==null?void 0:S.toLowerCase().includes(c))||((D=h.url)==null?void 0:D.toLowerCase().includes(c))||((T=h.displayTitle)==null?void 0:T.toLowerCase().includes(c))})})()),n.$$.dirty[0]&1024|n.$$.dirty[3]&16&&t(40,u=(()=>{if(!gt.trim())return Y;const c=gt.toLowerCase().trim();return Y.map(h=>({...h,items:h.items.filter(S=>{var D,T,R;return((D=S.title)==null?void 0:D.toLowerCase().includes(c))||((T=S.url)==null?void 0:T.toLowerCase().includes(c))||((R=S.displayTitle)==null?void 0:R.toLowerCase().includes(c))})})).filter(h=>h.items.length>0)})()),n.$$.dirty[0]&64|n.$$.dirty[3]&16384&&E.enableTopSites&&!Pt&&bo(),n.$$.dirty[0]&14400){const c=E.mergeAllBookmarks?E.enableTopSites?r.length+ot.length:r.length:0;re>=c&&t(12,re=Math.max(c-1,-1))}n.$$.dirty[0]&21&&(O||At.length||Z.size)&&(t(17,ht=ko()),t(18,_t=li()))},[Z,ne,O,Xe,At,St,E,Qe,vt,Ht,gt,ot,re,r,A,K,qe,ht,_t,tt,Fe,Oe,Ae,nt,xe,wt,ye,Ce,ke,yt,$e,qt,Gt,Wt,Vn,_e,$t,en,mt,pn,u,a,i,d,_,m,b,bn,gl,In,Cn,Zn,pt,Kt,Xn,Bn,xn,nn,$n,dn,Ue,Pe,bl,Qt,kl,_l,Q,En,wl,Mn,Ln,zl,Gr,Vr,Hl,gn,Kr,Qr,Jr,Yr,Zr,po,ql,Gl,Wl,$r,Vl,ei,Kl,ti,ni,Sl,tl,ri,ii,si,X,Y,he,le,je,se,Ut,xt,zt,It,Ct,Pt,l,o,di,fi,hi,gi,mi,pi,bi,ki,_i,wi,yi,Si,vi,Ii,Ci,Bi,Fi,Ei,Ti,Mi,Li,Di,Ai,Pi,Oi,ji,Ri,Ni,Ui,zi,Hi,qi,Gi,Wi,Vi]}class qa extends an{constructor(e){super(),sn(this,e,Ha,Ca,Zt,{},null,[-1,-1,-1,-1,-1,-1,-1,-1])}}new qa({target:document.getElementById("app")});
