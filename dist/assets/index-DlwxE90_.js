var Qi=Object.defineProperty;var Yi=(n,e,t)=>e in n?Qi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ql=(n,e,t)=>Yi(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function ae(){}const al=n=>n;function dr(n){return n()}function bo(){return Object.create(null)}function Oe(n){n.forEach(dr)}function ct(n){return typeof n=="function"}function $t(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let wl;function ko(n,e){return n===e?!0:(wl||(wl=document.createElement("a")),wl.href=e,n===wl.href)}function Ji(n){return Object.keys(n).length===0}function fr(n,...e){if(n==null){for(const l of e)l(void 0);return ae}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Wn(n){let e;return fr(n,t=>e=t)(),e}function hr(n,e,t){n.$$.on_destroy.push(fr(e,t))}function _o(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const gr=typeof window<"u";let Dl=gr?()=>window.performance.now():()=>Date.now(),no=gr?n=>requestAnimationFrame(n):ae;const Hn=new Set;function mr(n){Hn.forEach(e=>{e.c(n)||(Hn.delete(e),e.f())}),Hn.size!==0&&no(mr)}function Al(n){let e;return Hn.size===0&&no(mr),{promise:new Promise(t=>{Hn.add(e={c:n,f:t})}),abort(){Hn.delete(e)}}}const Zi=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function f(n,e){n.appendChild(e)}function pr(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function Xi(n){const e=w("style");return e.textContent="/* empty */",xi(pr(n),e),e.sheet}function xi(n,e){return f(n.head||n,e),e.sheet}function q(n,e,t){n.insertBefore(e,t||null)}function G(n){n.parentNode&&n.parentNode.removeChild(n)}function Vl(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function w(n){return document.createElement(n)}function Ct(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function he(n){return document.createTextNode(n)}function P(){return he(" ")}function mt(){return he("")}function W(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function Jl(n){return function(e){return e.preventDefault(),n.call(this,e)}}function $i(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function c(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function es(n){return Array.from(n.childNodes)}function Le(n,e){e=""+e,n.data!==e&&(n.data=e)}function El(n,e,t,l){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function we(n,e,t){n.classList.toggle(e,!!t)}function br(n,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:l})}const Fl=new Map;let Tl=0;function ts(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function ns(n,e){const t={stylesheet:Xi(e),rules:{}};return Fl.set(n,t),t}function rl(n,e,t,l,o,i,a,r=0){const u=16.666/l;let d=`{
`;for(let y=0;y<=1;y+=u){const B=e+(t-e)*i(y);d+=y*100+`%{${a(B,1-B)}}
`}const p=d+`100% {${a(t,1-t)}}
}`,S=`__svelte_${ts(p)}_${r}`,b=pr(n),{stylesheet:k,rules:g}=Fl.get(b)||ns(b,n);g[S]||(g[S]=!0,k.insertRule(`@keyframes ${S} ${p}`,k.cssRules.length));const m=n.style.animation||"";return n.style.animation=`${m?`${m}, `:""}${S} ${l}ms linear ${o}ms 1 both`,Tl+=1,S}function il(n,e){const t=(n.style.animation||"").split(", "),l=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),o=t.length-l.length;o&&(n.style.animation=l.join(", "),Tl-=o,Tl||ls())}function ls(){no(()=>{Tl||(Fl.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&G(e)}),Fl.clear())})}function os(n,e,t,l){if(!e)return ae;const o=n.getBoundingClientRect();if(e.left===o.left&&e.right===o.right&&e.top===o.top&&e.bottom===o.bottom)return ae;const{delay:i=0,duration:a=300,easing:r=al,start:u=Dl()+i,end:d=u+a,tick:p=ae,css:S}=t(n,{from:e,to:o},l);let b=!0,k=!1,g;function m(){S&&(g=rl(n,0,1,a,i,r,S)),i||(k=!0)}function y(){S&&il(n,g),b=!1}return Al(B=>{if(!k&&B>=u&&(k=!0),k&&B>=d&&(p(1,0),y()),!b)return!1;if(k){const I=B-u,U=0+1*r(I/a);p(U,1-U)}return!0}),m(),p(0,1),y}function rs(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,o=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=l,kr(n,o)}}function kr(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(n),o=l.transform==="none"?"":l.transform;n.style.transform=`${o} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let sl;function ol(n){sl=n}function _r(){if(!sl)throw new Error("Function called outside component initialization");return sl}function is(n){_r().$$.on_mount.push(n)}function ss(){const n=_r();return(e,t,{cancelable:l=!1}={})=>{const o=n.$$.callbacks[e];if(o){const i=br(e,t,{cancelable:l});return o.slice().forEach(a=>{a.call(n,i)}),!i.defaultPrevented}return!0}}function as(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Un=[],Gt=[];let Gn=[];const wo=[],wr=Promise.resolve();let Zl=!1;function yr(){Zl||(Zl=!0,wr.then(Sr))}function Xl(){return yr(),wr}function xt(n){Gn.push(n)}const Kl=new Set;let Pn=0;function Sr(){if(Pn!==0)return;const n=sl;do{try{for(;Pn<Un.length;){const e=Un[Pn];Pn++,ol(e),cs(e.$$)}}catch(e){throw Un.length=0,Pn=0,e}for(ol(null),Un.length=0,Pn=0;Gt.length;)Gt.pop()();for(let e=0;e<Gn.length;e+=1){const t=Gn[e];Kl.has(t)||(Kl.add(t),t())}Gn.length=0}while(Un.length);for(;wo.length;)wo.pop()();Zl=!1,Kl.clear(),ol(n)}function cs(n){if(n.fragment!==null){n.update(),Oe(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(xt)}}function us(n){const e=[],t=[];Gn.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Gn=e}let tl;function lo(){return tl||(tl=Promise.resolve(),tl.then(()=>{tl=null})),tl}function vn(n,e,t){n.dispatchEvent(br(`${e?"intro":"outro"}${t}`))}const Cl=new Set;let Wt;function We(){Wt={r:0,c:[],p:Wt}}function qe(){Wt.r||Oe(Wt.c),Wt=Wt.p}function x(n,e){n&&n.i&&(Cl.delete(n),n.i(e))}function ne(n,e,t,l){if(n&&n.o){if(Cl.has(n))return;Cl.add(n),Wt.c.push(()=>{Cl.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}const oo={duration:0};function ds(n,e,t){const l={direction:"in"};let o=e(n,t,l),i=!1,a,r,u=0;function d(){a&&il(n,a)}function p(){const{delay:b=0,duration:k=300,easing:g=al,tick:m=ae,css:y}=o||oo;y&&(a=rl(n,0,1,k,b,g,y,u++)),m(0,1);const B=Dl()+b,I=B+k;r&&r.abort(),i=!0,xt(()=>vn(n,!0,"start")),r=Al(U=>{if(i){if(U>=I)return m(1,0),vn(n,!0,"end"),d(),i=!1;if(U>=B){const O=g((U-B)/k);m(O,1-O)}}return i})}let S=!1;return{start(){S||(S=!0,il(n),ct(o)?(o=o(l),lo().then(p)):p())},invalidate(){S=!1},end(){i&&(d(),i=!1)}}}function fs(n,e,t){const l={direction:"out"};let o=e(n,t,l),i=!0,a;const r=Wt;r.r+=1;let u;function d(){const{delay:p=0,duration:S=300,easing:b=al,tick:k=ae,css:g}=o||oo;g&&(a=rl(n,1,0,S,p,b,g));const m=Dl()+p,y=m+S;xt(()=>vn(n,!1,"start")),"inert"in n&&(u=n.inert,n.inert=!0),Al(B=>{if(i){if(B>=y)return k(0,1),vn(n,!1,"end"),--r.r||Oe(r.c),!1;if(B>=m){const I=b((B-m)/S);k(1-I,I)}}return i})}return ct(o)?lo().then(()=>{o=o(l),d()}):d(),{end(p){p&&"inert"in n&&(n.inert=u),p&&o.tick&&o.tick(1,0),i&&(a&&il(n,a),i=!1)}}}function yl(n,e,t,l){let i=e(n,t,{direction:"both"}),a=l?0:1,r=null,u=null,d=null,p;function S(){d&&il(n,d)}function b(g,m){const y=g.b-a;return m*=Math.abs(y),{a,b:g.b,d:y,duration:m,start:g.start,end:g.start+m,group:g.group}}function k(g){const{delay:m=0,duration:y=300,easing:B=al,tick:I=ae,css:U}=i||oo,O={start:Dl()+m,b:g};g||(O.group=Wt,Wt.r+=1),"inert"in n&&(g?p!==void 0&&(n.inert=p):(p=n.inert,n.inert=!0)),r||u?u=O:(U&&(S(),d=rl(n,a,g,y,m,B,U)),g&&I(0,1),r=b(O,y),xt(()=>vn(n,g,"start")),Al(T=>{if(u&&T>u.start&&(r=b(u,y),u=null,vn(n,r.b,"start"),U&&(S(),d=rl(n,a,r.b,r.duration,0,B,i.css))),r){if(T>=r.end)I(a=r.b,1-a),vn(n,r.b,"end"),u||(r.b?S():--r.group.r||Oe(r.group.c)),r=null;else if(T>=r.start){const Q=T-r.start;a=r.a+r.d*B(Q/r.duration),I(a,1-a)}}return!!(r||u)}))}return{run(g){ct(i)?lo().then(()=>{i=i({direction:g?"in":"out"}),k(g)}):k(g)},end(){S(),r=u=null}}}function ye(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function vr(n,e){n.d(1),e.delete(n.key)}function In(n,e){ne(n,1,1,()=>{e.delete(n.key)})}function hs(n,e){n.f(),In(n,e)}function en(n,e,t,l,o,i,a,r,u,d,p,S){let b=n.length,k=i.length,g=b;const m={};for(;g--;)m[n[g].key]=g;const y=[],B=new Map,I=new Map,U=[];for(g=k;g--;){const A=S(o,i,g),V=t(A);let D=a.get(V);D?U.push(()=>D.p(A,e)):(D=d(V,A),D.c()),B.set(V,y[g]=D),V in m&&I.set(V,Math.abs(g-m[V]))}const O=new Set,T=new Set;function Q(A){x(A,1),A.m(r,p),a.set(A.key,A),p=A.first,k--}for(;b&&k;){const A=y[k-1],V=n[b-1],D=A.key,Y=V.key;A===V?(p=A.first,b--,k--):B.has(Y)?!a.has(D)||O.has(D)?Q(A):T.has(Y)?b--:I.get(D)>I.get(Y)?(T.add(D),Q(A)):(O.add(Y),b--):(u(V,a),b--)}for(;b--;){const A=n[b];B.has(A.key)||u(A,a)}for(;k;)Q(y[k-1]);return Oe(U),y}function qt(n){n&&n.c()}function At(n,e,t){const{fragment:l,after_update:o}=n.$$;l&&l.m(e,t),xt(()=>{const i=n.$$.on_mount.map(dr).filter(ct);n.$$.on_destroy?n.$$.on_destroy.push(...i):Oe(i),n.$$.on_mount=[]}),o.forEach(xt)}function Pt(n,e){const t=n.$$;t.fragment!==null&&(us(t.after_update),Oe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function gs(n,e){n.$$.dirty[0]===-1&&(Un.push(n),yr(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function dn(n,e,t,l,o,i,a=null,r=[-1]){const u=sl;ol(n);const d=n.$$={fragment:null,ctx:[],props:i,update:ae,not_equal:o,bound:bo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:bo(),dirty:r,skip_bound:!1,root:e.target||u.$$.root};a&&a(d.root);let p=!1;if(d.ctx=t?t(n,e.props||{},(S,b,...k)=>{const g=k.length?k[0]:b;return d.ctx&&o(d.ctx[S],d.ctx[S]=g)&&(!d.skip_bound&&d.bound[S]&&d.bound[S](g),p&&gs(n,S)),b}):[],d.update(),p=!0,Oe(d.before_update),d.fragment=l?l(d.ctx):!1,e.target){if(e.hydrate){const S=es(e.target);d.fragment&&d.fragment.l(S),S.forEach(G)}else d.fragment&&d.fragment.c();e.intro&&x(n.$$.fragment),At(n,e.target,e.anchor),Sr()}ol(u)}class fn{constructor(){ql(this,"$$");ql(this,"$$set")}$destroy(){Pt(this,1),this.$destroy=ae}$on(e,t){if(!ct(t))return ae;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const o=l.indexOf(t);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!Ji(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ms="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ms);const On=[];function ps(n,e=ae){let t;const l=new Set;function o(r){if($t(n,r)&&(n=r,t)){const u=!On.length;for(const d of l)d[1](),On.push(d,n);if(u){for(let d=0;d<On.length;d+=2)On[d][0](On[d+1]);On.length=0}}}function i(r){o(r(n))}function a(r,u=ae){const d=[r,u];return l.add(d),l.size===1&&(t=e(o,i)||ae),r(n),()=>{l.delete(d),l.size===0&&t&&(t(),t=null)}}return{set:o,update:i,subscribe:a}}const bs={nodesById:{},rootIds:[]},ut=ps(bs),Ir={subscribe:ut.subscribe};function ro(n,{includeChildren:e=!1}={}){const t=Array.isArray(n.children),l=t?[...n.children]:[],o=e?l.sort((r,u)=>(r.index??0)-(u.index??0)):[],a=l.filter(r=>!r.url).length>0;return{id:n.id,parentId:n.parentId??null,title:n.title??"",url:n.url??null,index:typeof n.index=="number"?n.index:0,isFolder:!n.url,childrenIds:e?o.map(r=>r.id):[],childrenLoaded:e,hasChildren:!n.url&&(e||t?a:!0)}}function Cr(n){ut.update(e=>{const t={...e.nodesById};let l=[...e.rootIds];for(const o of n){const i=t[o.id];t[o.id]=i?{...i,...o}:o,!o.parentId&&!l.includes(o.id)&&l.push(o.id)}return l.sort((o,i)=>{const a=t[o],r=t[i];return((a==null?void 0:a.index)??0)-((r==null?void 0:r.index)??0)}),{...e,nodesById:t,rootIds:l}})}function xl(n,e,t){ut.update(l=>{const o={...l.nodesById},i=o[n];if(!i)return l;const a=Array.from(new Set(e));a.sort((u,d)=>{const p=o[u],S=o[d];return((p==null?void 0:p.index)??0)-((S==null?void 0:S.index)??0)});const r=a.some(u=>{var d;return(d=o[u])==null?void 0:d.isFolder});return o[n]={...i,childrenIds:a,childrenLoaded:t?!0:i.childrenLoaded,hasChildren:r},{...l,nodesById:o}})}async function ks(n){const e=await n.bookmarks.getTree(),t=Array.isArray(e)?e[0]:null,o=((t==null?void 0:t.children)??[]).map(i=>ro(i,{includeChildren:!1}));return ut.set({nodesById:Object.fromEntries(o.map(i=>[i.id,i])),rootIds:o.map(i=>i.id)}),o.map(i=>i.id)}async function _s(n){const e=await n.bookmarks.getTree(),t=Array.isArray(e)?e[0]:null;if(!t)return[];const l=[],o=[];function i(r,u=!1){const S=(Array.isArray(r.children)?[...r.children]:[]).sort((g,m)=>(g.index??0)-(m.index??0)),b=S.filter(g=>!g.url),k={id:r.id,parentId:r.parentId??null,title:r.title??"",url:r.url??null,index:typeof r.index=="number"?r.index:0,isFolder:!r.url,childrenIds:S.map(g=>g.id),childrenLoaded:!0,hasChildren:b.length>0};r.url||(l.push(k),u&&o.push(r.id));for(const g of b)i(g,!1)}const a=t.children??[];for(const r of a)i(r,!0);return ut.set({nodesById:Object.fromEntries(l.map(r=>[r.id,r])),rootIds:o}),o}function un(){return Wn(ut)}function Br(n){return Wn(ut).nodesById[n]}async function nl(n,e){const t=await n.bookmarks.getSubTree(e),l=Array.isArray(t)?t[0]:null;if(!l)return{folderIds:[]};const o=[l],i=[],a=[];for(;o.length;){const r=o.shift(),u=Array.isArray(r.children),d=ro(r,{includeChildren:u});i.push(d),r.url||a.push(r.id),u&&o.push(...r.children)}return Cr(i),i.forEach(r=>{if(r.isFolder&&xl(r.id,r.childrenIds,!0),r.parentId){const d=Wn(ut).nodesById[r.parentId];if(d){const p=d.childrenIds?[...d.childrenIds]:[];p.push(r.id),xl(r.parentId,p,d.childrenLoaded)}}}),{folderIds:a}}function Bl(n){const e=Wn(ut),t=[];let l=e.nodesById[n];for(;l&&(l.title&&t.unshift(l.title),!!l.parentId);)l=e.nodesById[l.parentId];return t}function ws(n){const e=ro(n,{includeChildren:!1});if(Cr([e]),e.parentId){const t=Br(e.parentId),l=t!=null&&t.childrenIds?[...t.childrenIds]:[];l.splice(e.index??l.length,0,e.id),xl(e.parentId,l,t==null?void 0:t.childrenLoaded)}}function ys(n,e){ut.update(t=>{const l=t.nodesById[n];if(!l)return t;const o={...t.nodesById,[n]:{...l,...e}};return{...t,nodesById:o}})}function Ss(n,{parentId:e,oldParentId:t,index:l}){ut.update(o=>{const i={...o.nodesById},a=i[n];if(!a)return o;const r={...a,parentId:e,index:typeof l=="number"?l:a.index};if(i[n]=r,t&&i[t]){const u=i[t],d=(u.childrenIds??[]).filter(S=>S!==n),p=d.some(S=>{var b;return(b=i[S])==null?void 0:b.isFolder});i[t]={...u,childrenIds:d,hasChildren:p}}if(e&&i[e]){const u=i[e],d=[...u.childrenIds??[]];d.includes(n)||d.splice(l??d.length,0,n);const p=d.some(S=>{var b;return(b=i[S])==null?void 0:b.isFolder});i[e]={...u,childrenIds:d,hasChildren:p}}return{...o,nodesById:i}})}function vs(n,{parentId:e}){ut.update(t=>{var r;const l={...t.nodesById},o=new Set([n]),i=[n];for(;i.length;){const u=i.pop(),d=l[u];d&&(r=d.childrenIds)!=null&&r.length&&d.childrenIds.forEach(p=>{o.has(p)||(o.add(p),i.push(p))})}o.forEach(u=>{delete l[u]});let a=t.rootIds;if(a.includes(n)&&(a=a.filter(u=>u!==n)),e&&l[e]){const u=l[e],d=(u.childrenIds??[]).filter(S=>S!==n),p=d.some(S=>{var b;return(b=l[S])==null?void 0:b.isFolder});l[e]={...u,childrenIds:d,hasChildren:p}}return{...t,nodesById:l,rootIds:a}})}function Sl(n){var o;const e=Wn(ut),t=[],l=[n];for(;l.length;){const i=l.pop(),a=e.nodesById[i];a&&a.isFolder&&(t.push(i),(o=a.childrenIds)!=null&&o.length&&a.childrenIds.forEach(r=>{const u=e.nodesById[r];u!=null&&u.isFolder&&l.push(r)}))}return t}function Is(){const n=Wn(ut);return Object.values(n.nodesById).filter(e=>e.isFolder).map(e=>({id:e.id,title:e.title??"",path:Bl(e.id)}))}function yo(n,e,t){const l=n.slice();return l[26]=e[t],l}function So(n){let e,t,l,o,i,a,r,u,d,p,S,b,k,g=(n[12].title||"Untitled folder")+"",m,y,B,I,U,O,T,Q=n[11]&&n[15]&&vo(n);return{c(){var A;e=w("li"),t=w("div"),l=w("button"),o=Ct("svg"),i=Ct("path"),d=P(),p=w("label"),S=w("input"),b=P(),k=w("span"),m=he(g),B=P(),Q&&Q.c(),c(i,"d","M6 4.5 10 8l-4 3.5"),c(i,"fill","none"),c(i,"stroke","currentColor"),c(i,"stroke-width","1.6"),c(i,"stroke-linecap","round"),c(i,"stroke-linejoin","round"),c(o,"viewBox","0 0 16 16"),c(o,"aria-hidden","true"),c(o,"focusable","false"),c(l,"type","button"),c(l,"class","folder-node__expander svelte-ux2jgn"),c(l,"aria-hidden",a=!n[11]),c(l,"aria-label",r=n[15]?"Collapse folder":"Expand folder"),l.disabled=u=!n[11],we(l,"hidden",!n[11]),c(S,"type","checkbox"),c(S,"class","folder-node__checkbox svelte-ux2jgn"),c(k,"class","folder-node__title svelte-ux2jgn"),c(k,"title",y=n[12].title||"Untitled folder"),c(p,"class","folder-node__label svelte-ux2jgn"),c(t,"class","folder-node__row svelte-ux2jgn"),c(t,"style",n[16]),c(e,"class","folder-node svelte-ux2jgn"),c(e,"data-expanded",n[15]),c(e,"data-depth",n[1]),c(e,"data-match",I=((A=n[5])==null?void 0:A.has(n[0]))??!1)},m(A,V){q(A,e,V),f(e,t),f(t,l),f(l,o),f(o,i),f(t,d),f(t,p),f(p,S),n[24](S),f(p,b),f(p,k),f(k,m),f(e,B),Q&&Q.m(e,null),U=!0,O||(T=[W(l,"click",n[17]),W(S,"change",n[18])],O=!0)},p(A,V){var D;(!U||V&2048&&a!==(a=!A[11]))&&c(l,"aria-hidden",a),(!U||V&32768&&r!==(r=A[15]?"Collapse folder":"Expand folder"))&&c(l,"aria-label",r),(!U||V&2048&&u!==(u=!A[11]))&&(l.disabled=u),(!U||V&2048)&&we(l,"hidden",!A[11]),(!U||V&4096)&&g!==(g=(A[12].title||"Untitled folder")+"")&&Le(m,g),(!U||V&4096&&y!==(y=A[12].title||"Untitled folder"))&&c(k,"title",y),A[11]&&A[15]?Q?(Q.p(A,V),V&34816&&x(Q,1)):(Q=vo(A),Q.c(),x(Q,1),Q.m(e,null)):Q&&(We(),ne(Q,1,1,()=>{Q=null}),qe()),(!U||V&32768)&&c(e,"data-expanded",A[15]),(!U||V&2)&&c(e,"data-depth",A[1]),(!U||V&33&&I!==(I=((D=A[5])==null?void 0:D.has(A[0]))??!1))&&c(e,"data-match",I)},i(A){U||(x(Q),U=!0)},o(A){ne(Q),U=!1},d(A){A&&G(e),n[24](null),Q&&Q.d(),O=!1,Oe(T)}}}function vo(n){let e,t=[],l=new Map,o,i=ye(n[13]);const a=r=>r[26];for(let r=0;r<i.length;r+=1){let u=yo(n,i,r),d=a(u);l.set(d,t[r]=Io(d,u))}return{c(){e=w("ul");for(let r=0;r<t.length;r+=1)t[r].c();c(e,"class","folder-node__children svelte-ux2jgn")},m(r,u){q(r,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(r,u){u&9214&&(i=ye(r[13]),We(),t=en(t,u,a,1,r,i,l,e,In,Io,null,yo),qe())},i(r){if(!o){for(let u=0;u<i.length;u+=1)x(t[u]);o=!0}},o(r){for(let u=0;u<t.length;u+=1)ne(t[u]);o=!1},d(r){r&&G(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Io(n,e){let t,l,o;return l=new Er({props:{nodeId:e[26],depth:e[1]+1,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[5],selectedIds:e[6],toggleSelection:e[7],toggleExpansion:e[8],getCheckboxState:e[9]}}),{key:n,first:null,c(){t=mt(),qt(l.$$.fragment),this.first=t},m(i,a){q(i,t,a),At(l,i,a),o=!0},p(i,a){e=i;const r={};a&8192&&(r.nodeId=e[26]),a&2&&(r.depth=e[1]+1),a&4&&(r.expandedIds=e[2]),a&8&&(r.loadingIds=e[3]),a&16&&(r.visibleIds=e[4]),a&32&&(r.searchMatches=e[5]),a&64&&(r.selectedIds=e[6]),a&128&&(r.toggleSelection=e[7]),a&256&&(r.toggleExpansion=e[8]),a&512&&(r.getCheckboxState=e[9]),l.$set(r)},i(i){o||(x(l.$$.fragment,i),o=!0)},o(i){ne(l.$$.fragment,i),o=!1},d(i){i&&G(t),Pt(l,i)}}}function Cs(n){let e,t,l=n[14]&&So(n);return{c(){l&&l.c(),e=mt()},m(o,i){l&&l.m(o,i),q(o,e,i),t=!0},p(o,[i]){o[14]?l?(l.p(o,i),i&16384&&x(l,1)):(l=So(o),l.c(),x(l,1),l.m(e.parentNode,e)):l&&(We(),ne(l,1,1,()=>{l=null}),qe())},i(o){t||(x(l),t=!0)},o(o){ne(l),t=!1},d(o){o&&G(e),l&&l.d(o)}}}function Bs(n,e,t){let l,o,i,a,r,u,d,p,S,b;hr(n,Ir,J=>t(23,b=J));let{nodeId:k}=e,{depth:g=0}=e,{expandedIds:m}=e,{loadingIds:y}=e,{visibleIds:B}=e,{searchMatches:I}=e,{selectedIds:U}=e,{toggleSelection:O}=e,{toggleExpansion:T}=e,{getCheckboxState:Q}=e,A;const V=`--depth: ${g}`;function D(J){J.stopPropagation(),r&&(T==null||T(k))}function Y(J){J.stopPropagation(),O==null||O(k)}function ee(J){Gt[J?"unshift":"push"](()=>{A=J,t(10,A),t(21,p),t(9,Q),t(6,U),t(0,k)})}return n.$$set=J=>{"nodeId"in J&&t(0,k=J.nodeId),"depth"in J&&t(1,g=J.depth),"expandedIds"in J&&t(2,m=J.expandedIds),"loadingIds"in J&&t(3,y=J.loadingIds),"visibleIds"in J&&t(4,B=J.visibleIds),"searchMatches"in J&&t(5,I=J.searchMatches),"selectedIds"in J&&t(6,U=J.selectedIds),"toggleSelection"in J&&t(7,O=J.toggleSelection),"toggleExpansion"in J&&t(8,T=J.toggleExpansion),"getCheckboxState"in J&&t(9,Q=J.getCheckboxState)},n.$$.update=()=>{var J,Ie;n.$$.dirty&8388608&&t(22,l=b),n.$$.dirty&4194305&&t(12,o=(J=l==null?void 0:l.nodesById)==null?void 0:J[k]),n.$$.dirty&4096&&t(20,i=(o==null?void 0:o.isFolder)??!1),n.$$.dirty&4198400&&t(13,a=((Ie=o==null?void 0:o.childrenIds)==null?void 0:Ie.filter(Se=>{var me;const X=(me=l==null?void 0:l.nodesById)==null?void 0:me[Se];return X==null?void 0:X.isFolder}))??[]),n.$$.dirty&1056768&&t(11,r=i&&a.length>0),n.$$.dirty&2053&&t(15,u=r&&(m==null?void 0:m.has(k))),n.$$.dirty&9&&(y==null||y.has(k)),n.$$.dirty&17&&t(19,d=!B||B.has(k)),n.$$.dirty&577&&t(21,p=Q&&U?Q(k):"none"),n.$$.dirty&2098176&&A&&(p==="partial"?(t(10,A.indeterminate=!0,A),t(10,A.checked=!1,A)):(t(10,A.indeterminate=!1,A),t(10,A.checked=p==="selected",A))),n.$$.dirty&1576960&&t(14,S=!!(o&&i&&d))},[k,g,m,y,B,I,U,O,T,Q,A,r,o,a,S,u,V,D,Y,d,i,p,l,b,ee]}class Er extends fn{constructor(e){super(),dn(this,e,Bs,Cs,$t,{nodeId:0,depth:1,expandedIds:2,loadingIds:3,visibleIds:4,searchMatches:5,selectedIds:6,toggleSelection:7,toggleExpansion:8,getCheckboxState:9})}}function Co(n,e,t){const l=n.slice();return l[22]=e[t],l}function Bo(n,e,t){const l=n.slice();return l[25]=e[t],l}function Eo(n){let e,t,l,o,i,a,r,u,d,p,S,b,k,g,m,y,B,I,U,O,T,Q,A,V,D,Y,ee=n[9]===1?"":"s",J,Ie,Se,X,me,Ze,Xe,pe,j=n[10]===1?"":"s",xe,$e,et,Ve,pt,ce,Ke,Ce,Be,bt,be;const Bt=[Fs,Es],tt=[];function Qe(Ee,ue){return Ee[1].length===0?0:1}k=Qe(n),g=tt[k]=Bt[k](n);let fe=n[9]>0&&To(n);function kt(Ee,ue){return Ee[8].length===0?Ms:Ts}let ie=kt(n),ge=ie(n);return{c(){e=w("div"),t=w("section"),l=w("header"),o=w("div"),o.innerHTML='<h2 id="folder-modal-title">Select bookmark folders</h2> <p class="folder-modal__hint svelte-gn1lpb">Choose one or more folders to show in your new tab. Selecting a folder includes all of its subfolders.</p>',i=P(),a=w("button"),a.textContent="√ó",r=P(),u=w("div"),d=w("input"),p=P(),S=w("div"),b=w("div"),g.c(),m=P(),y=w("aside"),B=w("header"),I=w("h3"),I.textContent="Selected folders",U=P(),fe&&fe.c(),O=P(),ge.c(),T=P(),Q=w("footer"),A=w("div"),V=w("span"),D=he(n[9]),Y=he(" folder"),J=he(ee),Ie=he(" selected"),Se=P(),X=w("span"),X.textContent="‚Ä¢",me=P(),Ze=w("span"),Xe=he(n[10]),pe=he(" bookmark"),xe=he(j),$e=P(),et=w("div"),Ve=w("button"),Ve.textContent="Cancel",pt=P(),ce=w("button"),Ke=he("Confirm selection"),c(a,"type","button"),c(a,"class","folder-modal__close svelte-gn1lpb"),c(a,"aria-label","Close"),c(l,"class","folder-modal__header svelte-gn1lpb"),c(d,"type","search"),c(d,"placeholder","Search folders"),d.value=n[5],c(d,"class","svelte-gn1lpb"),c(u,"class","folder-modal__search svelte-gn1lpb"),c(b,"class","folder-modal__tree svelte-gn1lpb"),c(B,"class","svelte-gn1lpb"),c(y,"class","folder-modal__summary svelte-gn1lpb"),c(S,"class","folder-modal__body svelte-gn1lpb"),c(X,"aria-hidden","true"),c(A,"class","folder-modal__totals svelte-gn1lpb"),c(Ve,"type","button"),c(Ve,"class","ghost-button svelte-gn1lpb"),c(ce,"type","button"),c(ce,"class","primary-button svelte-gn1lpb"),ce.disabled=Ce=n[9]===0,c(et,"class","folder-modal__actions svelte-gn1lpb"),c(Q,"class","folder-modal__footer svelte-gn1lpb"),c(t,"class","folder-modal svelte-gn1lpb"),c(t,"role","dialog"),c(t,"aria-modal","true"),c(t,"aria-labelledby","folder-modal-title"),c(e,"class","modal-overlay svelte-gn1lpb"),c(e,"role","presentation")},m(Ee,ue){q(Ee,e,ue),f(e,t),f(t,l),f(l,o),f(l,i),f(l,a),f(t,r),f(t,u),f(u,d),n[21](d),f(t,p),f(t,S),f(S,b),tt[k].m(b,null),f(S,m),f(S,y),f(y,B),f(B,I),f(B,U),fe&&fe.m(B,null),f(y,O),ge.m(y,null),f(t,T),f(t,Q),f(Q,A),f(A,V),f(V,D),f(V,Y),f(V,J),f(V,Ie),f(A,Se),f(A,X),f(A,me),f(A,Ze),f(Ze,Xe),f(Ze,pe),f(Ze,xe),f(Q,$e),f(Q,et),f(et,Ve),f(et,pt),f(et,ce),f(ce,Ke),Be=!0,bt||(be=[W(a,"click",function(){ct(n[14])&&n[14].apply(this,arguments)}),W(d,"input",n[19]),W(Ve,"click",function(){ct(n[14])&&n[14].apply(this,arguments)}),W(ce,"click",function(){ct(n[15])&&n[15].apply(this,arguments)}),W(e,"click",n[18])],bt=!0)},p(Ee,ue){n=Ee,(!Be||ue&32&&d.value!==n[5])&&(d.value=n[5]);let F=k;k=Qe(n),k===F?tt[k].p(n,ue):(We(),ne(tt[F],1,1,()=>{tt[F]=null}),qe(),g=tt[k],g?g.p(n,ue):(g=tt[k]=Bt[k](n),g.c()),x(g,1),g.m(b,null)),n[9]>0?fe?fe.p(n,ue):(fe=To(n),fe.c(),fe.m(B,null)):fe&&(fe.d(1),fe=null),ie===(ie=kt(n))&&ge?ge.p(n,ue):(ge.d(1),ge=ie(n),ge&&(ge.c(),ge.m(y,null))),(!Be||ue&512)&&Le(D,n[9]),(!Be||ue&512)&&ee!==(ee=n[9]===1?"":"s")&&Le(J,ee),(!Be||ue&1024)&&Le(Xe,n[10]),(!Be||ue&1024)&&j!==(j=n[10]===1?"":"s")&&Le(xe,j),(!Be||ue&512&&Ce!==(Ce=n[9]===0))&&(ce.disabled=Ce)},i(Ee){Be||(x(g),Be=!0)},o(Ee){ne(g),Be=!1},d(Ee){Ee&&G(e),n[21](null),tt[k].d(),fe&&fe.d(),ge.d(),bt=!1,Oe(be)}}}function Es(n){let e,t=[],l=new Map,o,i=ye(n[1]);const a=r=>r[25];for(let r=0;r<i.length;r+=1){let u=Bo(n,i,r),d=a(u);l.set(d,t[r]=Fo(d,u))}return{c(){e=w("ul");for(let r=0;r<t.length;r+=1)t[r].c();c(e,"class","folder-tree svelte-gn1lpb")},m(r,u){q(r,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(r,u){u&14558&&(i=ye(r[1]),We(),t=en(t,u,a,1,r,i,l,e,In,Fo,null,Bo),qe())},i(r){if(!o){for(let u=0;u<i.length;u+=1)x(t[u]);o=!0}},o(r){for(let u=0;u<t.length;u+=1)ne(t[u]);o=!1},d(r){r&&G(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Fs(n){let e;return{c(){e=w("p"),e.textContent="No bookmark folders available.",c(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,l){q(t,e,l)},p:ae,i:ae,o:ae,d(t){t&&G(e)}}}function Fo(n,e){let t,l,o;return l=new Er({props:{nodeId:e[25],depth:0,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[6],selectedIds:e[7],toggleSelection:e[11],toggleExpansion:e[12],getCheckboxState:e[13]}}),{key:n,first:null,c(){t=mt(),qt(l.$$.fragment),this.first=t},m(i,a){q(i,t,a),At(l,i,a),o=!0},p(i,a){e=i;const r={};a&2&&(r.nodeId=e[25]),a&4&&(r.expandedIds=e[2]),a&8&&(r.loadingIds=e[3]),a&16&&(r.visibleIds=e[4]),a&64&&(r.searchMatches=e[6]),a&128&&(r.selectedIds=e[7]),a&2048&&(r.toggleSelection=e[11]),a&4096&&(r.toggleExpansion=e[12]),a&8192&&(r.getCheckboxState=e[13]),l.$set(r)},i(i){o||(x(l.$$.fragment,i),o=!0)},o(i){ne(l.$$.fragment,i),o=!1},d(i){i&&G(t),Pt(l,i)}}}function To(n){let e,t,l;return{c(){e=w("button"),e.textContent="Clear all",c(e,"type","button"),c(e,"class","summary-clear svelte-gn1lpb")},m(o,i){q(o,e,i),t||(l=W(e,"click",function(){ct(n[16])&&n[16].apply(this,arguments)}),t=!0)},p(o,i){n=o},d(o){o&&G(e),t=!1,l()}}}function Ts(n){let e,t=[],l=new Map,o=ye(n[8]);const i=a=>a[22].id;for(let a=0;a<o.length;a+=1){let r=Co(n,o,a),u=i(r);l.set(u,t[a]=Lo(u,r))}return{c(){e=w("ul");for(let a=0;a<t.length;a+=1)t[a].c();c(e,"class","folder-modal__selection-list svelte-gn1lpb")},m(a,r){q(a,e,r);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null)},p(a,r){r&256&&(o=ye(a[8]),t=en(t,r,i,1,a,o,l,e,vr,Lo,null,Co))},d(a){a&&G(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function Ms(n){let e;return{c(){e=w("p"),e.textContent="Pick folders to see them here.",c(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,l){q(t,e,l)},p:ae,d(t){t&&G(e)}}}function Mo(n){let e,t=n[22].count+"",l;return{c(){e=w("span"),l=he(t),c(e,"class","selection-chip__count svelte-gn1lpb")},m(o,i){q(o,e,i),f(e,l)},p(o,i){i&256&&t!==(t=o[22].count+"")&&Le(l,t)},d(o){o&&G(e)}}}function Lo(n,e){let t,l,o,i=e[22].label+"",a,r,u,d,p=typeof e[22].count=="number"&&Mo(e);return{key:n,first:null,c(){t=w("li"),l=w("span"),o=w("span"),a=he(i),r=P(),p&&p.c(),d=P(),c(o,"class","selection-chip__label svelte-gn1lpb"),c(l,"class","selection-chip svelte-gn1lpb"),c(l,"title",u=e[22].fullPath),this.first=t},m(S,b){q(S,t,b),f(t,l),f(l,o),f(o,a),f(l,r),p&&p.m(l,null),f(t,d)},p(S,b){e=S,b&256&&i!==(i=e[22].label+"")&&Le(a,i),typeof e[22].count=="number"?p?p.p(e,b):(p=Mo(e),p.c(),p.m(l,null)):p&&(p.d(1),p=null),b&256&&u!==(u=e[22].fullPath)&&c(l,"title",u)},d(S){S&&G(t),p&&p.d()}}}function Ls(n){let e,t,l=n[0]&&Eo(n);return{c(){l&&l.c(),e=mt()},m(o,i){l&&l.m(o,i),q(o,e,i),t=!0},p(o,[i]){o[0]?l?(l.p(o,i),i&1&&x(l,1)):(l=Eo(o),l.c(),x(l,1),l.m(e.parentNode,e)):l&&(We(),ne(l,1,1,()=>{l=null}),qe())},i(o){t||(x(l),t=!0)},o(o){ne(l),t=!1},d(o){o&&G(e),l&&l.d(o)}}}function Ds(n,e,t){let{open:l=!1}=e,{rootIds:o=[]}=e,{expandedIds:i}=e,{loadingIds:a}=e,{visibleIds:r}=e,{searchQuery:u=""}=e,{searchMatches:d}=e,{selectedIds:p}=e,{summary:S=[]}=e,{selectedFolderCount:b=0}=e,{totalBookmarkCount:k=0}=e,{toggleSelection:g}=e,{toggleExpansion:m}=e,{getCheckboxState:y}=e,{onSearchChange:B}=e,{onRequestClose:I}=e,{onConfirmSelection:U}=e,{onClearSelection:O}=e,T;function Q(D){D.target===D.currentTarget&&(D.preventDefault(),I==null||I())}function A(D){B==null||B(D.target.value)}function V(D){Gt[D?"unshift":"push"](()=>{T=D,t(17,T)})}return n.$$set=D=>{"open"in D&&t(0,l=D.open),"rootIds"in D&&t(1,o=D.rootIds),"expandedIds"in D&&t(2,i=D.expandedIds),"loadingIds"in D&&t(3,a=D.loadingIds),"visibleIds"in D&&t(4,r=D.visibleIds),"searchQuery"in D&&t(5,u=D.searchQuery),"searchMatches"in D&&t(6,d=D.searchMatches),"selectedIds"in D&&t(7,p=D.selectedIds),"summary"in D&&t(8,S=D.summary),"selectedFolderCount"in D&&t(9,b=D.selectedFolderCount),"totalBookmarkCount"in D&&t(10,k=D.totalBookmarkCount),"toggleSelection"in D&&t(11,g=D.toggleSelection),"toggleExpansion"in D&&t(12,m=D.toggleExpansion),"getCheckboxState"in D&&t(13,y=D.getCheckboxState),"onSearchChange"in D&&t(20,B=D.onSearchChange),"onRequestClose"in D&&t(14,I=D.onRequestClose),"onConfirmSelection"in D&&t(15,U=D.onConfirmSelection),"onClearSelection"in D&&t(16,O=D.onClearSelection)},n.$$.update=()=>{if(n.$$.dirty&147457&&l){Xl().then(()=>{T==null||T.focus(),T==null||T.select()});const D=Y=>{Y.key==="Escape"&&(Y.preventDefault(),I==null||I())};document.addEventListener("keydown",D,{once:!0})}},[l,o,i,a,r,u,d,p,S,b,k,g,m,y,I,U,O,T,Q,A,B,V]}class As extends fn{constructor(e){super(),dn(this,e,Ds,Ls,$t,{open:0,rootIds:1,expandedIds:2,loadingIds:3,visibleIds:4,searchQuery:5,searchMatches:6,selectedIds:7,summary:8,selectedFolderCount:9,totalBookmarkCount:10,toggleSelection:11,toggleExpansion:12,getCheckboxState:13,onSearchChange:20,onRequestClose:14,onConfirmSelection:15,onClearSelection:16})}}function Ps(n){let e,t,l,o;return{c(){e=w("img"),ko(e.src,t=n[8])||c(e,"src",t),c(e,"alt",""),c(e,"loading","lazy")},m(i,a){q(i,e,a),l||(o=W(e,"error",n[13]),l=!0)},p(i,a){a[0]&256&&!ko(e.src,t=i[8])&&c(e,"src",t)},d(i){i&&G(e),l=!1,o()}}}function Os(n){let e=n[0].initials+"",t;return{c(){t=he(e)},m(l,o){q(l,t,o)},p(l,o){o[0]&1&&e!==(e=l[0].initials+"")&&Le(t,e)},d(l){l&&G(t)}}}function Do(n){let e,t,l,o,i,a;return{c(){e=w("div"),t=w("button"),t.textContent="Edit",l=P(),o=w("button"),o.textContent="Remove",c(t,"type","button"),c(t,"role","menuitem"),c(t,"class","tile-menu__item"),c(o,"type","button"),c(o,"role","menuitem"),c(o,"class","tile-menu__item tile-menu__item--danger"),c(e,"class","tile-menu"),c(e,"role","menu")},m(r,u){q(r,e,u),f(e,t),f(e,l),f(e,o),i||(a=[W(t,"click",n[11]),W(o,"click",n[12])],i=!0)},p:ae,d(r){r&&G(e),i=!1,Oe(a)}}}function js(n){let e,t,l,o,i,a,r=n[0].displayTitle+"",u,d,p,S,b,k,g,m,y,B,I,U,O,T;function Q(Y,ee){return Y[0].fallback?Os:Ps}let A=Q(n),V=A(n),D=n[2]&&Do(n);return{c(){e=w("article"),t=w("a"),l=w("div"),V.c(),i=P(),a=w("div"),u=he(r),S=P(),b=w("div"),k=w("button"),g=Ct("svg"),m=Ct("circle"),y=Ct("circle"),B=Ct("circle"),U=P(),D&&D.c(),c(l,"class","tile-icon"),c(l,"style",o=`--dial-color: ${n[0].palette.background}; --dial-text: ${n[0].palette.text};`),c(l,"aria-hidden","true"),c(a,"class","tile-title"),we(a,"tile-title--pill",n[1]),c(t,"class","tile-link"),c(t,"href",d=n[0].url||"#!"),c(t,"title",p=n[0].title||n[0].url||"Shortcut"),c(t,"draggable","false"),c(m,"cx","8"),c(m,"cy","3.5"),c(m,"r","1.25"),c(y,"cx","8"),c(y,"cy","8"),c(y,"r","1.25"),c(B,"cx","8"),c(B,"cy","12.5"),c(B,"r","1.25"),c(g,"viewBox","0 0 16 16"),c(g,"aria-hidden","true"),c(g,"focusable","false"),c(k,"class","tile-menu-button"),c(k,"type","button"),c(k,"aria-haspopup","true"),c(k,"aria-expanded",n[2]),c(k,"aria-label",I=`Open options for ${n[7]}`),we(k,"tile-menu-button--active",n[2]),c(b,"class","tile-actions"),c(e,"class","tile"),c(e,"draggable",n[9]),we(e,"tile--focused",n[3]),we(e,"tile--dragging",n[4]),we(e,"tile--drag-over",n[5]),we(e,"tile--top-site",n[6])},m(Y,ee){q(Y,e,ee),f(e,t),f(t,l),V.m(l,null),f(t,i),f(t,a),f(a,u),f(e,S),f(e,b),f(b,k),f(k,g),f(g,m),f(g,y),f(g,B),f(b,U),D&&D.m(b,null),O||(T=[W(t,"focus",n[15]),W(k,"click",n[10]),W(e,"contextmenu",n[14]),W(e,"dragstart",n[16]),W(e,"dragover",n[17]),W(e,"dragleave",n[18]),W(e,"drop",n[19]),W(e,"dragend",n[20])],O=!0)},p(Y,ee){A===(A=Q(Y))&&V?V.p(Y,ee):(V.d(1),V=A(Y),V&&(V.c(),V.m(l,null))),ee[0]&1&&o!==(o=`--dial-color: ${Y[0].palette.background}; --dial-text: ${Y[0].palette.text};`)&&c(l,"style",o),ee[0]&1&&r!==(r=Y[0].displayTitle+"")&&Le(u,r),ee[0]&2&&we(a,"tile-title--pill",Y[1]),ee[0]&1&&d!==(d=Y[0].url||"#!")&&c(t,"href",d),ee[0]&1&&p!==(p=Y[0].title||Y[0].url||"Shortcut")&&c(t,"title",p),ee[0]&4&&c(k,"aria-expanded",Y[2]),ee[0]&128&&I!==(I=`Open options for ${Y[7]}`)&&c(k,"aria-label",I),ee[0]&4&&we(k,"tile-menu-button--active",Y[2]),Y[2]?D?D.p(Y,ee):(D=Do(Y),D.c(),D.m(b,null)):D&&(D.d(1),D=null),ee[0]&512&&c(e,"draggable",Y[9]),ee[0]&8&&we(e,"tile--focused",Y[3]),ee[0]&16&&we(e,"tile--dragging",Y[4]),ee[0]&32&&we(e,"tile--drag-over",Y[5]),ee[0]&64&&we(e,"tile--top-site",Y[6])},i:ae,o:ae,d(Y){Y&&G(e),V.d(),D&&D.d(),O=!1,Oe(T)}}}function Ns(n,e,t){let l,{bookmark:o}=e,{titleBackdrop:i=!1}=e,{menuOpen:a=!1}=e,{focused:r=!1}=e,{dragging:u=!1}=e,{dragOver:d=!1}=e,{isTopSite:p=!1}=e,{onToggleMenu:S=()=>{}}=e,{onEdit:b=()=>{}}=e,{onRemove:k=()=>{}}=e,{onFallback:g=()=>{}}=e,{onContextMenu:m=()=>{}}=e,{onFocus:y=()=>{}}=e,{onDragStart:B=()=>{}}=e,{onDragOver:I=()=>{}}=e,{onDragLeave:U=()=>{}}=e,{onDrop:O=()=>{}}=e,{onDragEnd:T=()=>{}}=e,{getFaviconUrl:Q=()=>""}=e,A="Shortcut",V="";function D(j){j.preventDefault(),j.stopPropagation(),S==null||S()}function Y(j){j.preventDefault(),j.stopPropagation(),b==null||b()}function ee(j){j.preventDefault(),j.stopPropagation(),k==null||k()}function J(){g==null||g()}function Ie(j){j.preventDefault(),m==null||m(j)}function Se(){y==null||y()}function X(j){if(!l){j.preventDefault();return}B==null||B(j)}function me(j){l&&(j.preventDefault(),I==null||I(j))}function Ze(j){l&&(U==null||U(j))}function Xe(j){l&&(j.preventDefault(),O==null||O(j))}function pe(j){l&&(T==null||T(j))}return n.$$set=j=>{"bookmark"in j&&t(0,o=j.bookmark),"titleBackdrop"in j&&t(1,i=j.titleBackdrop),"menuOpen"in j&&t(2,a=j.menuOpen),"focused"in j&&t(3,r=j.focused),"dragging"in j&&t(4,u=j.dragging),"dragOver"in j&&t(5,d=j.dragOver),"isTopSite"in j&&t(6,p=j.isTopSite),"onToggleMenu"in j&&t(21,S=j.onToggleMenu),"onEdit"in j&&t(22,b=j.onEdit),"onRemove"in j&&t(23,k=j.onRemove),"onFallback"in j&&t(24,g=j.onFallback),"onContextMenu"in j&&t(25,m=j.onContextMenu),"onFocus"in j&&t(26,y=j.onFocus),"onDragStart"in j&&t(27,B=j.onDragStart),"onDragOver"in j&&t(28,I=j.onDragOver),"onDragLeave"in j&&t(29,U=j.onDragLeave),"onDrop"in j&&t(30,O=j.onDrop),"onDragEnd"in j&&t(31,T=j.onDragEnd),"getFaviconUrl"in j&&t(32,Q=j.getFaviconUrl)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(7,A=(o==null?void 0:o.displayTitle)||(o==null?void 0:o.title)||(o==null?void 0:o.url)||"Shortcut"),n.$$.dirty[0]&1|n.$$.dirty[1]&2&&o!=null&&o.url&&!o.fallback&&(t(8,V=""),Q(o.url).then(j=>{j?t(8,V=j):J()}).catch(()=>{J()})),n.$$.dirty[0]&64&&t(9,l=!p)},[o,i,a,r,u,d,p,A,V,l,D,Y,ee,J,Ie,Se,X,me,Ze,Xe,pe,S,b,k,g,m,y,B,I,U,O,T,Q]}class io extends fn{constructor(e){super(),dn(this,e,Ns,js,$t,{bookmark:0,titleBackdrop:1,menuOpen:2,focused:3,dragging:4,dragOver:5,isTopSite:6,onToggleMenu:21,onEdit:22,onRemove:23,onFallback:24,onContextMenu:25,onFocus:26,onDragStart:27,onDragOver:28,onDragLeave:29,onDrop:30,onDragEnd:31,getFaviconUrl:32},null,[-1,-1])}}function Fr(n){const e=n-1;return e*e*e+1}function $l(n,{delay:e=0,duration:t=400,easing:l=al}={}){const o=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:l,css:i=>`opacity: ${i*o}`}}function eo(n,{delay:e=0,duration:t=400,easing:l=Fr,x:o=0,y:i=0,opacity:a=0}={}){const r=getComputedStyle(n),u=+r.opacity,d=r.transform==="none"?"":r.transform,p=u*(1-a),[S,b]=_o(o),[k,g]=_o(i);return{delay:e,duration:t,easing:l,css:(m,y)=>`
			transform: ${d} translate(${(1-m)*S}${b}, ${(1-m)*k}${g});
			opacity: ${u-p*y}`}}function Rs(n,{from:e,to:t},l={}){const o=getComputedStyle(n),i=o.transform==="none"?"":o.transform,[a,r]=o.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*a/t.width-(t.left+a),d=e.top+e.height*r/t.height-(t.top+r),{delay:p=0,duration:S=k=>Math.sqrt(k)*120,easing:b=Fr}=l;return{delay:p,duration:ct(S)?S(Math.sqrt(u*u+d*d)):S,easing:b,css:(k,g)=>{const m=g*u,y=g*d,B=k+g*e.width/t.width,I=k+g*e.height/t.height;return`transform: ${i} translate(${m}px, ${y}px) scale(${B}, ${I});`}}}function Ao(n,e,t){const l=n.slice();return l[7]=e[t],l}function Po(n){let e,t,l;function o(){return n[5](n[7])}return{c(){e=w("button"),e.textContent="Undo",c(e,"type","button"),c(e,"class","toast__undo svelte-f4o70y")},m(i,a){q(i,e,a),t||(l=W(e,"click",o),t=!0)},p(i,a){n=i},d(i){i&&G(e),t=!1,l()}}}function Oo(n,e){let t,l,o=e[7].message+"",i,a,r,u,d,p,S,b,k,g=ae,m,y,B,I=e[7].undoData&&Po(e);function U(){return e[6](e[7])}return{key:n,first:null,c(){t=w("div"),l=w("span"),i=he(o),a=P(),r=w("div"),I&&I.c(),u=P(),d=w("button"),d.textContent="√ó",p=P(),c(l,"class","toast__message svelte-f4o70y"),c(d,"type","button"),c(d,"class","toast__dismiss svelte-f4o70y"),c(d,"aria-label","Dismiss notification"),c(r,"class","toast__actions svelte-f4o70y"),c(t,"class","toast svelte-f4o70y"),c(t,"role","alert"),we(t,"toast--success",e[7].type==="success"),we(t,"toast--error",e[7].type==="error"),we(t,"toast--info",e[7].type==="info"),this.first=t},m(O,T){q(O,t,T),f(t,l),f(l,i),f(t,a),f(t,r),I&&I.m(r,null),f(r,u),f(r,d),f(t,p),m=!0,y||(B=W(d,"click",U),y=!0)},p(O,T){e=O,(!m||T&1)&&o!==(o=e[7].message+"")&&Le(i,o),e[7].undoData?I?I.p(e,T):(I=Po(e),I.c(),I.m(r,u)):I&&(I.d(1),I=null),(!m||T&1)&&we(t,"toast--success",e[7].type==="success"),(!m||T&1)&&we(t,"toast--error",e[7].type==="error"),(!m||T&1)&&we(t,"toast--info",e[7].type==="info")},r(){k=t.getBoundingClientRect()},f(){rs(t),g(),kr(t,k)},a(){g(),g=os(t,k,Rs,{duration:250})},i(O){m||(O&&xt(()=>{m&&(b&&b.end(1),S=ds(t,eo,{y:50,duration:250}),S.start())}),m=!0)},o(O){S&&S.invalidate(),O&&(b=fs(t,$l,{duration:150})),m=!1},d(O){O&&G(t),I&&I.d(),O&&b&&b.end(),y=!1,B()}}}function zs(n){let e,t=[],l=new Map,o,i=ye(n[0]);const a=r=>r[7].id;for(let r=0;r<i.length;r+=1){let u=Ao(n,i,r),d=a(u);l.set(d,t[r]=Oo(d,u))}return{c(){e=w("div");for(let r=0;r<t.length;r+=1)t[r].c();c(e,"class","toast-container svelte-f4o70y"),c(e,"aria-live","polite"),c(e,"aria-label","Notifications")},m(r,u){q(r,e,u);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(r,[u]){if(u&7){i=ye(r[0]),We();for(let d=0;d<t.length;d+=1)t[d].r();t=en(t,u,a,1,r,i,l,e,hs,Oo,null,Ao);for(let d=0;d<t.length;d+=1)t[d].a();qe()}},i(r){if(!o){for(let u=0;u<i.length;u+=1)x(t[u]);o=!0}},o(r){for(let u=0;u<t.length;u+=1)ne(t[u]);o=!1},d(r){r&&G(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Us(n,e,t){let{toasts:l=[]}=e,{onDismiss:o=()=>{}}=e,{onUndo:i=()=>{}}=e;function a(p){o==null||o(p)}function r(p){i==null||i(p)}const u=p=>r(p),d=p=>a(p.id);return n.$$set=p=>{"toasts"in p&&t(0,l=p.toasts),"onDismiss"in p&&t(3,o=p.onDismiss),"onUndo"in p&&t(4,i=p.onUndo)},[l,a,r,o,i,u,d]}class Hs extends fn{constructor(e){super(),dn(this,e,Us,zs,$t,{toasts:0,onDismiss:3,onUndo:4})}}function jo(n){let e,t,l,o,i,a,r,u,d,p,S,b,k;return{c(){e=w("div"),t=w("article"),l=w("header"),l.innerHTML='<h2 id="welcome-title" class="svelte-1g41oro">Welcome to Bookmark Dial</h2> <p class="welcome-subtitle svelte-1g41oro">Your new tab, reimagined.</p>',o=P(),i=w("div"),i.innerHTML='<section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üìÅ</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Select Your Folders</h3> <p class="svelte-1g41oro">Open <strong class="svelte-1g41oro">Settings</strong> (gear icon) and click <strong class="svelte-1g41oro">Manage folders</strong> to choose which bookmark folders appear on your new tab.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚ûï</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Add Shortcuts</h3> <p class="svelte-1g41oro">Click the <strong class="svelte-1g41oro">+ Add shortcut</strong> tile to quickly add new bookmarks directly from this page.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üé®</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Customize Your Theme</h3> <p class="svelte-1g41oro">Choose from multiple themes, accent colors, and gradient backgrounds to personalize your experience.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚å®Ô∏è</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Keyboard Shortcuts</h3> <p class="svelte-1g41oro">Use <kbd class="svelte-1g41oro">Arrow keys</kbd> to navigate, <kbd class="svelte-1g41oro">Enter</kbd> to open, and <kbd class="svelte-1g41oro">Delete</kbd> or <kbd class="svelte-1g41oro">Backspace</kbd> to remove bookmarks.</p></div></section>',a=P(),r=w("footer"),u=w("button"),u.textContent="Get Started",c(l,"class","welcome-header svelte-1g41oro"),c(i,"class","welcome-content svelte-1g41oro"),c(u,"type","button"),c(u,"class","welcome-button svelte-1g41oro"),c(r,"class","welcome-footer svelte-1g41oro"),c(t,"class","welcome-modal svelte-1g41oro"),c(t,"role","dialog"),c(t,"aria-modal","true"),c(t,"aria-labelledby","welcome-title"),c(e,"class","welcome-overlay svelte-1g41oro"),c(e,"role","presentation")},m(g,m){q(g,e,m),f(e,t),f(t,l),f(t,o),f(t,i),f(t,a),f(t,r),f(r,u),S=!0,b||(k=[W(u,"click",function(){ct(n[1])&&n[1].apply(this,arguments)}),W(e,"click",n[2])],b=!0)},p(g,m){n=g},i(g){S||(g&&xt(()=>{S&&(d||(d=yl(t,eo,{y:30,duration:300},!0)),d.run(1))}),g&&xt(()=>{S&&(p||(p=yl(e,$l,{duration:200},!0)),p.run(1))}),S=!0)},o(g){g&&(d||(d=yl(t,eo,{y:30,duration:300},!1)),d.run(0)),g&&(p||(p=yl(e,$l,{duration:200},!1)),p.run(0)),S=!1},d(g){g&&G(e),g&&d&&d.end(),g&&p&&p.end(),b=!1,Oe(k)}}}function Gs(n){let e,t,l,o=n[0]&&jo(n);return{c(){o&&o.c(),e=mt()},m(i,a){o&&o.m(i,a),q(i,e,a),t||(l=W(window,"keydown",function(){ct(n[0]?n[3]:null)&&(n[0]?n[3]:null).apply(this,arguments)}),t=!0)},p(i,[a]){n=i,n[0]?o?(o.p(n,a),a&1&&x(o,1)):(o=jo(n),o.c(),x(o,1),o.m(e.parentNode,e)):o&&(We(),ne(o,1,1,()=>{o=null}),qe())},i(i){x(o)},o(i){ne(o)},d(i){i&&G(e),o&&o.d(i),t=!1,l()}}}function Ws(n,e,t){let{open:l=!1}=e,{onDismiss:o=()=>{}}=e,{onGetStarted:i=()=>{}}=e;function a(u){u.target===u.currentTarget&&(o==null||o())}function r(u){u.key==="Escape"&&(u.preventDefault(),o==null||o())}return n.$$set=u=>{"open"in u&&t(0,l=u.open),"onDismiss"in u&&t(4,o=u.onDismiss),"onGetStarted"in u&&t(1,i=u.onGetStarted)},[l,i,a,r,o]}class qs extends fn{constructor(e){super(),dn(this,e,Ws,Gs,$t,{open:0,onDismiss:4,onGetStarted:1})}}function No(n){let e,t,l,o,i,a,r,u,d,p,S,b,k,g,m,y,B,I,U;return{c(){e=w("div"),t=P(),l=w("menu"),o=w("li"),i=w("button"),i.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M9 2h5v5M14 2L7 9M6 4H3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Open in new tab`,a=P(),r=w("li"),u=w("button"),u.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><rect x="5" y="5" width="8" height="9" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"></rect><path d="M11 5V3a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg>
        Copy URL`,d=P(),p=w("li"),S=P(),b=w("li"),k=w("button"),k.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M11.5 2.5l2 2L5 13H3v-2l8.5-8.5z" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Edit bookmark`,g=P(),m=w("li"),y=w("button"),y.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M3 4h10M6 4V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v1M5 4v9a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Remove`,c(e,"class","context-menu-overlay svelte-6dpg3b"),c(e,"role","presentation"),c(i,"type","button"),c(i,"class","context-menu__item svelte-6dpg3b"),c(i,"role","menuitem"),c(o,"class","svelte-6dpg3b"),c(u,"type","button"),c(u,"class","context-menu__item svelte-6dpg3b"),c(u,"role","menuitem"),c(r,"class","svelte-6dpg3b"),c(p,"class","context-menu__divider svelte-6dpg3b"),c(p,"role","separator"),c(k,"type","button"),c(k,"class","context-menu__item svelte-6dpg3b"),c(k,"role","menuitem"),c(b,"class","svelte-6dpg3b"),c(y,"type","button"),c(y,"class","context-menu__item context-menu__item--danger svelte-6dpg3b"),c(y,"role","menuitem"),c(m,"class","svelte-6dpg3b"),c(l,"class","context-menu svelte-6dpg3b"),c(l,"style",n[1]),c(l,"aria-label",B="Actions for "+n[2])},m(O,T){q(O,e,T),q(O,t,T),q(O,l,T),f(l,o),f(o,i),f(l,a),f(l,r),f(r,u),f(l,d),f(l,p),f(l,S),f(l,b),f(b,k),f(l,g),f(l,m),f(m,y),I||(U=[W(e,"click",n[7]),W(e,"contextmenu",Jl(n[7])),W(i,"click",n[5]),W(u,"click",n[6]),W(k,"click",n[3]),W(y,"click",n[4])],I=!0)},p(O,T){T&2&&c(l,"style",O[1]),T&4&&B!==(B="Actions for "+O[2])&&c(l,"aria-label",B)},d(O){O&&(G(e),G(t),G(l)),I=!1,Oe(U)}}}function Vs(n){let e,t,l,o=n[0]&&No(n);return{c(){o&&o.c(),e=mt()},m(i,a){o&&o.m(i,a),q(i,e,a),t||(l=W(window,"keydown",function(){ct(n[0]?n[8]:null)&&(n[0]?n[8]:null).apply(this,arguments)}),t=!0)},p(i,[a]){n=i,n[0]?o?o.p(n,a):(o=No(n),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:ae,o:ae,d(i){i&&G(e),o&&o.d(i),t=!1,l()}}}function Ro(n){var i;const e=document.querySelectorAll(".context-menu__item"),t=document.activeElement;let o=Array.from(e).indexOf(t)+n;o<0&&(o=e.length-1),o>=e.length&&(o=0),(i=e[o])==null||i.focus()}function Ks(n,e,t){let l,o,{bookmark:i=null}=e,{position:a={x:0,y:0}}=e,{visible:r=!1}=e;const u=ss();function d(){u("edit")}function p(){u("remove")}function S(){u("opennewtab")}function b(){u("copyurl")}function k(){u("close")}function g(m){m.key==="Escape"?(m.preventDefault(),k()):m.key==="ArrowDown"?(m.preventDefault(),Ro(1)):m.key==="ArrowUp"&&(m.preventDefault(),Ro(-1))}return n.$$set=m=>{"bookmark"in m&&t(9,i=m.bookmark),"position"in m&&t(10,a=m.position),"visible"in m&&t(0,r=m.visible)},n.$$.update=()=>{n.$$.dirty&512&&t(2,l=(i==null?void 0:i.title)||(i==null?void 0:i.url)||"bookmark"),n.$$.dirty&1024&&t(1,o=`left: ${a.x}px; top: ${a.y}px;`)},[r,o,l,d,p,S,b,k,g,i,a]}class Qs extends fn{constructor(e){super(),dn(this,e,Ks,Vs,$t,{bookmark:9,position:10,visible:0})}}function zo(n){let e,t,l,o,i,a,r,u,d,p,S,b=n[1]&&Uo(n);return{c(){e=w("div"),t=Ct("svg"),l=Ct("circle"),o=Ct("path"),i=P(),a=w("input"),r=P(),b&&b.c(),u=P(),d=w("button"),d.innerHTML='<svg viewBox="0 0 16 16" aria-hidden="true" class="svelte-qypsdi"><path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',c(l,"cx","6.5"),c(l,"cy","6.5"),c(l,"r","5"),c(l,"stroke","currentColor"),c(l,"stroke-width","1.5"),c(l,"fill","none"),c(o,"d","M10.5 10.5L14 14"),c(o,"stroke","currentColor"),c(o,"stroke-width","1.5"),c(o,"stroke-linecap","round"),c(t,"class","search-bar__icon svelte-qypsdi"),c(t,"viewBox","0 0 16 16"),c(t,"aria-hidden","true"),c(a,"type","search"),c(a,"class","search-bar__input svelte-qypsdi"),c(a,"placeholder","Search bookmarks‚Ä¶"),a.value=n[1],c(a,"aria-label","Search bookmarks"),c(d,"type","button"),c(d,"class","search-bar__close svelte-qypsdi"),c(d,"aria-label","Close search"),c(e,"class","search-bar svelte-qypsdi"),c(e,"role","search")},m(k,g){q(k,e,g),f(e,t),f(t,l),f(t,o),f(e,i),f(e,a),n[8](a),f(e,r),b&&b.m(e,null),f(e,u),f(e,d),p||(S=[W(a,"input",n[4]),W(a,"keydown",n[6]),W(d,"click",function(){ct(n[2])&&n[2].apply(this,arguments)})],p=!0)},p(k,g){n=k,g&2&&a.value!==n[1]&&(a.value=n[1]),n[1]?b?b.p(n,g):(b=Uo(n),b.c(),b.m(e,u)):b&&(b.d(1),b=null)},d(k){k&&G(e),n[8](null),b&&b.d(),p=!1,Oe(S)}}}function Uo(n){let e,t,l;return{c(){e=w("button"),e.textContent="√ó",c(e,"type","button"),c(e,"class","search-bar__clear svelte-qypsdi"),c(e,"aria-label","Clear search")},m(o,i){q(o,e,i),t||(l=W(e,"click",n[5]),t=!0)},p:ae,d(o){o&&G(e),t=!1,l()}}}function Ys(n){let e,t=n[0]&&zo(n);return{c(){t&&t.c(),e=mt()},m(l,o){t&&t.m(l,o),q(l,e,o)},p(l,[o]){l[0]?t?t.p(l,o):(t=zo(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ae,o:ae,d(l){l&&G(e),t&&t.d(l)}}}function Js(n,e,t){let{visible:l=!1}=e,{query:o=""}=e,{onSearchChange:i=()=>{}}=e,{onClose:a=()=>{}}=e,r;function u(b){i==null||i(b.target.value)}function d(){i==null||i(""),r==null||r.focus()}function p(b){b.key==="Escape"&&(b.preventDefault(),o?i==null||i(""):a==null||a())}function S(b){Gt[b?"unshift":"push"](()=>{r=b,t(3,r)})}return n.$$set=b=>{"visible"in b&&t(0,l=b.visible),"query"in b&&t(1,o=b.query),"onSearchChange"in b&&t(7,i=b.onSearchChange),"onClose"in b&&t(2,a=b.onClose)},n.$$.update=()=>{n.$$.dirty&9&&l&&r&&r.focus()},[l,o,a,r,u,d,p,i,S]}class Zs extends fn{constructor(e){super(),dn(this,e,Js,Ys,$t,{visible:0,query:1,onSearchChange:7,onClose:2})}}const Xs=[{title:"ESLint",url:"https://eslint.org"},{title:"Prettier",url:"https://prettier.io"},{title:"Parcel",url:"https://parceljs.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"Visual Studio Code",url:"https://code.visualstudio.com"},{title:"npm",url:"https://www.npmjs.com"},{title:"Docker",url:"https://www.docker.com"},{title:"Kubernetes",url:"https://kubernetes.io"},{title:"Postman",url:"https://www.postman.com"},{title:"GitLab",url:"https://gitlab.com"},{title:"Bitbucket",url:"https://bitbucket.org"},{title:"Jest",url:"https://jestjs.io"},{title:"Webpack",url:"https://webpack.js.org"},{title:"Vite",url:"https://vitejs.dev"},{title:"TypeScript",url:"https://www.typescriptlang.org"},{title:"Babel",url:"https://babeljs.io"},{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Svelte",url:"https://svelte.dev"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt",url:"https://nuxt.com"},{title:"Tailwind CSS",url:"https://tailwindcss.com"},{title:"Bootstrap",url:"https://getbootstrap.com"},{title:"Sass",url:"https://sass-lang.com"},{title:"Node.js",url:"https://nodejs.org"},{title:"Deno",url:"https://deno.com"},{title:"Express",url:"https://expressjs.com"},{title:"Fastify",url:"https://www.fastify.io"},{title:"MongoDB",url:"https://www.mongodb.com"},{title:"PostgreSQL",url:"https://www.postgresql.org"},{title:"Redis",url:"https://redis.io"},{title:"MySQL",url:"https://www.mysql.com"},{title:"Vercel",url:"https://vercel.com"},{title:"Netlify",url:"https://www.netlify.com"},{title:"Heroku",url:"https://www.heroku.com"},{title:"AWS",url:"https://aws.amazon.com"},{title:"Firebase",url:"https://firebase.google.com"},{title:"Supabase",url:"https://supabase.com"},{title:"Figma",url:"https://www.figma.com"},{title:"Canva",url:"https://www.canva.com"},{title:"VS Code Extensions",url:"https://marketplace.visualstudio.com"},{title:"Chrome DevTools",url:"https://developer.chrome.com/docs/devtools"},{title:"Can I Use",url:"https://caniuse.com"},{title:"RegExr",url:"https://regexr.com"},{title:"JSON Formatter",url:"https://jsonformatter.org"},{title:"CodePen",url:"https://codepen.io"},{title:"JSFiddle",url:"https://jsfiddle.net"},{title:"Replit",url:"https://replit.com"},{title:"StackBlitz",url:"https://stackblitz.com"},{title:"GraphQL",url:"https://graphql.org"},{title:"Prisma",url:"https://www.prisma.io"},{title:"Cypress",url:"https://www.cypress.io"},{title:"Playwright",url:"https://playwright.dev"},{title:"Testing Library",url:"https://testing-library.com"},{title:"Storybook",url:"https://storybook.js.org"},{title:"Lodash",url:"https://lodash.com"},{title:"Axios",url:"https://axios-http.com"},{title:"Day.js",url:"https://day.js.org"},{title:"Chart.js",url:"https://www.chartjs.org"},{title:"Three.js",url:"https://threejs.org"}],It={fiction:{classicNovels:[{title:"Project Gutenberg",url:"https://www.gutenberg.org"},{title:"The Literature Network",url:"http://www.online-literature.com"},{title:"Classic Reader",url:"http://www.classicreader.com"},{title:"Read Print",url:"http://www.readprint.com"},{title:"Free Classic Literature",url:"https://www.freeclassicebooks.com"},{title:"Classic Literature Library",url:"https://classiclit.about.com"}],modernFiction:[{title:"Electric Literature",url:"https://electricliterature.com"},{title:"The Paris Review",url:"https://www.theparisreview.org"},{title:"Granta",url:"https://granta.com"},{title:"LitHub",url:"https://lithub.com"},{title:"The Rumpus",url:"https://therumpus.net"},{title:"The Millions",url:"https://themillions.com"}],shortStories:[{title:"Daily Science Fiction",url:"https://dailysciencefiction.com"},{title:"Narrative Magazine",url:"https://www.narrativemagazine.com"},{title:"One Story",url:"https://www.one-story.com"},{title:"Flash Fiction Online",url:"https://flashfictiononline.com"},{title:"Smokelong Quarterly",url:"http://www.smokelong.com"},{title:"Zoetrope All-Story",url:"https://www.all-story.com"}]},nonFiction:{essays:[{title:"The New Yorker Essays",url:"https://www.newyorker.com/culture/personal-history"},{title:"The Atlantic Essays",url:"https://www.theatlantic.com/ideas/"},{title:"Harper's Magazine",url:"https://harpers.org"},{title:"The Believer",url:"https://believermag.com"},{title:"n+1 Magazine",url:"https://www.nplusonemag.com"},{title:"Aeon Essays",url:"https://aeon.co/essays"}],biography:[{title:"Biography.com",url:"https://www.biography.com"},{title:"Famous People",url:"https://www.thefamouspeople.com"},{title:"Britannica Biographies",url:"https://www.britannica.com/biography"},{title:"Stanford Encyclopedia",url:"https://plato.stanford.edu"},{title:"Internet Biography",url:"https://www.notablebiographies.com"},{title:"Lives of the Great",url:"https://www.famousscientists.org"}],history:[{title:"History.com",url:"https://www.history.com"},{title:"Smithsonian Magazine",url:"https://www.smithsonianmag.com/history/"},{title:"History Today",url:"https://www.historytoday.com"},{title:"BBC History",url:"https://www.bbc.co.uk/history"},{title:"American Historical",url:"https://www.historians.org"},{title:"Ancient History",url:"https://www.ancient.eu"}]},poetry:{classicPoetry:[{title:"Poetry Foundation",url:"https://www.poetryfoundation.org"},{title:"Poets.org",url:"https://poets.org"},{title:"Poetry Archive",url:"https://www.poetryarchive.org"},{title:"Famous Poets",url:"https://www.famouspoetsandpoems.com"},{title:"All Poetry",url:"https://allpoetry.com"},{title:"Classic Poetry Aloud",url:"https://www.poetryoutloud.org"}],contemporaryPoetry:[{title:"Poetry Magazine",url:"https://www.poetrymagazine.org"},{title:"The Adroit Journal",url:"https://theadroitjournal.org"},{title:"Rattle",url:"https://www.rattle.com"},{title:"Poem-a-Day",url:"https://www.poets.org/poetsorg/poem-day"},{title:"Button Poetry",url:"https://buttonpoetry.com"},{title:"Split This Rock",url:"https://www.splitthisrock.org"}],spokenWord:[{title:"TED Poetry",url:"https://www.ted.com/topics/poetry"},{title:"Poetry Slam Inc",url:"https://www.poetryslam.com"},{title:"Def Poetry",url:"https://www.hbo.com/def-poetry"},{title:"Write About Now",url:"https://www.writeaboutnow.com"},{title:"Brave New Voices",url:"https://youthspeaks.org"},{title:"Individual World",url:"https://www.iwps.org"}]},academic:{literaryCriticism:[{title:"JSTOR",url:"https://www.jstor.org"},{title:"Project MUSE",url:"https://muse.jhu.edu"},{title:"Oxford Academic",url:"https://academic.oup.com"},{title:"Cambridge Core",url:"https://www.cambridge.org/core"},{title:"Taylor & Francis",url:"https://www.tandfonline.com"},{title:"SAGE Journals",url:"https://journals.sagepub.com"}],literaryTheory:[{title:"Critical Theory",url:"https://criticalthoery.web.unc.edu"},{title:"Theory.org",url:"https://www.theory.org.uk"},{title:"Yale Theory",url:"https://theory.yale.edu"},{title:"Johns Hopkins Guide",url:"https://litguide.press.jhu.edu"},{title:"Internet Encyclopedia",url:"https://iep.utm.edu"},{title:"Stanford Literary Lab",url:"https://litlab.stanford.edu"}],journals:[{title:"PMLA",url:"https://www.mla.org/Publications/Journals/PMLA"},{title:"New Literary History",url:"https://muse.jhu.edu/journal/96"},{title:"Modern Fiction Studies",url:"https://muse.jhu.edu/journal/122"},{title:"Contemporary Literature",url:"https://muse.jhu.edu/journal/92"},{title:"Modernism/modernity",url:"https://muse.jhu.edu/journal/186"},{title:"American Literature",url:"https://read.dukeupress.edu/american-literature"}]}},{Map:cl}=Zi;function Ho(n,e,t){const l=n.slice();return l[222]=e[t],l}function Go(n,e,t){const l=n.slice();return l[219]=e[t],l}function Wo(n,e,t){const l=n.slice();return l[216]=e[t],l[218]=t,l}function qo(n,e,t){const l=n.slice();return l[219]=e[t],l[221]=t,l}function Vo(n,e,t){const l=n.slice();return l[227]=e[t],l}function Ko(n,e,t){const l=n.slice();return l[230]=e[t],l}function Qo(n,e,t){const l=n.slice();return l[230]=e[t],l}function Yo(n,e,t){const l=n.slice();return l[230]=e[t],l}function Jo(n){let e,t=n[230].label+"",l,o,i,a,r;function u(){return n[108](n[230])}return{c(){e=w("button"),l=he(t),o=P(),c(e,"type","button"),c(e,"class","choice-button"),c(e,"data-active",i=n[3].theme===n[230].id)},m(d,p){q(d,e,p),f(e,l),f(e,o),a||(r=W(e,"click",u),a=!0)},p(d,p){n=d,p[0]&8&&i!==(i=n[3].theme===n[230].id)&&c(e,"data-active",i)},d(d){d&&G(e),a=!1,r()}}}function Zo(n){let e,t,l,o,i,a,r;function u(){return n[109](n[230])}return{c(){e=w("button"),c(e,"type","button"),c(e,"class","accent-swatch"),c(e,"style",t=`--swatch-color: ${n[230].colors.base};`),c(e,"data-active",l=n[3].accent===n[230].id),c(e,"aria-label",o=n[230].label),c(e,"title",i=n[230].label)},m(d,p){q(d,e,p),a||(r=W(e,"click",u),a=!0)},p(d,p){n=d,p[1]&128&&t!==(t=`--swatch-color: ${n[230].colors.base};`)&&c(e,"style",t),p[0]&8|p[1]&128&&l!==(l=n[3].accent===n[230].id)&&c(e,"data-active",l),p[1]&128&&o!==(o=n[230].label)&&c(e,"aria-label",o),p[1]&128&&i!==(i=n[230].label)&&c(e,"title",i)},d(d){d&&G(e),a=!1,r()}}}function xs(n){let e,t,l=n[6]?"Show fewer accent colors":"More accent colors",o,i,a;return{c(){e=w("div"),t=w("button"),o=he(l),c(t,"type","button"),c(t,"class","swatch-toggle-button"),c(t,"aria-expanded",n[6]),c(e,"class","swatch-toggle-row")},m(r,u){q(r,e,u),f(e,t),f(t,o),i||(a=W(t,"click",n[44]),i=!0)},p(r,u){u[0]&64&&l!==(l=r[6]?"Show fewer accent colors":"More accent colors")&&Le(o,l),u[0]&64&&c(t,"aria-expanded",r[6])},d(r){r&&G(e),i=!1,a()}}}function Xo(n){let e,t,l=n[230].label+"",o,i,a,r,u,d;function p(){return n[111](n[230])}return{c(){e=w("button"),t=w("span"),o=he(l),i=P(),c(e,"type","button"),c(e,"class","gradient-option"),c(e,"style",a=`--gradient-sample-light: ${n[230].gradients.light}; --gradient-sample-dark: ${n[230].gradients.dark};`),c(e,"data-active",r=n[3].background.mode==="gradient"&&n[3].background.gradientId===n[230].id)},m(S,b){q(S,e,b),f(e,t),f(t,o),f(e,i),u||(d=W(e,"click",p),u=!0)},p(S,b){n=S,b[1]&256&&l!==(l=n[230].label+"")&&Le(o,l),b[1]&256&&a!==(a=`--gradient-sample-light: ${n[230].gradients.light}; --gradient-sample-dark: ${n[230].gradients.dark};`)&&c(e,"style",a),b[0]&8|b[1]&256&&r!==(r=n[3].background.mode==="gradient"&&n[3].background.gradientId===n[230].id)&&c(e,"data-active",r)},d(S){S&&G(e),u=!1,d()}}}function $s(n){let e,t,l=n[5]?"Show fewer gradients":"More gradients",o,i,a;return{c(){e=w("div"),t=w("button"),o=he(l),c(t,"type","button"),c(t,"class","swatch-toggle-button"),c(t,"aria-expanded",n[5]),c(e,"class","swatch-toggle-row")},m(r,u){q(r,e,u),f(e,t),f(t,o),i||(a=W(t,"click",n[45]),i=!0)},p(r,u){u[0]&32&&l!==(l=r[5]?"Show fewer gradients":"More gradients")&&Le(o,l),u[0]&32&&c(t,"aria-expanded",r[5])},d(r){r&&G(e),i=!1,a()}}}function ea(n){let e=[],t=new cl,l,o=ye(n[14]);const i=a=>a[227].id;for(let a=0;a<o.length;a+=1){let r=Vo(n,o,a),u=i(r);t.set(u,e[a]=xo(u,r))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=mt()},m(a,r){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(a,r);q(a,l,r)},p(a,r){r[0]&16384&&(o=ye(a[14]),e=en(e,r,i,1,a,o,t,l.parentNode,vr,xo,l,Vo))},d(a){a&&G(l);for(let r=0;r<e.length;r+=1)e[r].d(a)}}}function ta(n){let e;return{c(){e=w("span"),e.textContent="Default folder",c(e,"class","folder-chip folder-chip--empty"),c(e,"title","Default Bookmark Dial folder")},m(t,l){q(t,e,l)},p:ae,d(t){t&&G(e)}}}function xo(n,e){let t,l,o=e[227].label+"",i,a,r,u=e[227].count+"",d,p,S;return{key:n,first:null,c(){t=w("span"),l=w("span"),i=he(o),a=P(),r=w("span"),d=he(u),p=P(),c(l,"class","folder-chip__label"),c(r,"class","folder-chip__count"),c(t,"class","folder-chip"),c(t,"title",S=e[227].fullPath),this.first=t},m(b,k){q(b,t,k),f(t,l),f(l,i),f(t,a),f(t,r),f(r,d),f(t,p)},p(b,k){e=b,k[0]&16384&&o!==(o=e[227].label+"")&&Le(i,o),k[0]&16384&&u!==(u=e[227].count+"")&&Le(d,u),k[0]&16384&&S!==(S=e[227].fullPath)&&c(t,"title",S)},d(b){b&&G(t)}}}function $o(n){let e,t,l,o,i,a,r,u,d,p,S,b,k,g;return{c(){e=w("div"),t=w("label"),l=w("span"),l.textContent="Folder width",o=P(),i=w("input"),r=P(),u=w("label"),d=w("input"),S=P(),b=w("div"),b.innerHTML='<span class="settings-toggle__label">Compact header</span> <span class="settings-toggle__description">Hide folder path to save space.</span>',c(l,"class","settings-control__label"),c(i,"type","range"),c(i,"min","480"),c(i,"max","1860"),c(i,"step","20"),i.value=a=n[3].folderColumnWidth,c(t,"class","settings-control"),c(d,"type","checkbox"),d.checked=p=n[3].compactFolderHeader,c(b,"class","settings-toggle__body"),c(u,"class","settings-toggle"),c(e,"class","ungrouped-settings")},m(m,y){q(m,e,y),f(e,t),f(t,l),f(t,o),f(t,i),f(e,r),f(e,u),f(u,d),f(u,S),f(u,b),k||(g=[W(i,"input",n[113]),W(d,"change",n[114])],k=!0)},p(m,y){y[0]&8&&a!==(a=m[3].folderColumnWidth)&&(i.value=a),y[0]&8&&p!==(p=m[3].compactFolderHeader)&&(d.checked=p)},d(m){m&&G(e),k=!1,Oe(g)}}}function er(n){let e,t;return e=new Zs({props:{visible:n[30],query:n[7],onSearchChange:n[77],onClose:n[78]}}),{c(){qt(e.$$.fragment)},m(l,o){At(e,l,o),t=!0},p(l,o){const i={};o[0]&1073741824&&(i.visible=l[30]),o[0]&128&&(i.query=l[7]),e.$set(i)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){Pt(e,l)}}}function na(n){let e,t=[],l=new cl,o=`${n[3].folderColumnWidth}px`,i,a=ye(n[37]);const r=u=>u[222].id;for(let u=0;u<a.length;u+=1){let d=Ho(n,a,u),p=r(d);l.set(p,t[u]=lr(p,d))}return{c(){e=w("div");for(let u=0;u<t.length;u+=1)t[u].c();c(e,"class","folder-grid-list"),c(e,"aria-label","Bookmark folders"),El(e,"max-width",o)},m(u,d){q(u,e,d);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);i=!0},p(u,d){d[0]&1048584|d[1]&88|d[2]&133694e3&&(a=ye(u[37]),We(),t=en(t,d,r,1,u,a,l,e,In,lr,null,Ho),qe()),d[0]&8&&o!==(o=`${u[3].folderColumnWidth}px`)&&El(e,"max-width",o)},i(u){if(!i){for(let d=0;d<a.length;d+=1)x(t[d]);i=!0}},o(u){for(let d=0;d<t.length;d+=1)ne(t[d]);i=!1},d(u){u&&G(e);for(let d=0;d<t.length;d+=1)t[d].d()}}}function la(n){let e,t=[],l=new cl,o,i,a,r,u,d,p,S=ye(n[36]);const b=g=>g[219].id;for(let g=0;g<S.length;g+=1){let m=qo(n,S,g),y=b(m);l.set(y,t[g]=or(y,m))}let k=n[3].enableTopSites&&n[31].length>0&&rr(n);return{c(){e=w("div");for(let g=0;g<t.length;g+=1)t[g].c();o=P(),k&&k.c(),i=P(),a=w("article"),r=w("button"),r.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',c(r,"class","add-button"),c(r,"type","button"),c(r,"aria-label","Add new bookmark shortcut"),c(a,"class","tile add-tile"),c(a,"draggable","false"),c(e,"id","dial-grid"),c(e,"class","grid"),c(e,"aria-label","Bookmark Dial links"),c(e,"tabindex","0"),c(e,"role","group")},m(g,m){q(g,e,m);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null);f(e,o),k&&k.m(e,null),f(e,i),f(e,a),f(a,r),n[128](e),u=!0,d||(p=[W(r,"click",n[86]),W(e,"keydown",n[79])],d=!0)},p(g,m){m[0]&1048584|m[1]&58|m[2]&117178928&&(S=ye(g[36]),We(),t=en(t,m,b,1,g,S,l,e,In,or,o,qo),qe()),g[3].enableTopSites&&g[31].length>0?k?(k.p(g,m),m[0]&8|m[1]&1&&x(k,1)):(k=rr(g),k.c(),x(k,1),k.m(e,i)):k&&(We(),ne(k,1,1,()=>{k=null}),qe())},i(g){if(!u){for(let m=0;m<S.length;m+=1)x(t[m]);x(k),u=!0}},o(g){for(let m=0;m<t.length;m+=1)ne(t[m]);ne(k),u=!1},d(g){g&&G(e);for(let m=0;m<t.length;m+=1)t[m].d();k&&k.d(),n[128](null),d=!1,Oe(p)}}}function oa(n){let e,t=n[222].label+"",l,o,i,a=n[222].fullPath&&n[222].fullPath!==n[222].label&&tr(n);return{c(){e=w("h4"),l=he(t),o=P(),a&&a.c(),i=mt(),c(e,"class","folder-section__title")},m(r,u){q(r,e,u),f(e,l),q(r,o,u),a&&a.m(r,u),q(r,i,u)},p(r,u){u[1]&64&&t!==(t=r[222].label+"")&&Le(l,t),r[222].fullPath&&r[222].fullPath!==r[222].label?a?a.p(r,u):(a=tr(r),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},d(r){r&&(G(e),G(o),G(i)),a&&a.d(r)}}}function ra(n){let e,t=n[222].label+"",l,o;return{c(){e=w("h4"),l=he(t),c(e,"class","folder-section__title"),c(e,"title",o=n[222].fullPath)},m(i,a){q(i,e,a),f(e,l)},p(i,a){a[1]&64&&t!==(t=i[222].label+"")&&Le(l,t),a[1]&64&&o!==(o=i[222].fullPath)&&c(e,"title",o)},d(i){i&&G(e)}}}function tr(n){let e,t=n[222].fullPath+"",l;return{c(){e=w("p"),l=he(t),c(e,"class","folder-section__path")},m(o,i){q(o,e,i),f(e,l)},p(o,i){i[1]&64&&t!==(t=o[222].fullPath+"")&&Le(l,t)},d(o){o&&G(e)}}}function ia(n){let e,t,l,o,i,a;function r(){return n[138](n[222])}return{c(){e=w("div"),t=w("article"),l=w("button"),l.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',c(l,"class","add-button"),c(l,"type","button"),c(t,"class","tile add-tile"),c(t,"draggable","false"),c(e,"class","grid folder-section__grid"),c(e,"role","group"),c(e,"aria-label",o=`Shortcuts in ${n[222].fullPath||n[222].label}`)},m(u,d){q(u,e,d),f(e,t),f(t,l),i||(a=W(l,"click",r),i=!0)},p(u,d){n=u,d[1]&64&&o!==(o=`Shortcuts in ${n[222].fullPath||n[222].label}`)&&c(e,"aria-label",o)},i:ae,o:ae,d(u){u&&G(e),i=!1,a()}}}function sa(n){let e,t=[],l=new cl,o,i,a,r,u,d,p,S=ye(n[222].items);const b=g=>g[219].id;for(let g=0;g<S.length;g+=1){let m=Go(n,S,g),y=b(m);l.set(y,t[g]=nr(y,m))}function k(){return n[137](n[222])}return{c(){e=w("div");for(let g=0;g<t.length;g+=1)t[g].c();o=P(),i=w("article"),a=w("button"),a.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',c(a,"class","add-button"),c(a,"type","button"),c(i,"class","tile add-tile"),c(i,"draggable","false"),c(e,"class","grid folder-section__grid"),c(e,"role","group"),c(e,"aria-label",r=`Shortcuts in ${n[222].fullPath||n[222].label}`)},m(g,m){q(g,e,m);for(let y=0;y<t.length;y+=1)t[y]&&t[y].m(e,null);f(e,o),f(e,i),f(i,a),u=!0,d||(p=W(a,"click",k),d=!0)},p(g,m){n=g,m[0]&1048584|m[1]&88|m[2]&116916784&&(S=ye(n[222].items),We(),t=en(t,m,b,1,n,S,l,e,In,nr,o,Go),qe()),(!u||m[1]&64&&r!==(r=`Shortcuts in ${n[222].fullPath||n[222].label}`))&&c(e,"aria-label",r)},i(g){if(!u){for(let m=0;m<S.length;m+=1)x(t[m]);u=!0}},o(g){for(let m=0;m<t.length;m+=1)ne(t[m]);u=!1},d(g){g&&G(e);for(let m=0;m<t.length;m+=1)t[m].d();d=!1,p()}}}function nr(n,e){var k,g;let t,l,o;function i(){return e[129](e[219])}function a(){return e[130](e[219])}function r(){return e[131](e[219])}function u(){return e[132](e[219])}function d(...m){return e[133](e[219],...m)}function p(...m){return e[134](e[219],e[222],...m)}function S(...m){return e[135](e[219],...m)}function b(...m){return e[136](e[219],...m)}return l=new io({props:{bookmark:e[219],titleBackdrop:e[3].titleBackdrop,menuOpen:e[20]===e[219].id,focused:!1,dragging:((k=e[34])==null?void 0:k.id)===e[219].id,dragOver:((g=e[35])==null?void 0:g.id)===e[219].id,onToggleMenu:i,onEdit:a,onRemove:r,onFallback:u,onContextMenu:d,onFocus:Ia,onDragStart:p,onDragOver:S,onDragLeave:e[83],onDrop:b,onDragEnd:e[85],getFaviconUrl:so}}),{key:n,first:null,c(){t=mt(),qt(l.$$.fragment),this.first=t},m(m,y){q(m,t,y),At(l,m,y),o=!0},p(m,y){var I,U;e=m;const B={};y[1]&64&&(B.bookmark=e[219]),y[0]&8&&(B.titleBackdrop=e[3].titleBackdrop),y[0]&1048576|y[1]&64&&(B.menuOpen=e[20]===e[219].id),y[1]&72&&(B.dragging=((I=e[34])==null?void 0:I.id)===e[219].id),y[1]&80&&(B.dragOver=((U=e[35])==null?void 0:U.id)===e[219].id),y[1]&64&&(B.onToggleMenu=i),y[1]&64&&(B.onEdit=a),y[1]&64&&(B.onRemove=r),y[1]&64&&(B.onFallback=u),y[1]&64&&(B.onContextMenu=d),y[1]&64&&(B.onDragStart=p),y[1]&64&&(B.onDragOver=S),y[1]&64&&(B.onDrop=b),l.$set(B)},i(m){o||(x(l.$$.fragment,m),o=!0)},o(m){ne(l.$$.fragment,m),o=!1},d(m){m&&G(t),Pt(l,m)}}}function lr(n,e){let t,l,o,i,a,r,u,d;function p(y,B){return y[3].compactFolderHeader?ra:oa}let S=p(e),b=S(e);const k=[sa,ia],g=[];function m(y,B){return y[222].items.length?0:1}return a=m(e),r=g[a]=k[a](e),{key:n,first:null,c(){t=w("section"),l=w("header"),o=w("div"),b.c(),i=P(),r.c(),u=P(),c(o,"class","folder-section__titles"),c(l,"class","folder-section__header"),c(t,"class","folder-section"),this.first=t},m(y,B){q(y,t,B),f(t,l),f(l,o),b.m(o,null),f(t,i),g[a].m(t,null),f(t,u),d=!0},p(y,B){e=y,S===(S=p(e))&&b?b.p(e,B):(b.d(1),b=S(e),b&&(b.c(),b.m(o,null)));let I=a;a=m(e),a===I?g[a].p(e,B):(We(),ne(g[I],1,1,()=>{g[I]=null}),qe(),r=g[a],r?r.p(e,B):(r=g[a]=k[a](e),r.c()),x(r,1),r.m(t,u))},i(y){d||(x(r),d=!0)},o(y){ne(r),d=!1},d(y){y&&G(t),b.d(),g[a].d()}}}function or(n,e){var g,m;let t,l,o;function i(){return e[118](e[219])}function a(){return e[119](e[219])}function r(){return e[120](e[219])}function u(){return e[121](e[219])}function d(...y){return e[122](e[219],...y)}function p(){return e[123](e[221])}function S(...y){return e[124](e[219],...y)}function b(...y){return e[125](e[219],...y)}function k(...y){return e[126](e[219],...y)}return l=new io({props:{bookmark:e[219],titleBackdrop:e[3].titleBackdrop,menuOpen:e[20]===e[219].id,focused:e[32]===e[221],dragging:((g=e[34])==null?void 0:g.id)===e[219].id,dragOver:((m=e[35])==null?void 0:m.id)===e[219].id,onToggleMenu:i,onEdit:a,onRemove:r,onFallback:u,onContextMenu:d,onFocus:p,onDragStart:S,onDragOver:b,onDragLeave:e[83],onDrop:k,onDragEnd:e[85],getFaviconUrl:so}}),{key:n,first:null,c(){t=mt(),qt(l.$$.fragment),this.first=t},m(y,B){q(y,t,B),At(l,y,B),o=!0},p(y,B){var U,O;e=y;const I={};B[1]&32&&(I.bookmark=e[219]),B[0]&8&&(I.titleBackdrop=e[3].titleBackdrop),B[0]&1048576|B[1]&32&&(I.menuOpen=e[20]===e[219].id),B[1]&34&&(I.focused=e[32]===e[221]),B[1]&40&&(I.dragging=((U=e[34])==null?void 0:U.id)===e[219].id),B[1]&48&&(I.dragOver=((O=e[35])==null?void 0:O.id)===e[219].id),B[1]&32&&(I.onToggleMenu=i),B[1]&32&&(I.onEdit=a),B[1]&32&&(I.onRemove=r),B[1]&32&&(I.onFallback=u),B[1]&32&&(I.onContextMenu=d),B[1]&32&&(I.onFocus=p),B[1]&32&&(I.onDragStart=S),B[1]&32&&(I.onDragOver=b),B[1]&32&&(I.onDrop=k),l.$set(I)},i(y){o||(x(l.$$.fragment,y),o=!0)},o(y){ne(l.$$.fragment,y),o=!1},d(y){y&&G(t),Pt(l,y)}}}function rr(n){let e=[],t=new cl,l,o,i=ye(n[31]);const a=r=>r[216].id;for(let r=0;r<i.length;r+=1){let u=Wo(n,i,r),d=a(u);t.set(d,e[r]=ir(d,u))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=mt()},m(r,u){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(r,u);q(r,l,u),o=!0},p(r,u){u[0]&8|u[1]&35|u[2]&262144&&(i=ye(r[31]),We(),e=en(e,u,a,1,r,i,t,l.parentNode,In,ir,l,Wo),qe())},i(r){if(!o){for(let u=0;u<i.length;u+=1)x(e[u]);o=!0}},o(r){for(let u=0;u<e.length;u+=1)ne(e[u]);o=!1},d(r){r&&G(l);for(let u=0;u<e.length;u+=1)e[u].d(r)}}}function ir(n,e){let t,l,o;function i(){return e[127](e[218])}return l=new io({props:{bookmark:e[216],titleBackdrop:e[3].titleBackdrop,menuOpen:!1,focused:e[32]===e[36].length+e[218],dragging:!1,dragOver:!1,onToggleMenu:ga,onEdit:ma,onRemove:pa,onFallback:ba,onContextMenu:ka,onFocus:i,onDragStart:_a,onDragOver:wa,onDragLeave:ya,onDrop:Sa,onDragEnd:va,getFaviconUrl:so,isTopSite:!0}}),{key:n,first:null,c(){t=mt(),qt(l.$$.fragment),this.first=t},m(a,r){q(a,t,r),At(l,a,r),o=!0},p(a,r){e=a;const u={};r[1]&1&&(u.bookmark=e[216]),r[0]&8&&(u.titleBackdrop=e[3].titleBackdrop),r[1]&35&&(u.focused=e[32]===e[36].length+e[218]),r[1]&33&&(u.onFocus=i),l.$set(u)},i(a){o||(x(l.$$.fragment,a),o=!0)},o(a){ne(l.$$.fragment,a),o=!1},d(a){a&&G(t),Pt(l,a)}}}function aa(n){var gl;let e,t,l,o,i,a,r,u,d,p,S,b,k,g,m,y,B,I,U,O,T,Q,A,V,D,Y,ee,J,Ie,Se,X,me,Ze,Xe,pe,j,xe,$e,et,Ve,pt,ce,Ke,Ce,Be,bt,be,Bt,tt,Qe,fe,kt,ie,ge,Ee,ue,F,Et,_t,tn,Ot,nt,lt,jt,nn,Nt,ul,Ft,wt,hn,De,dt,Tt,Cn,ze,ke,ln,Ae,on,Ye,gn,ot,Vt,Ue,Je,Bn,Rt,qn,Kt,Vn,rt,dl,Qt,Kn,mn,yt,Qn,pn,Mt,Lt,Dt,En,bn,Yn,kn,Jn,ft,zt,Zn,Fn,Xn,Yt,fl,_n,Pe,xn,rn,ht=ye(n[41]),je=[];for(let C=0;C<ht.length;C+=1)je[C]=Jo(Yo(n,ht,C));let sn=ye(n[38]),Ne=[];for(let C=0;C<sn.length;C+=1)Ne[C]=Zo(Qo(n,sn,C));let Ut=n[42].length>Ll&&xs(n),He=ye(n[39]),Re=[];for(let C=0;C<He.length;C+=1)Re[C]=Xo(Ko(n,He,C));let Jt=n[43].length>Ml&&$s(n);function an(C,H){return C[14].length===0?ta:ea}let wn=an(n),St=wn(n),Ge=!n[3].mergeAllBookmarks&&$o(n),Te=n[3].enableBookmarkSearch&&er(n);const hl=[la,na],Ht=[];function $n(C,H){return C[3].mergeAllBookmarks?0:1}return Ue=$n(n),Je=Ht[Ue]=hl[Ue](n),Rt=new As({props:{open:n[0],rootIds:n[40].rootIds??[],expandedIds:n[19],loadingIds:n[11],visibleIds:n[13],searchQuery:n[12],searchMatches:n[1],selectedIds:n[0]&&n[16]?n[16]:n[10],summary:n[0]?n[17]:n[14],selectedFolderCount:n[0]?((gl=n[16])==null?void 0:gl.size)??0:n[10].size,totalBookmarkCount:n[0]?n[18]:n[15],toggleSelection:n[58],toggleExpansion:n[59],getCheckboxState:n[64],onSearchChange:n[65],onRequestClose:n[63],onConfirmSelection:n[61],onClearSelection:n[60]}}),Kt=new qs({props:{open:n[26],onDismiss:n[70],onGetStarted:n[70]}}),rt=new Qs({props:{bookmark:n[29],position:n[28],visible:n[27]}}),rt.$on("edit",n[75]),rt.$on("remove",n[76]),rt.$on("opennewtab",n[73]),rt.$on("copyurl",n[74]),rt.$on("close",n[72]),Qt=new Hs({props:{toasts:n[25],onDismiss:n[68],onUndo:n[69]}}),{c(){e=w("div"),t=P(),l=w("div"),o=w("button"),i=Ct("svg"),a=Ct("path"),r=Ct("path"),u=P(),d=w("aside"),p=w("header"),S=w("h2"),S.textContent="Settings",b=P(),k=w("button"),k.textContent="√ó",g=P(),m=w("section"),y=w("h3"),y.textContent="Theme",B=P(),I=w("div");for(let C=0;C<je.length;C+=1)je[C].c();U=P(),O=w("section"),T=w("h3"),T.textContent="Accent color",Q=P(),A=w("div");for(let C=0;C<Ne.length;C+=1)Ne[C].c();V=P(),Ut&&Ut.c(),D=P(),Y=w("section"),ee=w("h3"),ee.textContent="Tile titles",J=P(),Ie=w("label"),Se=w("input"),me=P(),Ze=w("div"),Ze.innerHTML='<span class="settings-toggle__label">Rounded backdrop</span>',Xe=P(),pe=w("section"),j=w("h3"),j.textContent="Gradient background",xe=P(),$e=w("div");for(let C=0;C<Re.length;C+=1)Re[C].c();et=P(),Jt&&Jt.c(),Ve=P(),pt=w("section"),ce=w("button"),ce.textContent="Custom background‚Ä¶",Ke=P(),Ce=w("section"),Be=w("h3"),Be.textContent="Folders",bt=P(),be=w("div"),Bt=w("div"),St.c(),tt=P(),Qe=w("button"),Qe.textContent="Manage folders",fe=P(),kt=w("label"),ie=w("input"),Ee=P(),ue=w("div"),ue.innerHTML='<span class="settings-toggle__label">Merge bookmarks from all folders</span> <span class="settings-toggle__description">Display all bookmarks in a single deduplicated grid.</span>',F=P(),Ge&&Ge.c(),Et=P(),_t=w("section"),tn=w("h3"),tn.textContent="Experimental",Ot=P(),nt=w("label"),lt=w("input"),nn=P(),Nt=w("div"),Nt.innerHTML='<span class="settings-toggle__label">Bookmark search</span> <span class="settings-toggle__description">Press <kbd>/</kbd> to search bookmarks.</span>',ul=P(),Ft=w("label"),wt=w("input"),De=P(),dt=w("div"),dt.innerHTML='<span class="settings-toggle__label">Show frequently visited</span> <span class="settings-toggle__description">Include your most visited sites alongside bookmarks.</span>',Cn=P(),ze=w("div"),ln=P(),Ae=w("main"),Te&&Te.c(),on=P(),Ye=w("section"),gn=he(n[8]),Vt=P(),Je.c(),Bn=P(),qt(Rt.$$.fragment),qn=P(),qt(Kt.$$.fragment),Vn=P(),qt(rt.$$.fragment),dl=P(),qt(Qt.$$.fragment),Kn=P(),mn=w("dialog"),yt=w("form"),Qn=w("header"),Qn.innerHTML="<h2>Custom background</h2>",pn=P(),Mt=w("div"),Lt=w("label"),Dt=w("span"),Dt.textContent="Choose an image (JPEG/PNG, up to 4¬†MB)",En=P(),bn=w("input"),Yn=P(),kn=w("p"),kn.textContent="The selected image is stored locally on this device only.",Jn=P(),ft=w("footer"),zt=w("button"),zt.textContent="Remove",Zn=P(),Fn=w("span"),Xn=P(),Yt=w("button"),Yt.textContent="Cancel",fl=P(),_n=w("button"),_n.textContent="Save",c(e,"id","background-layer"),we(e,"visible",n[3].background.mode==="custom"&&!!n[21]),El(e,"background-image",n[3].background.mode==="custom"&&n[21]?`url(${n[21]})`:null),c(a,"d","M12 8.75a3.25 3.25 0 1 1 0 6.5 3.25 3.25 0 0 1 0-6.5Z"),c(a,"fill","none"),c(a,"stroke","currentColor"),c(a,"stroke-width","1.6"),c(r,"d","M21 12l-2.938 3.5-1.562 4.294L12 19l-4.5.794L5.938 15.5 3 12l2.938-3.5L7.5 4.206 12 5l4.5-.794L18.062 8.5 21 12Z"),c(r,"fill","none"),c(r,"stroke","currentColor"),c(r,"stroke-width","1.6"),c(r,"stroke-linecap","round"),c(r,"stroke-linejoin","round"),c(i,"class","icon-button__glyph"),c(i,"viewBox","0 0 24 24"),c(i,"aria-hidden","true"),c(i,"focusable","false"),c(i,"role","img"),c(o,"class","icon-button"),c(o,"type","button"),c(o,"title","Settings"),c(o,"aria-label","Open settings"),c(o,"aria-expanded",n[4]),c(o,"aria-controls","settings-drawer"),c(k,"type","button"),c(k,"class","settings-drawer__close"),c(k,"aria-label","Close settings"),c(p,"class","settings-drawer__header"),c(I,"class","choice-row"),c(m,"class","settings-group"),c(A,"class","accent-grid"),c(O,"class","settings-group"),c(Se,"type","checkbox"),Se.checked=X=n[3].titleBackdrop,c(Ze,"class","settings-toggle__body"),c(Ie,"class","settings-toggle"),c(Ie,"title","Adds a soft highlight behind each title for contrast."),c(Y,"class","settings-group"),c($e,"class","gradient-grid"),c(pe,"class","settings-group"),c(ce,"type","button"),c(ce,"class","custom-background-button"),c(pt,"class","settings-group"),c(Bt,"class","folder-bar__summary"),c(Qe,"type","button"),c(Qe,"class","ghost-button folder-bar__action"),c(be,"class","folder-bar"),c(ie,"type","checkbox"),ie.checked=ge=n[3].mergeAllBookmarks,c(ue,"class","settings-toggle__body"),c(kt,"class","settings-toggle folder-group-toggle"),c(Ce,"class","settings-group settings-group--folders"),c(lt,"type","checkbox"),lt.checked=jt=n[3].enableBookmarkSearch,c(Nt,"class","settings-toggle__body"),c(nt,"class","settings-toggle"),c(wt,"type","checkbox"),wt.checked=hn=n[3].enableTopSites,c(dt,"class","settings-toggle__body"),c(Ft,"class","settings-toggle"),c(_t,"class","settings-group"),c(d,"id","settings-drawer"),c(d,"class","settings-drawer"),c(d,"data-open",n[4]),c(d,"aria-hidden",Tt=!n[4]),c(d,"tabindex","-1"),c(ze,"class","settings-overlay"),c(ze,"aria-hidden",ke=!n[4]),we(ze,"visible",n[4]),c(Ye,"id","status"),c(Ye,"role","status"),c(Ye,"aria-live","polite"),c(Ye,"data-tone",ot=n[8]?n[9]:null),c(l,"class","page"),c(bn,"type","file"),c(bn,"accept","image/png,image/jpeg,image/jpg"),c(Lt,"class","file-picker"),c(kn,"class","hint"),c(Mt,"class","dialog-body"),c(zt,"type","button"),c(zt,"id","clear-background"),c(zt,"class","ghost-button"),c(Fn,"class","spacer"),c(Yt,"type","button"),c(Yt,"id","cancel-background"),c(_n,"type","submit"),c(_n,"id","save-background"),c(ft,"class","dialog-footer"),c(yt,"id","background-form"),c(yt,"method","dialog")},m(C,H){q(C,e,H),q(C,t,H),q(C,l,H),f(l,o),f(o,i),f(i,a),f(i,r),n[107](o),f(l,u),f(l,d),f(d,p),f(p,S),f(p,b),f(p,k),f(d,g),f(d,m),f(m,y),f(m,B),f(m,I);for(let Me=0;Me<je.length;Me+=1)je[Me]&&je[Me].m(I,null);f(d,U),f(d,O),f(O,T),f(O,Q),f(O,A);for(let Me=0;Me<Ne.length;Me+=1)Ne[Me]&&Ne[Me].m(A,null);f(O,V),Ut&&Ut.m(O,null),f(d,D),f(d,Y),f(Y,ee),f(Y,J),f(Y,Ie),f(Ie,Se),f(Ie,me),f(Ie,Ze),f(d,Xe),f(d,pe),f(pe,j),f(pe,xe),f(pe,$e);for(let Me=0;Me<Re.length;Me+=1)Re[Me]&&Re[Me].m($e,null);f(pe,et),Jt&&Jt.m(pe,null),f(d,Ve),f(d,pt),f(pt,ce),f(d,Ke),f(d,Ce),f(Ce,Be),f(Ce,bt),f(Ce,be),f(be,Bt),St.m(Bt,null),f(be,tt),f(be,Qe),f(Ce,fe),f(Ce,kt),f(kt,ie),f(kt,Ee),f(kt,ue),f(Ce,F),Ge&&Ge.m(Ce,null),f(d,Et),f(d,_t),f(_t,tn),f(_t,Ot),f(_t,nt),f(nt,lt),f(nt,nn),f(nt,Nt),f(_t,ul),f(_t,Ft),f(Ft,wt),f(Ft,De),f(Ft,dt),n[117](d),f(l,Cn),f(l,ze),f(l,ln),f(l,Ae),Te&&Te.m(Ae,null),f(Ae,on),f(Ae,Ye),f(Ye,gn),f(Ae,Vt),Ht[Ue].m(Ae,null),f(l,Bn),At(Rt,l,null),f(l,qn),At(Kt,l,null),f(l,Vn),At(rt,l,null),f(l,dl),At(Qt,l,null),q(C,Kn,H),q(C,mn,H),f(mn,yt),f(yt,Qn),f(yt,pn),f(yt,Mt),f(Mt,Lt),f(Lt,Dt),f(Lt,En),f(Lt,bn),n[139](bn),f(Mt,Yn),f(Mt,kn),f(yt,Jn),f(yt,ft),f(ft,zt),f(ft,Zn),f(ft,Fn),f(ft,Xn),f(ft,Yt),f(ft,fl),f(ft,_n),n[140](mn),Pe=!0,xn||(rn=[W(o,"click",n[47]),W(k,"click",n[46]),W(Se,"change",n[110]),W(ce,"click",n[57]),W(Qe,"click",n[62]),W(ie,"change",n[112]),W(lt,"change",n[115]),W(wt,"change",n[116]),W(d,"click",$i(n[106])),W(ze,"pointerdown",n[46]),W(zt,"click",Jl(n[90])),W(Yt,"click",Jl(n[91])),W(yt,"submit",n[89])],xn=!0)},p(C,H){var Mn;if((!Pe||H[0]&2097160)&&we(e,"visible",C[3].background.mode==="custom"&&!!C[21]),H[0]&2097160&&El(e,"background-image",C[3].background.mode==="custom"&&C[21]?`url(${C[21]})`:null),(!Pe||H[0]&16)&&c(o,"aria-expanded",C[4]),H[0]&8|H[1]&132096){ht=ye(C[41]);let Z;for(Z=0;Z<ht.length;Z+=1){const vt=Yo(C,ht,Z);je[Z]?je[Z].p(vt,H):(je[Z]=Jo(vt),je[Z].c(),je[Z].m(I,null))}for(;Z<je.length;Z+=1)je[Z].d(1);je.length=ht.length}if(H[0]&8|H[1]&262272){sn=ye(C[38]);let Z;for(Z=0;Z<sn.length;Z+=1){const vt=Qo(C,sn,Z);Ne[Z]?Ne[Z].p(vt,H):(Ne[Z]=Zo(vt),Ne[Z].c(),Ne[Z].m(A,null))}for(;Z<Ne.length;Z+=1)Ne[Z].d(1);Ne.length=sn.length}if(C[42].length>Ll&&Ut.p(C,H),(!Pe||H[0]&8&&X!==(X=C[3].titleBackdrop))&&(Se.checked=X),H[0]&8|H[1]&33554688){He=ye(C[39]);let Z;for(Z=0;Z<He.length;Z+=1){const vt=Ko(C,He,Z);Re[Z]?Re[Z].p(vt,H):(Re[Z]=Xo(vt),Re[Z].c(),Re[Z].m($e,null))}for(;Z<Re.length;Z+=1)Re[Z].d(1);Re.length=He.length}C[43].length>Ml&&Jt.p(C,H),wn===(wn=an(C))&&St?St.p(C,H):(St.d(1),St=wn(C),St&&(St.c(),St.m(Bt,null))),(!Pe||H[0]&8&&ge!==(ge=C[3].mergeAllBookmarks))&&(ie.checked=ge),C[3].mergeAllBookmarks?Ge&&(Ge.d(1),Ge=null):Ge?Ge.p(C,H):(Ge=$o(C),Ge.c(),Ge.m(Ce,null)),(!Pe||H[0]&8&&jt!==(jt=C[3].enableBookmarkSearch))&&(lt.checked=jt),(!Pe||H[0]&8&&hn!==(hn=C[3].enableTopSites))&&(wt.checked=hn),(!Pe||H[0]&16)&&c(d,"data-open",C[4]),(!Pe||H[0]&16&&Tt!==(Tt=!C[4]))&&c(d,"aria-hidden",Tt),(!Pe||H[0]&16&&ke!==(ke=!C[4]))&&c(ze,"aria-hidden",ke),(!Pe||H[0]&16)&&we(ze,"visible",C[4]),C[3].enableBookmarkSearch?Te?(Te.p(C,H),H[0]&8&&x(Te,1)):(Te=er(C),Te.c(),x(Te,1),Te.m(Ae,on)):Te&&(We(),ne(Te,1,1,()=>{Te=null}),qe()),(!Pe||H[0]&256)&&Le(gn,C[8]),(!Pe||H[0]&768&&ot!==(ot=C[8]?C[9]:null))&&c(Ye,"data-tone",ot);let Me=Ue;Ue=$n(C),Ue===Me?Ht[Ue].p(C,H):(We(),ne(Ht[Me],1,1,()=>{Ht[Me]=null}),qe(),Je=Ht[Ue],Je?Je.p(C,H):(Je=Ht[Ue]=hl[Ue](C),Je.c()),x(Je,1),Je.m(Ae,null));const it={};H[0]&1&&(it.open=C[0]),H[1]&512&&(it.rootIds=C[40].rootIds??[]),H[0]&524288&&(it.expandedIds=C[19]),H[0]&2048&&(it.loadingIds=C[11]),H[0]&8192&&(it.visibleIds=C[13]),H[0]&4096&&(it.searchQuery=C[12]),H[0]&2&&(it.searchMatches=C[1]),H[0]&66561&&(it.selectedIds=C[0]&&C[16]?C[16]:C[10]),H[0]&147457&&(it.summary=C[0]?C[17]:C[14]),H[0]&66561&&(it.selectedFolderCount=C[0]?((Mn=C[16])==null?void 0:Mn.size)??0:C[10].size),H[0]&294913&&(it.totalBookmarkCount=C[0]?C[18]:C[15]),Rt.$set(it);const ml={};H[0]&67108864&&(ml.open=C[26]),Kt.$set(ml);const cn={};H[0]&536870912&&(cn.bookmark=C[29]),H[0]&268435456&&(cn.position=C[28]),H[0]&134217728&&(cn.visible=C[27]),rt.$set(cn);const Tn={};H[0]&33554432&&(Tn.toasts=C[25]),Qt.$set(Tn)},i(C){Pe||(x(Te),x(Je),x(Rt.$$.fragment,C),x(Kt.$$.fragment,C),x(rt.$$.fragment,C),x(Qt.$$.fragment,C),Pe=!0)},o(C){ne(Te),ne(Je),ne(Rt.$$.fragment,C),ne(Kt.$$.fragment,C),ne(rt.$$.fragment,C),ne(Qt.$$.fragment,C),Pe=!1},d(C){C&&(G(e),G(t),G(l),G(Kn),G(mn)),n[107](null),Vl(je,C),Vl(Ne,C),Ut&&Ut.d(),Vl(Re,C),Jt&&Jt.d(),St.d(),Ge&&Ge.d(),n[117](null),Te&&Te.d(),Ht[Ue].d(),Pt(Rt),Pt(Kt),Pt(rt),Pt(Qt),n[139](null),n[140](null),xn=!1,Oe(rn)}}}const ca=64,vl="customBackgroundImage",ll="uiPreferences",jn="dialPreferences",Nn=2,Ql="hasSeenWelcome",Ml=6,Ll=10;function sr(n=[],e=[]){return n.length!==e.length?!1:n.every((t,l)=>t===e[l])}function ua(n={}){const e=Array.isArray(n.selectedIds)?n.selectedIds.filter(Boolean):[],t=Array.isArray(n.expandedIds)?n.expandedIds.filter(Boolean):[];return{selectedIds:Array.from(new Set(e)),expandedIds:Array.from(new Set(t))}}function Rn(n,e){if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function ar(n,e){const t=[...n];if(!e)return t;const l=t.findIndex(i=>i.id===e);if(l<=0)return t;const[o]=t.splice(l,1);return[o,...t]}function to(n,e,t=[],l=!0){const o=n.nodesById[e];return!o||!o.isFolder||(o.childrenIds??[]).forEach(a=>{const r=n.nodesById[a];r&&(r.url?t.push(r):l&&to(n,a,t,!0))}),t}function cr(n){const e=n.title||n.url;return{...n,displayTitle:e,initials:Tr(e),palette:Mr(e),fallback:!1}}async function so(n){try{const e=new URL(chrome.runtime.getURL("/_favicon/"));e.searchParams.set("pageUrl",n),e.searchParams.set("size",ca.toString());const t=await fetch(e.toString());if(!t.ok)return"";const l=await t.blob();return new Promise(o=>{const i=new FileReader;i.onloadend=()=>o(i.result),i.onerror=()=>o(""),i.readAsDataURL(l)})}catch{return""}}function ur(n=[],e){let t=!1;return{next:n.map(o=>o.id!==e||o.fallback?o:(t=!0,{...o,fallback:!0})),changed:t}}function da(n){const e=n.map((o,i)=>`${i+1}. ${o.fullPath||o.label||"Untitled folder"}`).join(`
`),t=prompt(`Select a folder for the new shortcut by entering its number:

${e}
`);if(t===null)return null;const l=Number.parseInt(t.trim(),10);return Number.isNaN(l)||l<1||l>n.length?(alert("Please enter one of the numbers shown in the list."),null):n[l-1].id}function Il(n){try{return new URL(n).href}catch{try{return new URL(`https://${n}`).href}catch{return null}}}function zn(n){try{return new URL(n).hostname.replace(/^www\./i,"")}catch{return n}}function Tr(n){return n?n.trim().split(/\s+/)[0].slice(0,2).toUpperCase():"‚Ä¢"}function fa(n,e){let t;return(...l)=>{clearTimeout(t),t=setTimeout(()=>n(...l),e)}}function Mr(n){const e=(n||"").trim().toLowerCase();if(!e)return{background:"linear-gradient(145deg, #fde68a, #fbbf24)",text:"rgba(15, 23, 42, 0.85)"};let t=0,l=0,o=0;for(let m=0;m<e.length;m++){const y=e.charCodeAt(m),B=m+1;t+=y*B,l+=y*(B+1.5),o+=y*(B+2.5)}const i=Yl(t,360),a=Yl(l,36)-18,r=Yl(i+24+a,360),u=52+Math.abs(l)%30,d=42+Math.abs(o)%20,p=Math.min(96,u+8),S=Math.min(78,d+12),b=`hsl(${i}, ${u}%, ${d}%)`,k=`hsl(${r}, ${p}%, ${S}%)`,g=d>54?"rgba(30, 41, 59, 0.85)":"rgba(255, 255, 255, 0.88)";return{background:`linear-gradient(140deg, ${b}, ${k})`,text:g}}function Yl(n,e){return(n%e+e)%e}function ha(n,e){return new Promise((t,l)=>{if(n.size>e){l(new Error("File exceeds size limit"));return}const o=new FileReader;o.onload=()=>t(o.result),o.onerror=()=>l(o.error||new Error("Failed to read file")),o.readAsDataURL(n)})}const ga=()=>{},ma=()=>{},pa=()=>{},ba=()=>{},ka=()=>{},_a=()=>{},wa=()=>{},ya=()=>{},Sa=()=>{},va=()=>{},Ia=()=>{};function Ca(n,e,t){var uo,fo,ho,go;let l,o,i,a,r,u,d;hr(n,Ir,s=>t(40,d=s));const p={loading:"Loading Bookmark Dial‚Ä¶",empty:"No bookmarks yet. Add shortcuts from this page or the bookmark manager.",error:"Bookmark Dial folder is unavailable. Try reopening the tab or reinstalling the extension."},S={selectedIds:[],expandedIds:[]},b=4*1024*1024,k=[{id:"dark",label:"Dark"},{id:"light",label:"Light"},{id:"system",label:"System"}],g=[{id:"cobalt",label:"Cobalt",colors:{base:"#2563eb",contrast:"#f8fafc",soft:"rgba(37, 99, 235, 0.14)",border:"rgba(37, 99, 235, 0.45)"}},{id:"violet",label:"Violet",colors:{base:"#8b5cf6",contrast:"#faf5ff",soft:"rgba(139, 92, 246, 0.16)",border:"rgba(139, 92, 246, 0.45)"}},{id:"emerald",label:"Emerald",colors:{base:"#059669",contrast:"#ecfdf5",soft:"rgba(5, 150, 105, 0.14)",border:"rgba(5, 150, 105, 0.45)"}},{id:"amber",label:"Amber",colors:{base:"#d97706",contrast:"#fffbeb",soft:"rgba(217, 119, 6, 0.18)",border:"rgba(217, 119, 6, 0.5)"}},{id:"rose",label:"Rose",colors:{base:"#e11d48",contrast:"#fff1f2",soft:"rgba(225, 29, 72, 0.16)",border:"rgba(225, 29, 72, 0.45)"}},{id:"slate",label:"Slate",colors:{base:"#475569",contrast:"#f8fafc",soft:"rgba(71, 85, 105, 0.18)",border:"rgba(71, 85, 105, 0.5)"}},{id:"sky",label:"Sky",colors:{base:"#0284c7",contrast:"#e0f2fe",soft:"rgba(2, 132, 199, 0.16)",border:"rgba(2, 132, 199, 0.45)"}},{id:"blush",label:"Blush",colors:{base:"#ec4899",contrast:"#fff0f6",soft:"rgba(236, 72, 153, 0.18)",border:"rgba(236, 72, 153, 0.5)"}},{id:"moss",label:"Moss",colors:{base:"#4d7c0f",contrast:"#ecfccb",soft:"rgba(77, 124, 15, 0.18)",border:"rgba(77, 124, 15, 0.5)"}},{id:"bronze",label:"Bronze",colors:{base:"#b45309",contrast:"#fff7ed",soft:"rgba(180, 83, 9, 0.2)",border:"rgba(180, 83, 9, 0.55)"}},{id:"orchid",label:"Orchid",colors:{base:"#c026d3",contrast:"#fdf4ff",soft:"rgba(192, 38, 211, 0.18)",border:"rgba(192, 38, 211, 0.5)"}},{id:"mint",label:"Mint",colors:{base:"#14b8a6",contrast:"#e0fefa",soft:"rgba(20, 184, 166, 0.16)",border:"rgba(20, 184, 166, 0.46)"}},{id:"graphite",label:"Graphite",colors:{base:"#1f2937",contrast:"#f8fafc",soft:"rgba(31, 41, 55, 0.22)",border:"rgba(31, 41, 55, 0.6)"}},{id:"sunset",label:"Sunset",colors:{base:"#ea580c",contrast:"#fff7ed",soft:"rgba(234, 88, 12, 0.18)",border:"rgba(234, 88, 12, 0.52)"}},{id:"glacier",label:"Glacier",colors:{base:"#0ea5e9",contrast:"#f0f9ff",soft:"rgba(14, 165, 233, 0.16)",border:"rgba(14, 165, 233, 0.45)"}},{id:"amethyst",label:"Amethyst",colors:{base:"#6d28d9",contrast:"#f5f3ff",soft:"rgba(109, 40, 217, 0.18)",border:"rgba(109, 40, 217, 0.5)"}},{id:"sand",label:"Sand",colors:{base:"#ca8a04",contrast:"#fffbeb",soft:"rgba(202, 138, 4, 0.2)",border:"rgba(202, 138, 4, 0.5)"}},{id:"cranberry",label:"Cranberry",colors:{base:"#be123c",contrast:"#fff1f5",soft:"rgba(190, 18, 60, 0.18)",border:"rgba(190, 18, 60, 0.5)"}}],m=[{id:"aurora",label:"Aurora",gradients:{light:"linear-gradient(135deg, #d8b4fe 0%, #6366f1 50%, #22d3ee 100%)",dark:"linear-gradient(135deg, #312e81 0%, #1e3a8a 50%, #0f172a 100%)"},accent:"violet"},{id:"sunrise",label:"Sunrise",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 50%, #f97316 100%)",dark:"linear-gradient(135deg, #7c2d12 0%, #c2410c 45%, #ea580c 100%)"},accent:"amber"},{id:"forest",label:"Forest",gradients:{light:"linear-gradient(135deg, #bbf7d0 0%, #34d399 50%, #0f766e 100%)",dark:"linear-gradient(135deg, #064e3b 0%, #059669 50%, #0f172a 100%)"},accent:"emerald"},{id:"ocean",label:"Ocean",gradients:{light:"linear-gradient(135deg, #bae6fd 0%, #38bdf8 50%, #0ea5e9 100%)",dark:"linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #082f49 100%)"},accent:"sky"},{id:"twilight",label:"Twilight",gradients:{light:"linear-gradient(135deg, #fecdd3 0%, #fda4af 50%, #fb7185 100%)",dark:"linear-gradient(135deg, #7f1d1d 0%, #be123c 50%, #9f1239 100%)"},accent:"orchid"},{id:"slate",label:"Slate",gradients:{light:"linear-gradient(135deg, #e2e8f0 0%, #cbd5f5 50%, #94a3b8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #0f172a 50%, #020617 100%)"},accent:"slate"},{id:"blossom",label:"Blossom",gradients:{light:"linear-gradient(135deg, #ffe4e6 0%, #fbcfe8 45%, #f472b6 100%)",dark:"linear-gradient(135deg, #831843 0%, #9d174d 50%, #701a75 100%)"},accent:"blush"},{id:"lagoon",label:"Lagoon",gradients:{light:"linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 40%, #5eead4 100%)",dark:"linear-gradient(135deg, #022c22 0%, #0d9488 45%, #14b8a6 100%)"},accent:"mint"},{id:"ember",label:"Ember",gradients:{light:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 40%, #fb7185 100%)",dark:"linear-gradient(135deg, #450a0a 0%, #9f1239 50%, #be123c 100%)"},accent:"rose"},{id:"lilac",label:"Lilac",gradients:{light:"linear-gradient(135deg, #f5f3ff 0%, #ede9fe 45%, #d8b4fe 100%)",dark:"linear-gradient(135deg, #312e81 0%, #5b21b6 50%, #7c3aed 100%)"},accent:"violet"},{id:"zenith",label:"Zenith",gradients:{light:"linear-gradient(135deg, #e0f2fe 0%, #dbeafe 45%, #818cf8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #1f3b8a 45%, #3730a3 100%)"},accent:"cobalt"},{id:"sage",label:"Sage",gradients:{light:"linear-gradient(135deg, #ecfccb 0%, #bbf7d0 45%, #84cc16 100%)",dark:"linear-gradient(135deg, #052e16 0%, #166534 45%, #15803d 100%)"},accent:"moss"},{id:"velvet",label:"Velvet",gradients:{light:"linear-gradient(135deg, #fdf4ff 0%, #f5d0fe 45%, #f0abfc 100%)",dark:"linear-gradient(135deg, #4a044e 0%, #6b21a8 45%, #86198f 100%)"},accent:"orchid"},{id:"citrus",label:"Citrus",gradients:{light:"linear-gradient(135deg, #fefce8 0%, #fef08a 45%, #facc15 100%)",dark:"linear-gradient(135deg, #422006 0%, #854d0e 50%, #b45309 100%)"},accent:"amber"},{id:"glacier",label:"Glacier",gradients:{light:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 45%, #bae6fd 100%)",dark:"linear-gradient(135deg, #082f49 0%, #0c4a6e 45%, #0284c7 100%)"},accent:"sky"},{id:"terracotta",label:"Terracotta",gradients:{light:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 45%, #f97316 100%)",dark:"linear-gradient(135deg, #431407 0%, #7c2d12 45%, #9a3412 100%)"},accent:"bronze"},{id:"nocturne",label:"Nocturne",gradients:{light:"linear-gradient(135deg, #ede9fe 0%, #c7d2fe 45%, #4338ca 100%)",dark:"linear-gradient(135deg, #020617 0%, #111827 45%, #312e81 100%)"},accent:"slate"},{id:"horizon",label:"Horizon",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 40%, #60a5fa 100%)",dark:"linear-gradient(135deg, #451a03 0%, #9a3412 45%, #1d4ed8 100%)"},accent:"cobalt"}],y=m[0],I={theme:"system",accent:y!=null&&y.accent&&g.some(s=>s.id===y.accent)?y.accent:g[0].id,background:{mode:"gradient",gradientId:(y==null?void 0:y.id)??m[0].id},titleBackdrop:!1,mergeAllBookmarks:!0,folderColumnWidth:1170,compactFolderHeader:!0,enableBookmarkSearch:!1,enableTopSites:!1},U={...I,folderSelection:{...S},version:Nn},O=typeof chrome<"u"?chrome:null,T=(uo=O==null?void 0:O.runtime)!=null&&uo.sendMessage?O:Xr(),Q=!!((fo=O==null?void 0:O.runtime)!=null&&fo.id),A=!!((ho=O==null?void 0:O.storage)!=null&&ho.local)&&Q,V=!!((go=O==null?void 0:O.storage)!=null&&go.sync)&&Q;let D=p.loading,Y="info",ee=[],J=[],Ie=new Set,Se=null,X=new Set,me=new Set,Ze=new Set,Xe=!1,pe=!1,j="",xe=new Set,$e=null,et=[],Ve=new Map,pt=0,ce=null,Ke=null,Ce=[],Be=new Map,bt=0,be=!1,Bt=new Set,tt=0,Qe=0,fe=null,kt="",ie,ge,Ee,ue,F=Ue(),Et=!1,_t=!0,tn=!1,Ot=!1,nt=!1,lt=!1,jt=[...g],nn=[...m],Nt=[],ul=0,Ft=!1,wt=!1,hn={x:0,y:0},De=null,dt="",Tt=!1,Cn=[],ze=!1,ke=-1,ln=null,Ae=null,on=null,Ye=null,gn=null,ot=null;const Vt=[];is(()=>{var s,h;if((async()=>{try{await _n()}catch(_){console.error("Bookmark Dial: failed to load settings",_),t(3,F=Ue()),t(100,Ot=A),pn(F.theme),Mt(F.accent),Lt(F.background.gradientId)}try{await Jr()}catch(_){console.error("Bookmark Dial: failed to load background",_)}t(98,_t=!1),await Dr(),Pe()})(),typeof window<"u"){const _=E=>{if(wt&&E.key==="Escape"){Zt(),E.stopPropagation();return}if(E.key==="Escape"){if(fe!==null){t(20,fe=null),E.stopPropagation();return}if(Tt){ao(),E.stopPropagation();return}Et&&En()}if(E.key==="/"&&F.enableBookmarkSearch&&!E.ctrlKey&&!E.metaKey){const z=E.target;if(z instanceof HTMLInputElement||z instanceof HTMLTextAreaElement)return;E.preventDefault(),t(30,Tt=!0)}},L=E=>{if(wt){const R=E.target;R instanceof Element&&!R.closest(".context-menu")&&Zt()}if(fe===null)return;const z=E.target;z instanceof Element&&z.closest(".tile-actions")||t(20,fe=null)};window.addEventListener("keydown",_),window.addEventListener("pointerdown",L),Vt.push(()=>window.removeEventListener("keydown",_)),Vt.push(()=>window.removeEventListener("pointerdown",L))}if((h=(s=T==null?void 0:T.storage)==null?void 0:s.onChanged)!=null&&h.addListener){const _=(L,E)=>{if(E!=="sync"&&E!=="local")return;const R=L[E==="sync"?jn:ll];!R||!R.newValue||ml(R.newValue)};T.storage.onChanged.addListener(_),Vt.push(()=>T.storage.onChanged.removeListener(_))}return()=>{Ye&&clearTimeout(Ye),typeof document<"u"&&document.body.classList.remove("settings-open"),Vt.forEach(_=>_==null?void 0:_())}});function Ue(){return{theme:I.theme,accent:I.accent,background:{...I.background},titleBackdrop:I.titleBackdrop,mergeAllBookmarks:I.mergeAllBookmarks,folderColumnWidth:I.folderColumnWidth,compactFolderHeader:I.compactFolderHeader,enableBookmarkSearch:I.enableBookmarkSearch,enableTopSites:I.enableTopSites}}function Je(s){return k.some(h=>h.id===s)?s:I.theme}function Bn(s){return g.some(h=>h.id===s)?s:I.accent}function Rt(s){return m.some(h=>h.id===s)?s:I.background.gradientId}function qn(s={}){var ve,gt,Ln,Dn;const h=Je(s.theme),_=Bn(s.accent),L=s.background??{},E=L.mode==="custom"?"custom":"gradient",z=Rt(L.gradientId),R=typeof s.titleBackdrop=="boolean",oe=R?s.titleBackdrop:I.titleBackdrop,de=typeof s.mergeAllBookmarks=="boolean"||typeof s.groupFoldersTogether=="boolean",te=de?s.mergeAllBookmarks??s.groupFoldersTogether:I.mergeAllBookmarks,$=typeof s.folderColumnWidth=="number"?s.folderColumnWidth:I.folderColumnWidth,re=typeof s.compactFolderHeader=="boolean"?s.compactFolderHeader:I.compactFolderHeader,Fe=typeof s.enableBookmarkSearch=="boolean"?s.enableBookmarkSearch:I.enableBookmarkSearch,st=typeof s.enableTopSites=="boolean"?s.enableTopSites:I.enableTopSites,_e=ua(s.folderSelection),yn=!sr(_e.selectedIds,((ve=s.folderSelection)==null?void 0:ve.selectedIds)??[])||!sr(_e.expandedIds,((gt=s.folderSelection)==null?void 0:gt.expandedIds)??[]),le=h!==s.theme||_!==s.accent||E!==(((Ln=s.background)==null?void 0:Ln.mode)??I.background.mode)||z!==(((Dn=s.background)==null?void 0:Dn.gradientId)??I.background.gradientId)||!R||!de||$!==s.folderColumnWidth||re!==s.compactFolderHeader||Fe!==s.enableBookmarkSearch||st!==s.enableTopSites;return{settings:{theme:h,accent:_,background:{mode:E,gradientId:z},titleBackdrop:oe,mergeAllBookmarks:te,folderColumnWidth:$,compactFolderHeader:re,enableBookmarkSearch:Fe,enableTopSites:st},folderSelection:_e,changed:le||yn||(s.version??Nn)!==Nn}}function Kt(s){return g.find(h=>h.id===s)??g[0]}function Vn(s){return m.find(h=>h.id===s)??m[0]}function rt(){t(101,jt=ar(g,F==null?void 0:F.accent)),t(6,lt=!1)}function dl(){t(6,lt=!0)}function Qt(){lt?rt():dl()}function Kn(){var s,h;t(102,nn=ar(m,((s=F==null?void 0:F.background)==null?void 0:s.mode)==="gradient"?(h=F==null?void 0:F.background)==null?void 0:h.gradientId:null)),t(5,nt=!1)}function mn(){t(5,nt=!0)}function yt(){nt?Kn():mn()}function Qn(){return!gn&&typeof window<"u"&&typeof window.matchMedia=="function"&&(gn=window.matchMedia("(prefers-color-scheme: dark)")),gn}function pn(s){if(typeof document>"u")return;const h=Je(s),_=Qn();if(h==="system"&&_){if(document.body.classList.toggle("dark",_.matches),!ot){const L=E=>{document.body.classList.toggle("dark",E.matches)};typeof _.addEventListener=="function"?(_.addEventListener("change",L),ot=()=>_.removeEventListener("change",L)):typeof _.addListener=="function"?(_.addListener(L),ot=()=>_.removeListener(L)):ot=null,ot&&Vt.push(ot)}}else ot&&(ot(),ot=null),document.body.classList.toggle("dark",h==="dark");document.body.dataset.theme=h}function Mt(s){if(typeof document>"u")return;const h=Kt(s),_=document.documentElement;_.style.setProperty("--accent-color",h.colors.base),_.style.setProperty("--accent-color-contrast",h.colors.contrast),_.style.setProperty("--accent-color-soft",h.colors.soft),_.style.setProperty("--accent-color-border",h.colors.border)}function Lt(s){if(typeof document>"u")return;const h=Vn(s),_=document.documentElement;_.style.setProperty("--page-background-light",h.gradients.light),_.style.setProperty("--page-background-dark",h.gradients.dark)}function Dt(){if(!A||!tn||!Xe)return;Ye&&clearTimeout(Ye);const s={theme:F.theme,accent:F.accent,titleBackdrop:F.titleBackdrop,mergeAllBookmarks:F.mergeAllBookmarks,folderColumnWidth:F.folderColumnWidth,compactFolderHeader:F.compactFolderHeader,enableBookmarkSearch:F.enableBookmarkSearch,enableTopSites:F.enableTopSites,background:{...F.background},folderSelection:{selectedIds:Array.from(X),expandedIds:Array.from(me)},version:Nn};Ye=setTimeout(async()=>{Ye=null;try{const h=[T.storage.local.set({[ll]:s})];V&&h.push(T.storage.sync.set({[jn]:s})),await Promise.all(h)}catch(h){console.error("Bookmark Dial: failed to store preferences",h)}},120)}function En(){if(Et&&(t(4,Et=!1),typeof document<"u"&&ue)){const s=document.activeElement;s&&ue.contains(s)&&(Ee==null||Ee.focus())}}function bn(){t(4,Et=!Et)}function Yn(s){const h=Je(s);F.theme!==h&&t(3,F={...F,theme:h})}function kn(s){const h=Bn(s);F.accent!==h&&t(3,F={...F,accent:h})}function Jn(s){const h=!!s;F.titleBackdrop!==h&&t(3,F={...F,titleBackdrop:h})}function ft(s){const h=!!s;F.mergeAllBookmarks!==h&&t(3,F={...F,mergeAllBookmarks:h})}function zt(s){const h=Number(s);F.folderColumnWidth!==h&&t(3,F={...F,folderColumnWidth:h})}function Zn(s){const h=!!s;F.compactFolderHeader!==h&&t(3,F={...F,compactFolderHeader:h})}function Fn(s){const h=!!s;F.enableBookmarkSearch!==h&&(t(3,F={...F,enableBookmarkSearch:h}),h||(t(30,Tt=!1),t(7,dt="")))}function Xn(s){const h=!!s;F.enableTopSites!==h&&(t(3,F={...F,enableTopSites:h}),h&&!ze&&co())}function Yt(s){const h=Rt(s),_=Vn(h),L=_.accent&&g.some(oe=>oe.id===_.accent)?_.accent:null,E=F.background.mode!=="gradient"||F.background.gradientId!==h,z=L?Bn(L):F.accent,R=!!L&&z!==F.accent;!E&&!R||t(3,F={...F,accent:R?z:F.accent,background:{...F.background,mode:"gradient",gradientId:h}})}async function fl(){En(),await Xl(),Vr()}async function _n(){if(t(100,Ot=!1),t(97,be=!1),!A){t(3,F=Ue()),t(10,X=new Set(S.selectedIds)),t(94,me=new Set(S.expandedIds)),t(95,Xe=!0),pn(F.theme),Mt(F.accent),Lt(F.background.gradientId),H();return}let s={},h={};if(V)try{s=await T.storage.sync.get(jn)}catch(z){console.warn("Bookmark Dial: failed to read sync preferences",z)}try{h=await T.storage.local.get(ll)}catch(z){console.warn("Bookmark Dial: failed to read local preferences",z)}let _=s==null?void 0:s[jn],L=!1;!_&&(h!=null&&h[ll])&&(_=h[ll],L=!0);const E=qn(_??U);t(3,F=E.settings),t(10,X=new Set(E.folderSelection.selectedIds.length?E.folderSelection.selectedIds:S.selectedIds)),t(94,me=new Set(E.folderSelection.expandedIds)),t(95,Xe=!0),t(100,Ot=E.changed||L),t(97,be=E.changed||L),pn(F.theme),Mt(F.accent),Lt(F.background.gradientId),H()}async function Pe(){try{await ks(T),Se=await xn(),await rn(),await ht(),je(),await He()}catch(s){console.error("Bookmark Dial: initialization failed",s),Xt(p.error,"error")}}async function xn(){const s=await T.runtime.sendMessage({type:"getFolderId"});if(!(s!=null&&s.folderId))throw new Error((s==null?void 0:s.error)||"Missing folder");return s.folderId}async function rn(){X.size===0&&Se&&(t(10,X=new Set([Se])),t(97,be=!0))}async function ht(){const s=Array.from(X);s.length&&(await Promise.allSettled(s.map(h=>nl(T,h))),H())}function je(){var oe,de;const s=fa(()=>He(),150),h=(te,$)=>{ws($),!$.url&&Jt($)&&wn($.id),$.url?an($.parentId)&&s():X.has($.id)&&s()};T.bookmarks.onCreated.addListener(h);const _=(te,$)=>{ys(te,$),Ie.has(te)&&s()};T.bookmarks.onChanged.addListener(_);const L=(te,$)=>{Ss(te,$),(Ie.has(te)||an($.parentId)||an($.oldParentId))&&s()};T.bookmarks.onMoved.addListener(L);const E=(te,$)=>{const re=Br(te);re&&sn(te,{...$,node:re}),vs(te,$),(Ie.has(te)||an($.parentId))&&(Ie.delete(te),s())};T.bookmarks.onRemoved.addListener(E);const z=()=>s(),R=()=>Xt("Importing bookmarks‚Ä¶");(oe=T.bookmarks.onImportEnded)==null||oe.addListener(z),(de=T.bookmarks.onImportBegan)==null||de.addListener(R),Vt.push(()=>{var te,$;T.bookmarks.onCreated.removeListener(h),T.bookmarks.onChanged.removeListener(_),T.bookmarks.onMoved.removeListener(L),T.bookmarks.onRemoved.removeListener(E),(te=T.bookmarks.onImportEnded)==null||te.removeListener(z),($=T.bookmarks.onImportBegan)==null||$.removeListener(R)})}function sn(s,h={}){if(h!=null&&h.node&&!h.node.url){const _=new Set(Sl(s));if(_.size){const L=new Set(X);let E=!1;_.forEach(z=>{L.has(z)&&(L.delete(z),E=!0)}),E&&(t(10,X=L),t(97,be=!0),H(),Dt(),X.size||Promise.resolve().then(()=>rn()).then(()=>ht()).then(()=>He()))}s===Se&&Ne()}}async function Ne(){Xt("Default folder was removed. Recreating‚Ä¶");try{const s=await T.runtime.sendMessage({type:"resetFolderCache"});if(s!=null&&s.folderId)Se=s.folderId,await wn(Se),await He(),Xt("Default folder restored.","success");else throw new Error((s==null?void 0:s.error)||"Unable to recreate folder")}catch(s){console.error("Bookmark Dial: missing folder recovery failed",s),Xt(p.error,"error")}}async function Ut(s){const h=s instanceof Set?new Set(s):new Set(s??[]);if(!h.size)return{items:[],counts:new Map,total:0,groups:[]};await Promise.all(Array.from(h).map(de=>nl(T,de)));const _=un(),L=new Map,E=new Map,z=[],R=[];h.forEach(de=>{const te=to(_,de,[],!0),$=to(_,de,[],!1),re=Bl(de),Fe=re[re.length-1]||"Untitled folder";te.forEach(_e=>{const le=(Il(_e.url)||_e.url||_e.url||_e.id).toLowerCase();L.has(le)||(L.set(le,_e.id),z.push({..._e,sourceFolderId:de,sourcePath:re}))});const st=$.map(_e=>{const le=(Il(_e.url)||_e.url||_e.url||_e.id).toLowerCase(),ve=E.get(de)??new Set;return ve.add(le),E.set(de,ve),{..._e,sourceFolderId:de,sourcePath:re}});R.push({id:de,label:Fe,path:re,fullPath:re.join(" ‚Ä∫ "),items:st})}),R.sort((de,te)=>de.fullPath.localeCompare(te.fullPath));const oe=new Map(Array.from(E.entries()).map(([de,te])=>[de,te.size]));return{items:z,counts:oe,total:z.length,groups:R}}async function He(){const s=++tt;if(!X.size){t(92,ee=[]),t(93,J=[]),Ie=new Set,Ve=new Map,t(15,pt=0),H(),Xt("Select folders to populate this page.","info");return}try{const h=await Ut(X);if(s!==tt)return;Ve=h.counts,t(15,pt=h.total),Re(h.items),t(93,J=h.groups.map(_=>({id:_.id,label:_.label,path:_.path,fullPath:_.fullPath,items:_.items.map(L=>cr(L))}))),H(),h.items.length===0?Xt(p.empty):Xt("","info")}catch(h){console.error("Bookmark Dial: failed to load bookmarks",h),Xt(p.error,"error")}}function Re(s){Ie=new Set(s.map(h=>h.id)),t(92,ee=s.map(h=>cr(h)))}function Jt(s){return!s||s.url?!1:an(s.parentId)}function an(s){if(!s)return!1;const h=un();let _=s;for(;_;){if(X.has(_))return!0;const L=h.nodesById[_];_=(L==null?void 0:L.parentId)??null}return!1}async function wn(s){if(!s)return;await nl(T,s);const h=Sl(s),_=new Set(X);let L=!1;h.forEach(E=>{_.has(E)||(_.add(E),L=!0)}),L&&(t(10,X=_),t(97,be=!0),await ht(),await He(),Dt())}async function St(s){if(!s)return;const h=Sl(s);if(!h.length)return;const _=pe,L=_&&ce?ce:_?new Set(X):X,E=new Set(L);if(h.every(R=>E.has(R))?h.forEach(R=>E.delete(R)):h.forEach(R=>E.add(R)),_){t(16,ce=E);const R=++Qe,oe=await Ut(ce);if(R!==Qe)return;Be=oe.counts,t(18,bt=oe.total),t(17,Ce=C(ce,Be))}else Rn(X,E)||(t(10,X=E),t(97,be=!0),await rn(),await ht(),await He(),Dt())}function Ge(s){var $;if(!s)return;const h=un(),_=h.nodesById[s];if(!(_!=null&&_.isFolder)||!((($=_.childrenIds)==null?void 0:$.some(re=>{const Fe=h.nodesById[re];return Fe==null?void 0:Fe.isFolder}))??!1))return;const E=pe,z=E&&Ke?Ke:E?new Set(me):me,R=new Set(z??[]),oe=new Set(R),de=(re,{persist:Fe=!1}={})=>{E?t(96,Ke=re):(t(94,me=re),Fe&&(t(97,be=!0),Dt()))};R.has(s)?R.delete(s):R.add(s);const te=!Rn(oe,R);de(R,{persist:te})}async function Te(){if(pe){t(16,ce=new Set),Qe++,Be=new Map,t(18,bt=0),t(17,Ce=[]);return}t(10,X=new Set),t(97,be=!0),await rn(),await ht(),await He(),Dt()}async function hl(){if(!pe)return;const s=new Set(ce??[]),h=new Set(Ke??[]),_=!Rn(X,s),L=!Rn(me,h);t(0,pe=!1),$n(),_&&(t(10,X=s),t(97,be=!0),await rn(),await ht(),await He()),L&&(t(94,me=h),t(97,be=!0)),_||L?Dt():H()}async function Ht(){await _s(T),t(16,ce=new Set(X)),t(96,Ke=new Set(me)),Be=new Map(Ve),t(18,bt=pt),t(17,Ce=C(ce,Be)),Qe=0,t(12,j=""),t(1,xe=new Set),t(13,$e=null),t(0,pe=!0)}function $n(){t(16,ce=null),t(96,Ke=null),t(17,Ce=[]),Be=new Map,t(18,bt=0),Qe=0,t(12,j=""),t(1,xe=new Set),t(13,$e=null)}function gl(){t(0,pe=!1),$n()}function C(s,h){un();const _=Array.from(s??[]).map(L=>{const E=Bl(L),z=E[E.length-1]||"Untitled folder";return{id:L,path:E,label:z,fullPath:E.join(" ‚Ä∫ "),count:(h==null?void 0:h.get(L))??0}});return _.sort((L,E)=>L.fullPath.localeCompare(E.fullPath)),_}function H(){t(14,et=C(X,Ve))}function Me(s){const _=un().nodesById[s],L=pe&&ce?ce:X;if(!(_!=null&&_.isFolder))return L.has(s)?"selected":"none";const E=Sl(s);if(!E.length)return L.has(s)?"selected":"none";const z=E.filter(R=>L.has(R)).length;return z===0?"none":z===E.length?"selected":"partial"}async function it(s){var de;t(12,j=s);const h=s.trim();if(!h){t(1,xe=new Set),t(13,$e=null);return}if((de=T==null?void 0:T.bookmarks)!=null&&de.search)try{const $=(await T.bookmarks.search({query:h})).filter(re=>!re.url);for(const re of $){await nl(T,re.id);let Fe=re.parentId;for(;Fe;){await nl(T,Fe);const st=un().nodesById[Fe];Fe=(st==null?void 0:st.parentId)??null}}}catch(te){console.warn("Bookmark Dial: folder search failed",te)}const _=Is(),L=h.toLowerCase(),z=_.filter(te=>{const $=te.title.toLowerCase().includes(L),re=te.path.join(" ").toLowerCase().includes(L);return $||re}).map(te=>te.id);t(1,xe=new Set(z));const R=new Set,oe=un();z.forEach(te=>{var Fe;let $=oe.nodesById[te];for(;$&&(R.add($.id),!!$.parentId);)$=oe.nodesById[$.parentId];const re=oe.nodesById[te];(Fe=re==null?void 0:re.childrenIds)==null||Fe.forEach(st=>{const _e=oe.nodesById[st];_e!=null&&_e.isFolder&&R.add(st)})}),t(13,$e=R)}function ml(s){const h=qn(s),_=h.settings;(_.theme!==F.theme||_.accent!==F.accent||_.background.mode!==F.background.mode||_.background.gradientId!==F.background.gradientId||_.titleBackdrop!==F.titleBackdrop||_.mergeAllBookmarks!==F.mergeAllBookmarks||_.folderColumnWidth!==F.folderColumnWidth||_.compactFolderHeader!==F.compactFolderHeader||_.enableBookmarkSearch!==F.enableBookmarkSearch||_.enableTopSites!==F.enableTopSites)&&t(3,F={...F,..._,background:{..._.background}});const E=new Set(h.folderSelection.selectedIds),z=new Set(h.folderSelection.expandedIds),R=!Rn(E,X),oe=!Rn(z,me);R&&(t(10,X=E),H(),He()),oe&&t(94,me=z),(R||oe)&&t(97,be=!1)}function cn(s){const{next:h,changed:_}=ur(ee,s);if(!_)return;t(92,ee=h);let L=!1;const E=J.map(z=>{const{next:R,changed:oe}=ur(z.items,s);return oe?(L=!0,{...z,items:R}):z});L&&t(93,J=E)}function Tn(s){t(20,fe=fe===s?null:s)}function Mn(){t(20,fe=null)}function Z(s,h="info",_=null,L=5e3){const E=++ul,z={id:E,message:s,type:h,undoData:_};return t(25,Nt=[...Nt,z]),L>0&&setTimeout(()=>vt(E),L),E}function vt(s){t(25,Nt=Nt.filter(h=>h.id!==s))}async function Lr(s){if(!(s!=null&&s.undoData))return;const{action:h,data:_}=s.undoData;try{h==="removeBookmark"&&_&&(await T.bookmarks.create({parentId:_.parentId,title:_.title,url:_.url,index:_.index}),Z("Bookmark restored","success"))}catch(L){console.error("Bookmark Dial: undo failed",L),Z("Failed to undo","error")}vt(s.id)}async function Dr(){if(!A){t(26,Ft=!0);return}try{const s=await T.storage.local.get(Ql);s!=null&&s[Ql]||t(26,Ft=!0)}catch(s){console.warn("Bookmark Dial: failed to check welcome state",s)}}async function Ar(){if(t(26,Ft=!1),A)try{await T.storage.local.set({[Ql]:!0})}catch(s){console.warn("Bookmark Dial: failed to save welcome state",s)}}function Pl(s,h){s.preventDefault(),Mn(),t(29,De=h);const _=180,L=180;let E=s.clientX,z=s.clientY;E+_>window.innerWidth&&(E=window.innerWidth-_-8),z+L>window.innerHeight&&(z=window.innerHeight-L-8),t(28,hn={x:E,y:z}),t(27,wt=!0)}function Zt(){t(27,wt=!1),t(29,De=null)}async function Pr(){De!=null&&De.url&&window.open(De.url,"_blank"),Zt()}async function Or(){if(De!=null&&De.url)try{await navigator.clipboard.writeText(De.url),Z("URL copied to clipboard","success")}catch(s){console.error("Bookmark Dial: copy failed",s),Z("Failed to copy URL","error")}Zt()}function jr(){De&&bl(De),Zt()}function Nr(){De&&el(De.id),Zt()}function Rr(s){t(7,dt=s)}function ao(){t(30,Tt=!1),t(7,dt="")}async function co(){var s;if(!ze){if(!((s=T==null?void 0:T.topSites)!=null&&s.get)){t(103,ze=!0);return}try{const h=await T.topSites.get();t(31,Cn=(h||[]).map((_,L)=>({id:`topsite-${L}`,title:_.title||zn(_.url),url:_.url,displayTitle:_.title||zn(_.url),initials:Tr(_.title||zn(_.url)),palette:Mr(_.title||zn(_.url)),fallback:!1,isTopSite:!0}))),t(103,ze=!0)}catch(h){console.warn("Bookmark Dial: failed to load top sites",h),t(103,ze=!0)}}}function zr(s){const h=F.mergeAllBookmarks?F.enableTopSites?[...r,...Cn]:r:[];if(!h.length)return;const _=Ur(),L=h.length;if(s.key==="ArrowRight")s.preventDefault(),t(32,ke=Math.min(ke+1,L-1)),ke<0&&t(32,ke=0);else if(s.key==="ArrowLeft")s.preventDefault(),t(32,ke=Math.max(ke-1,0));else if(s.key==="ArrowDown"){s.preventDefault();const E=ke+_;t(32,ke=E<L?E:ke)}else if(s.key==="ArrowUp"){s.preventDefault();const E=ke-_;t(32,ke=E>=0?E:ke)}else if(s.key==="Enter"&&ke>=0){s.preventDefault();const E=h[ke];E!=null&&E.url&&(window.location.href=E.url)}else if((s.key==="Delete"||s.key==="Backspace")&&ke>=0){s.preventDefault();const E=h[ke];E&&!E.isTopSite&&el(E.id)}else s.key==="/"&&F.enableBookmarkSearch?(s.preventDefault(),t(30,Tt=!0)):s.key==="Escape"&&(t(32,ke=-1),Zt())}function Ur(){return ln&&getComputedStyle(ln).getPropertyValue("grid-template-columns").split(" ").length||4}function Ol(s){t(32,ke=s)}function jl(s,h,_=null){if(h.isTopSite){s.preventDefault();return}t(34,Ae=h),_||h.parentId,s.dataTransfer.effectAllowed="move",s.dataTransfer.setData("text/plain",h.id)}function Nl(s,h){!Ae||Ae.id===h.id||h.isTopSite||(s.preventDefault(),s.dataTransfer.dropEffect="move",t(35,on=h))}function Hr(s){s.currentTarget.contains(s.relatedTarget)||t(35,on=null)}async function Rl(s,h){if(s.preventDefault(),!Ae||Ae.id===h.id){pl();return}if(h.isTopSite){pl();return}try{await T.bookmarks.move(Ae.id,{parentId:h.parentId,index:h.index}),Z("Bookmark moved","success")}catch(_){console.error("Bookmark Dial: move failed",_),Z("Failed to move bookmark","error")}pl()}function Gr(){pl()}function pl(){t(34,Ae=null),t(35,on=null)}async function zl(s=null){const h=await qr(s);if(!h)return;const _=prompt("Enter the URL for the new shortcut:");if(!_)return;const L=Il(_.trim());if(!L){alert("That does not appear to be a valid URL.");return}const E=zn(L),z=prompt("Enter a title for the shortcut:",E),R=z?z.trim():E;try{await T.bookmarks.create({parentId:h,title:R,url:L})}catch(oe){console.error("Bookmark Dial: failed to create bookmark",oe),alert("Unable to add shortcut. Please try again.")}}function Wr(){if(et.length)return et;const s=C(X,Ve);if(s.length)return s;if(Se){const h=Bl(Se),_=h[h.length-1]||"Bookmark Dial";return[{id:Se,path:h,label:_,fullPath:h.join(" ‚Ä∫ "),count:0}]}return[]}async function qr(s=null){if(s)return s;const h=Wr();return h.length?h.length===1?h[0].id:da(h):(alert("No folders are available for new shortcuts right now."),null)}async function bl(s){var R;if(!(s!=null&&s.id))return;Mn();const h=prompt("Update the shortcut URL:",s.url??"");if(h===null)return;const _=Il(h.trim());if(!_){alert("That does not appear to be a valid URL.");return}const L=(R=s.title)!=null&&R.trim()?s.title:s.displayTitle||zn(_),E=prompt("Update the shortcut title:",L),z=E?E.trim():L;try{await T.bookmarks.update(s.id,{title:z,url:_})}catch(oe){console.error("Bookmark Dial: failed to update bookmark",oe),alert("Unable to update shortcut. Please try again.")}}async function el(s){Mn(),Zt();const h=ee.find(_=>_.id===s)||J.flatMap(_=>_.items).find(_=>_.id===s);if(h)try{const[_]=await T.bookmarks.get(s);await T.bookmarks.remove(s),Z(`"${h.displayTitle||h.title}" removed`,"info",{action:"removeBookmark",data:{parentId:_.parentId,title:_.title,url:_.url,index:_.index}},8e3)}catch(_){console.error("Bookmark Dial: failed to remove bookmark",_),Z("Failed to remove bookmark","error")}}function Vr(){ge&&t(23,ge.value="",ge),ie==null||ie.showModal()}async function Kr(s){var _;s.preventDefault();const h=(_=ge==null?void 0:ge.files)==null?void 0:_[0];if(!h){ie==null||ie.close();return}if(!Zr(h)){alert("Please choose a JPEG or PNG image under 4 MB.");return}try{const L=await ha(h,b);A&&await T.storage.local.set({[vl]:L}),kl(L),t(3,F={...F,background:{...F.background,mode:"custom"}}),ie==null||ie.close()}catch(L){console.error("Bookmark Dial: failed to save background",L),alert("Unable to store the background image. Try a smaller file.")}}async function Qr(){try{A&&await T.storage.local.remove(vl)}catch(s){console.error("Bookmark Dial: failed to clear background",s)}kl(null),t(3,F={...F,background:{...F.background,mode:"gradient"}}),ie==null||ie.close()}function Yr(){ie==null||ie.close()}async function Jr(){if(!A){kl(null),F.background.mode==="custom"&&t(3,F={...F,background:{...F.background,mode:"gradient"}});return}try{const s=await T.storage.local.get(vl),h=(s==null?void 0:s[vl])||"";kl(h),!h&&F.background.mode==="custom"&&(t(3,F={...F,background:{...F.background,mode:"gradient"}}),t(100,Ot=!0))}catch(s){console.error("Bookmark Dial: failed to load background",s)}}function kl(s){t(21,kt=s||"")}function Xt(s,h="info"){t(8,D=s),t(9,Y=h)}function Zr(s){return["image/jpeg","image/png"].includes(s.type)&&s.size<=b}function Xr(){console.info("Bookmark Dial: using mock Chrome APIs for development");let s="mock-folder",h=1;const _={onCreated:new Set,onChanged:new Set,onMoved:new Set,onRemoved:new Set,onImportBegan:new Set,onImportEnded:new Set},L=new Set,E=new Map,z=new Map([["speedDialFolderId",s],[jn,{version:Nn,theme:I.theme,accent:I.accent,titleBackdrop:I.titleBackdrop,mergeAllBookmarks:I.mergeAllBookmarks,background:{...I.background},folderSelection:{selectedIds:[s],expandedIds:[]}}]]),R=new Map;function oe(v,...M){const N=_[v];N&&N.forEach(K=>{try{K(...M)}catch(se){console.error(`Mock chrome ${v} handler failed`,se)}})}function de(v,M){!M||Object.keys(M).length===0||L.forEach(N=>{try{N(M,v)}catch(K){console.error("Mock chrome storage listener failed",K)}})}function te(v){return v===void 0?void 0:JSON.parse(JSON.stringify(v))}function $(v,M){if(Array.isArray(M)){const N={};return M.forEach(K=>N[K]=v.get(K)),N}if(typeof M=="object"&&M!==null){const N={...M};for(const K of Object.keys(M))v.has(K)&&(N[K]=v.get(K));return N}return{[M]:v.get(M)}}function re(v,M,N){const K={};Object.entries(N||{}).forEach(([se,at])=>{const Sn=v.get(se);v.set(se,at),K[se]={oldValue:te(Sn),newValue:te(at)}}),de(M,K)}function Fe(v,M,N){const K=Array.isArray(N)?N:[N],se={};K.forEach(at=>{if(!v.has(at))return;const Sn=v.get(at);v.delete(at),se[at]={oldValue:te(Sn),newValue:void 0}}),de(M,se)}function st(v){v!=null&&v.children&&(v.children.forEach((M,N)=>{M.index=N}),v.hasChildren=v.children.some(M=>!M.url))}function _e(v,M,N){const K=R.get(v);if(!K)throw new Error(`Parent ${v} not found`);Array.isArray(K.children)||(K.children=[]);const se=typeof N=="number"?Math.max(0,Math.min(N,K.children.length)):K.children.length;K.children.splice(se,0,M),M.parentId=v,st(K)}function yn(v,M){const N=R.get(v);if(!(N!=null&&N.children))return;const K=N.children.findIndex(se=>se.id===M);K!==-1&&(N.children.splice(K,1),st(N))}function le({id:v,parentId:M=null,title:N="Untitled folder",index:K}){const se=v??`mock-folder-${h++}`,at={id:se,parentId:M,title:N,index:typeof K=="number"?K:0,children:[]};return R.set(se,at),M&&_e(M,at,K),at}function ve({id:v,parentId:M,title:N,url:K,index:se}){if(!M)throw new Error("Bookmarks require a parent folder");const at=v??`mock-bookmark-${h++}`,Sn={id:at,parentId:M,title:N??K??"Untitled",url:K,index:typeof se=="number"?se:0};return R.set(at,Sn),_e(M,Sn,se),Sn}function gt(v,M=!1){if(!v)return null;const N={id:v.id,parentId:v.parentId??void 0,title:v.title,index:v.index};return v.url&&(N.url=v.url),M&&Array.isArray(v.children)&&(N.children=v.children.map(K=>gt(K,!0))),N}function Ln(v){v&&(Array.isArray(v.children)&&[...v.children].forEach(M=>Ln(M)),R.delete(v.id))}const Dn=le({id:"0",parentId:null,title:""}),mo=le({id:"1",parentId:Dn.id,title:"Bookmarks Bar"});le({id:"2",parentId:Dn.id,title:"Other Bookmarks"}),le({id:"3",parentId:Dn.id,title:"Mobile Bookmarks"});const _l=le({id:"1-reading",parentId:"1",title:"Reading List"}),Ai=le({id:"2-inspiration",parentId:"2",title:"Inspiration"});function po(v){[{title:"Svelte",url:"https://svelte.dev"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"Vite",url:"https://vitejs.dev"}].forEach((K,se)=>{ve({parentId:v,title:K.title,url:K.url,index:se})});const N=le({id:`${v}-frameworks`,parentId:v,title:"Frameworks"});[{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Ember.js",url:"https://emberjs.com"},{title:"Lit",url:"https://lit.dev"},{title:"Solid",url:"https://www.solidjs.com"},{title:"Alpine.js",url:"https://alpinejs.dev"},{title:"Preact",url:"https://preact.dev"},{title:"Backbone.js",url:"https://backbonejs.org"},{title:"jQuery",url:"https://jquery.com"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt.js",url:"https://nuxt.com"}].forEach((K,se)=>{ve({parentId:N.id,title:K.title,url:K.url,index:se})})}le({id:s,parentId:mo.id,title:"Bookmark Dial"}),po(s);const Pi=le({id:"bookmarks-bar-tooling",parentId:mo.id,title:"Developer Tools"});Xs.forEach((v,M)=>{ve({parentId:Pi.id,title:v.title,url:v.url,index:M})});const Ul=le({id:"reading-fiction",parentId:_l.id,title:"Fiction"}),Oi=le({id:"reading-fiction-classic",parentId:Ul.id,title:"Classic Novels"});It.fiction.classicNovels.forEach((v,M)=>{ve({parentId:Oi.id,title:v.title,url:v.url,index:M})});const ji=le({id:"reading-fiction-modern",parentId:Ul.id,title:"Modern Fiction"});It.fiction.modernFiction.forEach((v,M)=>{ve({parentId:ji.id,title:v.title,url:v.url,index:M})});const Ni=le({id:"reading-fiction-short",parentId:Ul.id,title:"Short Stories"});It.fiction.shortStories.forEach((v,M)=>{ve({parentId:Ni.id,title:v.title,url:v.url,index:M})});const Hl=le({id:"reading-nonfiction",parentId:_l.id,title:"Non-Fiction"}),Ri=le({id:"reading-nonfiction-essays",parentId:Hl.id,title:"Essays"});It.nonFiction.essays.forEach((v,M)=>{ve({parentId:Ri.id,title:v.title,url:v.url,index:M})});const zi=le({id:"reading-nonfiction-bio",parentId:Hl.id,title:"Biography"});It.nonFiction.biography.forEach((v,M)=>{ve({parentId:zi.id,title:v.title,url:v.url,index:M})});const Ui=le({id:"reading-nonfiction-history",parentId:Hl.id,title:"History"});It.nonFiction.history.forEach((v,M)=>{ve({parentId:Ui.id,title:v.title,url:v.url,index:M})});const Gl=le({id:"reading-poetry",parentId:_l.id,title:"Poetry"}),Hi=le({id:"reading-poetry-classic",parentId:Gl.id,title:"Classic Poetry"});It.poetry.classicPoetry.forEach((v,M)=>{ve({parentId:Hi.id,title:v.title,url:v.url,index:M})});const Gi=le({id:"reading-poetry-contemporary",parentId:Gl.id,title:"Contemporary Poetry"});It.poetry.contemporaryPoetry.forEach((v,M)=>{ve({parentId:Gi.id,title:v.title,url:v.url,index:M})});const Wi=le({id:"reading-poetry-spoken",parentId:Gl.id,title:"Spoken Word"});It.poetry.spokenWord.forEach((v,M)=>{ve({parentId:Wi.id,title:v.title,url:v.url,index:M})});const Wl=le({id:"reading-academic",parentId:_l.id,title:"Academic"}),qi=le({id:"reading-academic-criticism",parentId:Wl.id,title:"Literary Criticism"});It.academic.literaryCriticism.forEach((v,M)=>{ve({parentId:qi.id,title:v.title,url:v.url,index:M})});const Vi=le({id:"reading-academic-theory",parentId:Wl.id,title:"Literary Theory"});It.academic.literaryTheory.forEach((v,M)=>{ve({parentId:Vi.id,title:v.title,url:v.url,index:M})});const Ki=le({id:"reading-academic-journals",parentId:Wl.id,title:"Academic Journals"});It.academic.journals.forEach((v,M)=>{ve({parentId:Ki.id,title:v.title,url:v.url,index:M})}),[{title:"Muz.li",url:"https://muz.li"},{title:"Awwwards",url:"https://www.awwwards.com"},{title:"Dribbble",url:"https://dribbble.com"}].forEach((v,M)=>{ve({parentId:Ai.id,title:v.title,url:v.url,index:M})});function An(v){const M=_[v];return{addListener:N=>M.add(N),removeListener:N=>M.delete(N)}}return{runtime:{sendMessage:async v=>{if((v==null?void 0:v.type)==="getFolderId")return{folderId:s};if((v==null?void 0:v.type)==="resetFolderCache"){const M=`mock-folder-${Date.now().toString(36)}`,N=R.get(s);if(N){const se=N.parentId;se&&yn(se,N.id),Ln(N)}s=M;const K=le({id:s,parentId:"1",title:"Bookmark Dial"});return po(K.id),re(z,"sync",{speedDialFolderId:s,[jn]:{version:Nn,theme:I.theme,accent:I.accent,titleBackdrop:I.titleBackdrop,mergeAllBookmarks:I.mergeAllBookmarks,background:{...I.background},folderSelection:{selectedIds:[s],expandedIds:[]}}}),{folderId:s}}return{}}},bookmarks:{onCreated:An("onCreated"),onChanged:An("onChanged"),onMoved:An("onMoved"),onRemoved:An("onRemoved"),onImportBegan:An("onImportBegan"),onImportEnded:An("onImportEnded"),async getTree(){return[gt(R.get("0"),!0)]},async getChildren(v){const M=R.get(v);return M!=null&&M.children?M.children.map(N=>gt(N,!1)):[]},async getSubTree(v){const M=R.get(v);return M?[gt(M,!0)]:[]},async search(v){const M=String((v==null?void 0:v.query)??"").trim().toLowerCase();return M?Array.from(R.values()).filter(N=>!N.url&&(N.title||"").toLowerCase().includes(M)).map(N=>gt(N,!1)):[]},async create({parentId:v,title:M,url:N}){const K=N?ve({parentId:v,title:M,url:N}):le({parentId:v,title:M});return oe("onCreated",K.id,gt(K,!0)),gt(K,!0)},async update(v,M={}){const N=R.get(v);if(!N)throw new Error("Bookmark not found");const K={};return typeof M.title=="string"&&(N.title=M.title,K.title=M.title),typeof M.url=="string"&&(N.url=M.url,K.url=M.url),oe("onChanged",v,K),gt(N,!1)},async remove(v){const M=R.get(v);if(!M)throw new Error("Bookmark not found");const N=gt(M,!0);M.parentId&&yn(M.parentId,v),Ln(M),oe("onRemoved",v,{parentId:N.parentId??null,node:N})},async move(v,{parentId:M,index:N}){const K=R.get(v);if(!K)throw new Error("Bookmark not found");const se=K.parentId??null;return se&&yn(se,v),_e(M,K,N),oe("onMoved",v,{parentId:M,oldParentId:se,index:N}),gt(K,!1)}},storage:{local:{async get(v){return $(E,v)},async set(v){re(E,"local",v)},async remove(v){Fe(E,"local",v)}},sync:{async get(v){return $(z,v)},async set(v){re(z,"sync",v)},async remove(v){Fe(z,"sync",v)}},onChanged:{addListener(v){L.add(v)},removeListener(v){L.delete(v)}}},topSites:{async get(){return[{title:"Google",url:"https://www.google.com"},{title:"YouTube",url:"https://www.youtube.com"},{title:"Facebook",url:"https://www.facebook.com"},{title:"Twitter",url:"https://twitter.com"},{title:"Reddit",url:"https://www.reddit.com"},{title:"Wikipedia",url:"https://www.wikipedia.org"},{title:"Amazon",url:"https://www.amazon.com"},{title:"Netflix",url:"https://www.netflix.com"}]}}}}function xr(s){as.call(this,n,s)}function $r(s){Gt[s?"unshift":"push"](()=>{Ee=s,t(24,Ee)})}const ei=s=>Yn(s.id),ti=s=>kn(s.id),ni=s=>Jn(s.currentTarget.checked),li=s=>Yt(s.id),oi=s=>ft(s.currentTarget.checked),ri=s=>zt(s.currentTarget.value),ii=s=>Zn(s.currentTarget.checked),si=s=>Fn(s.currentTarget.checked),ai=s=>Xn(s.currentTarget.checked);function ci(s){Gt[s?"unshift":"push"](()=>{ue=s,t(2,ue)})}const ui=s=>Tn(s.id),di=s=>bl(s),fi=s=>el(s.id),hi=s=>cn(s.id),gi=(s,h)=>Pl(h,s),mi=s=>Ol(s),pi=(s,h)=>jl(h,s),bi=(s,h)=>Nl(h,s),ki=(s,h)=>Rl(h,s),_i=s=>Ol(r.length+s);function wi(s){Gt[s?"unshift":"push"](()=>{ln=s,t(33,ln)})}const yi=s=>Tn(s.id),Si=s=>bl(s),vi=s=>el(s.id),Ii=s=>cn(s.id),Ci=(s,h)=>Pl(h,s),Bi=(s,h,_)=>jl(_,s,h.id),Ei=(s,h)=>Nl(h,s),Fi=(s,h)=>Rl(h,s),Ti=s=>zl(s.id),Mi=s=>zl(s.id);function Li(s){Gt[s?"unshift":"push"](()=>{ge=s,t(23,ge)})}function Di(s){Gt[s?"unshift":"push"](()=>{ie=s,t(22,ie)})}return n.$$.update=()=>{n.$$.dirty[3]&512&&t(104,l=new Set(nn.slice(0,Ml).map(s=>s.id))),n.$$.dirty[3]&256&&t(105,o=new Set(jt.slice(0,Ll).map(s=>s.id))),n.$$.dirty[0]&40|n.$$.dirty[3]&2048&&!nt&&F.background.mode==="gradient"&&F.background.gradientId&&!l.has(F.background.gradientId)&&t(5,nt=!0),n.$$.dirty[0]&32|n.$$.dirty[3]&512&&t(39,i=nt?nn:nn.slice(0,Ml)),n.$$.dirty[0]&72|n.$$.dirty[3]&4096&&!lt&&F.accent&&!o.has(F.accent)&&t(6,lt=!0),n.$$.dirty[0]&64|n.$$.dirty[3]&256&&t(38,a=lt?jt:jt.slice(0,Ll)),n.$$.dirty[0]&8|n.$$.dirty[3]&244&&!_t&&Xe&&(pn(F.theme),Mt(F.accent),Lt(F.background.gradientId),(Ot||be||tn)&&Dt(),t(99,tn=!0),t(100,Ot=!1),t(97,be=!1)),n.$$.dirty[0]&16&&typeof document<"u"&&document.body.classList.toggle("settings-open",Et),n.$$.dirty[0]&20&&Et&&Xl().then(()=>{ue==null||ue.focus()}),n.$$.dirty[0]&3|n.$$.dirty[3]&10&&t(19,Bt=(()=>{const s=pe&&Ke?Ke:me,h=new Set(s??[]);if(xe.size){const _=un();xe.forEach(L=>{var z,R;let E=((z=_.nodesById[L])==null?void 0:z.parentId)??null;for(;E;)h.add(E),E=((R=_.nodesById[E])==null?void 0:R.parentId)??null})}return h})()),n.$$.dirty[0]&128|n.$$.dirty[2]&1073741824&&t(36,r=(()=>{if(!dt.trim())return ee;const s=dt.toLowerCase().trim();return ee.filter(h=>{var _,L,E;return((_=h.title)==null?void 0:_.toLowerCase().includes(s))||((L=h.url)==null?void 0:L.toLowerCase().includes(s))||((E=h.displayTitle)==null?void 0:E.toLowerCase().includes(s))})})()),n.$$.dirty[0]&128|n.$$.dirty[3]&1&&t(37,u=(()=>{if(!dt.trim())return J;const s=dt.toLowerCase().trim();return J.map(h=>({...h,items:h.items.filter(_=>{var L,E,z;return((L=_.title)==null?void 0:L.toLowerCase().includes(s))||((E=_.url)==null?void 0:E.toLowerCase().includes(s))||((z=_.displayTitle)==null?void 0:z.toLowerCase().includes(s))})})).filter(h=>h.items.length>0)})()),n.$$.dirty[0]&8|n.$$.dirty[3]&1024&&F.enableTopSites&&!ze&&co()},[pe,xe,ue,F,Et,nt,lt,dt,D,Y,X,Ze,j,$e,et,pt,ce,Ce,bt,Bt,fe,kt,ie,ge,Ee,Nt,Ft,wt,hn,De,Tt,Cn,ke,ln,Ae,on,r,u,a,i,d,k,g,m,Qt,yt,En,bn,Yn,kn,Jn,ft,zt,Zn,Fn,Xn,Yt,fl,St,Ge,Te,hl,Ht,gl,Me,it,cn,Tn,vt,Lr,Ar,Pl,Zt,Pr,Or,jr,Nr,Rr,ao,zr,Ol,jl,Nl,Hr,Rl,Gr,zl,bl,el,Kr,Qr,Yr,ee,J,me,Xe,Ke,be,_t,tn,Ot,jt,nn,ze,l,o,xr,$r,ei,ti,ni,li,oi,ri,ii,si,ai,ci,ui,di,fi,hi,gi,mi,pi,bi,ki,_i,wi,yi,Si,vi,Ii,Ci,Bi,Ei,Fi,Ti,Mi,Li,Di]}class Ba extends fn{constructor(e){super(),dn(this,e,Ca,aa,$t,{},null,[-1,-1,-1,-1,-1,-1,-1,-1])}}new Ba({target:document.getElementById("app")});
