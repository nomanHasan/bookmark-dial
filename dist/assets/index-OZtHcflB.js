var Yi=Object.defineProperty;var Ji=(n,e,t)=>e in n?Yi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ql=(n,e,t)=>Ji(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();function le(){}const sl=n=>n;function hr(n){return n()}function _o(){return Object.create(null)}function Ne(n){n.forEach(hr)}function ct(n){return typeof n=="function"}function tn(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let wl;function wo(n,e){return n===e?!0:(wl||(wl=document.createElement("a")),wl.href=e,n===wl.href)}function Zi(n){return Object.keys(n).length===0}function gr(n,...e){if(n==null){for(const l of e)l(void 0);return le}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function vn(n){let e;return gr(n,t=>e=t)(),e}function mr(n,e,t){n.$$.on_destroy.push(gr(e,t))}function yo(n){const e=typeof n=="string"&&n.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[n,"px"]}const pr=typeof window<"u";let Pl=pr?()=>window.performance.now():()=>Date.now(),oo=pr?n=>requestAnimationFrame(n):le;const Gn=new Set;function br(n){Gn.forEach(e=>{e.c(n)||(Gn.delete(e),e.f())}),Gn.size!==0&&oo(br)}function Al(n){let e;return Gn.size===0&&oo(br),{promise:new Promise(t=>{Gn.add(e={c:n,f:t})}),abort(){Gn.delete(e)}}}const Xi=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function f(n,e){n.appendChild(e)}function kr(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function xi(n){const e=_("style");return e.textContent="/* empty */",$i(kr(n),e),e.sheet}function $i(n,e){return f(n.head||n,e),e.sheet}function G(n,e,t){n.insertBefore(e,t||null)}function U(n){n.parentNode&&n.parentNode.removeChild(n)}function Yl(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function _(n){return document.createElement(n)}function It(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function me(n){return document.createTextNode(n)}function A(){return me(" ")}function ut(){return me("")}function W(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function xl(n){return function(e){return e.preventDefault(),n.call(this,e)}}function es(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function u(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function ts(n){return Array.from(n.childNodes)}function Le(n,e){e=""+e,n.data!==e&&(n.data=e)}function El(n,e,t,l){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function ye(n,e,t){n.classList.toggle(e,!!t)}function _r(n,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:l})}const Fl=new Map;let Tl=0;function ns(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function ls(n,e){const t={stylesheet:xi(e),rules:{}};return Fl.set(n,t),t}function ol(n,e,t,l,o,r,a,i=0){const c=16.666/l;let d=`{
`;for(let w=0;w<=1;w+=c){const I=e+(t-e)*r(w);d+=w*100+`%{${a(I,1-I)}}
`}const m=d+`100% {${a(t,1-t)}}
}`,y=`__svelte_${ns(m)}_${i}`,b=kr(n),{stylesheet:S,rules:g}=Fl.get(b)||ls(b,n);g[y]||(g[y]=!0,S.insertRule(`@keyframes ${y} ${m}`,S.cssRules.length));const p=n.style.animation||"";return n.style.animation=`${p?`${p}, `:""}${y} ${l}ms linear ${o}ms 1 both`,Tl+=1,y}function rl(n,e){const t=(n.style.animation||"").split(", "),l=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),o=t.length-l.length;o&&(n.style.animation=l.join(", "),Tl-=o,Tl||os())}function os(){oo(()=>{Tl||(Fl.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&U(e)}),Fl.clear())})}function rs(n,e,t,l){if(!e)return le;const o=n.getBoundingClientRect();if(e.left===o.left&&e.right===o.right&&e.top===o.top&&e.bottom===o.bottom)return le;const{delay:r=0,duration:a=300,easing:i=sl,start:c=Pl()+r,end:d=c+a,tick:m=le,css:y}=t(n,{from:e,to:o},l);let b=!0,S=!1,g;function p(){y&&(g=ol(n,0,1,a,r,i,y)),r||(S=!0)}function w(){y&&rl(n,g),b=!1}return Al(I=>{if(!S&&I>=c&&(S=!0),S&&I>=d&&(m(1,0),w()),!b)return!1;if(S){const C=I-c,H=0+1*i(C/a);m(H,1-H)}return!0}),p(),m(0,1),w}function is(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,o=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=l,wr(n,o)}}function wr(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(n),o=l.transform==="none"?"":l.transform;n.style.transform=`${o} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let il;function ll(n){il=n}function yr(){if(!il)throw new Error("Function called outside component initialization");return il}function ss(n){yr().$$.on_mount.push(n)}function as(){const n=yr();return(e,t,{cancelable:l=!1}={})=>{const o=n.$$.callbacks[e];if(o){const r=_r(e,t,{cancelable:l});return o.slice().forEach(a=>{a.call(n,r)}),!r.defaultPrevented}return!0}}function cs(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Hn=[],qt=[];let Wn=[];const So=[],Sr=Promise.resolve();let $l=!1;function vr(){$l||($l=!0,Sr.then(Cr))}function eo(){return vr(),Sr}function en(n){Wn.push(n)}const Jl=new Set;let On=0;function Cr(){if(On!==0)return;const n=il;do{try{for(;On<Hn.length;){const e=Hn[On];On++,ll(e),us(e.$$)}}catch(e){throw Hn.length=0,On=0,e}for(ll(null),Hn.length=0,On=0;qt.length;)qt.pop()();for(let e=0;e<Wn.length;e+=1){const t=Wn[e];Jl.has(t)||(Jl.add(t),t())}Wn.length=0}while(Hn.length);for(;So.length;)So.pop()();$l=!1,Jl.clear(),ll(n)}function us(n){if(n.fragment!==null){n.update(),Ne(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(en)}}function ds(n){const e=[],t=[];Wn.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Wn=e}let tl;function ro(){return tl||(tl=Promise.resolve(),tl.then(()=>{tl=null})),tl}function Sn(n,e,t){n.dispatchEvent(_r(`${e?"intro":"outro"}${t}`))}const Il=new Set;let Vt;function He(){Vt={r:0,c:[],p:Vt}}function Ge(){Vt.r||Ne(Vt.c),Vt=Vt.p}function X(n,e){n&&n.i&&(Il.delete(n),n.i(e))}function ne(n,e,t,l){if(n&&n.o){if(Il.has(n))return;Il.add(n),Vt.c.push(()=>{Il.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}const io={duration:0};function fs(n,e,t){const l={direction:"in"};let o=e(n,t,l),r=!1,a,i,c=0;function d(){a&&rl(n,a)}function m(){const{delay:b=0,duration:S=300,easing:g=sl,tick:p=le,css:w}=o||io;w&&(a=ol(n,0,1,S,b,g,w,c++)),p(0,1);const I=Pl()+b,C=I+S;i&&i.abort(),r=!0,en(()=>Sn(n,!0,"start")),i=Al(H=>{if(r){if(H>=C)return p(1,0),Sn(n,!0,"end"),d(),r=!1;if(H>=I){const P=g((H-I)/S);p(P,1-P)}}return r})}let y=!1;return{start(){y||(y=!0,rl(n),ct(o)?(o=o(l),ro().then(m)):m())},invalidate(){y=!1},end(){r&&(d(),r=!1)}}}function hs(n,e,t){const l={direction:"out"};let o=e(n,t,l),r=!0,a;const i=Vt;i.r+=1;let c;function d(){const{delay:m=0,duration:y=300,easing:b=sl,tick:S=le,css:g}=o||io;g&&(a=ol(n,1,0,y,m,b,g));const p=Pl()+m,w=p+y;en(()=>Sn(n,!1,"start")),"inert"in n&&(c=n.inert,n.inert=!0),Al(I=>{if(r){if(I>=w)return S(0,1),Sn(n,!1,"end"),--i.r||Ne(i.c),!1;if(I>=p){const C=b((I-p)/y);S(1-C,C)}}return r})}return ct(o)?ro().then(()=>{o=o(l),d()}):d(),{end(m){m&&"inert"in n&&(n.inert=c),m&&o.tick&&o.tick(1,0),r&&(a&&rl(n,a),r=!1)}}}function yl(n,e,t,l){let r=e(n,t,{direction:"both"}),a=l?0:1,i=null,c=null,d=null,m;function y(){d&&rl(n,d)}function b(g,p){const w=g.b-a;return p*=Math.abs(w),{a,b:g.b,d:w,duration:p,start:g.start,end:g.start+p,group:g.group}}function S(g){const{delay:p=0,duration:w=300,easing:I=sl,tick:C=le,css:H}=r||io,P={start:Pl()+p,b:g};g||(P.group=Vt,Vt.r+=1),"inert"in n&&(g?m!==void 0&&(n.inert=m):(m=n.inert,n.inert=!0)),i||c?c=P:(H&&(y(),d=ol(n,a,g,w,p,I,H)),g&&C(0,1),i=b(P,w),en(()=>Sn(n,g,"start")),Al(L=>{if(c&&L>c.start&&(i=b(c,w),c=null,Sn(n,i.b,"start"),H&&(y(),d=ol(n,a,i.b,i.duration,0,I,r.css))),i){if(L>=i.end)C(a=i.b,1-a),Sn(n,i.b,"end"),c||(i.b?y():--i.group.r||Ne(i.group.c)),i=null;else if(L>=i.start){const K=L-i.start;a=i.a+i.d*I(K/i.duration),C(a,1-a)}}return!!(i||c)}))}return{run(g){ct(r)?ro().then(()=>{r=r({direction:g?"in":"out"}),S(g)}):S(g)},end(){y(),i=c=null}}}function Se(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Ir(n,e){n.d(1),e.delete(n.key)}function Cn(n,e){ne(n,1,1,()=>{e.delete(n.key)})}function gs(n,e){n.f(),Cn(n,e)}function nn(n,e,t,l,o,r,a,i,c,d,m,y){let b=n.length,S=r.length,g=b;const p={};for(;g--;)p[n[g].key]=g;const w=[],I=new Map,C=new Map,H=[];for(g=S;g--;){const O=y(o,r,g),D=t(O);let J=a.get(D);J?H.push(()=>J.p(O,e)):(J=d(D,O),J.c()),I.set(D,w[g]=J),D in p&&C.set(D,Math.abs(g-p[D]))}const P=new Set,L=new Set;function K(O){X(O,1),O.m(i,m),a.set(O.key,O),m=O.first,S--}for(;b&&S;){const O=w[S-1],D=n[b-1],J=O.key,Y=D.key;O===D?(m=O.first,b--,S--):I.has(Y)?!a.has(J)||P.has(J)?K(O):L.has(Y)?b--:C.get(J)>C.get(Y)?(L.add(J),K(O)):(P.add(Y),b--):(c(D,a),b--)}for(;b--;){const O=n[b];I.has(O.key)||c(O,a)}for(;S;)K(w[S-1]);return Ne(H),w}function Kt(n){n&&n.c()}function Pt(n,e,t){const{fragment:l,after_update:o}=n.$$;l&&l.m(e,t),en(()=>{const r=n.$$.on_mount.map(hr).filter(ct);n.$$.on_destroy?n.$$.on_destroy.push(...r):Ne(r),n.$$.on_mount=[]}),o.forEach(en)}function At(n,e){const t=n.$$;t.fragment!==null&&(ds(t.after_update),Ne(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ms(n,e){n.$$.dirty[0]===-1&&(Hn.push(n),vr(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function un(n,e,t,l,o,r,a=null,i=[-1]){const c=il;ll(n);const d=n.$$={fragment:null,ctx:[],props:r,update:le,not_equal:o,bound:_o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:_o(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};a&&a(d.root);let m=!1;if(d.ctx=t?t(n,e.props||{},(y,b,...S)=>{const g=S.length?S[0]:b;return d.ctx&&o(d.ctx[y],d.ctx[y]=g)&&(!d.skip_bound&&d.bound[y]&&d.bound[y](g),m&&ms(n,y)),b}):[],d.update(),m=!0,Ne(d.before_update),d.fragment=l?l(d.ctx):!1,e.target){if(e.hydrate){const y=ts(e.target);d.fragment&&d.fragment.l(y),y.forEach(U)}else d.fragment&&d.fragment.c();e.intro&&X(n.$$.fragment),Pt(n,e.target,e.anchor),Cr()}ll(c)}class dn{constructor(){Ql(this,"$$");Ql(this,"$$set")}$destroy(){At(this,1),this.$destroy=le}$on(e,t){if(!ct(t))return le;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const o=l.indexOf(t);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!Zi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ps="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ps);const Nn=[];function bs(n,e=le){let t;const l=new Set;function o(i){if(tn(n,i)&&(n=i,t)){const c=!Nn.length;for(const d of l)d[1](),Nn.push(d,n);if(c){for(let d=0;d<Nn.length;d+=2)Nn[d][0](Nn[d+1]);Nn.length=0}}}function r(i){o(i(n))}function a(i,c=le){const d=[i,c];return l.add(d),l.size===1&&(t=e(o,r)||le),i(n),()=>{l.delete(d),l.size===0&&t&&(t(),t=null)}}return{set:o,update:r,subscribe:a}}const ks={nodesById:{},rootIds:[]},dt=bs(ks),Br={subscribe:dt.subscribe};function Ol(n,{includeChildren:e=!1}={}){const t=Array.isArray(n.children),l=t?[...n.children]:[],o=e?l.sort((i,c)=>(i.index??0)-(c.index??0)):[],a=l.filter(i=>!i.url).length>0;return{id:n.id,parentId:n.parentId??null,title:n.title??"",url:n.url??null,index:typeof n.index=="number"?n.index:0,isFolder:!n.url,childrenIds:e?o.map(i=>i.id):[],childrenLoaded:e,hasChildren:!n.url&&(e||t?a:!0)}}function so(n){dt.update(e=>{const t={...e.nodesById};let l=[...e.rootIds];for(const o of n){const r=t[o.id];t[o.id]=r?{...r,...o}:o,!o.parentId&&!l.includes(o.id)&&l.push(o.id)}return l.sort((o,r)=>{const a=t[o],i=t[r];return((a==null?void 0:a.index)??0)-((i==null?void 0:i.index)??0)}),{...e,nodesById:t,rootIds:l}})}function Ml(n,e,t){dt.update(l=>{const o={...l.nodesById},r=o[n];if(!r)return l;const a=Array.from(new Set(e));a.sort((c,d)=>{const m=o[c],y=o[d];return((m==null?void 0:m.index)??0)-((y==null?void 0:y.index)??0)});const i=a.some(c=>{var d;return(d=o[c])==null?void 0:d.isFolder});return o[n]={...r,childrenIds:a,childrenLoaded:t?!0:r.childrenLoaded,hasChildren:i},{...l,nodesById:o}})}async function _s(n){const e=await n.bookmarks.getTree(),t=Array.isArray(e)?e[0]:null,o=((t==null?void 0:t.children)??[]).map(r=>Ol(r,{includeChildren:!1}));return dt.set({nodesById:Object.fromEntries(o.map(r=>[r.id,r])),rootIds:o.map(r=>r.id)}),o.map(r=>r.id)}function $t(){return vn(dt)}function Er(n){return vn(dt).nodesById[n]}async function ws(n,e){var i;const t=vn(dt),l=t.nodesById[e];if(!l||!l.isFolder||l.childrenLoaded)return((i=l==null?void 0:l.childrenIds)==null?void 0:i.map(c=>t.nodesById[c]).filter(Boolean))??[];const a=[...await n.bookmarks.getChildren(e)].sort((c,d)=>(c.index??0)-(d.index??0)).map(c=>Ol(c,{includeChildren:!1}));return so(a),Ml(e,a.map(c=>c.id),!0),a}async function jn(n,e){const t=await n.bookmarks.getSubTree(e),l=Array.isArray(t)?t[0]:null;if(!l)return{folderIds:[]};const o=[l],r=[],a=[];for(;o.length;){const i=o.shift(),c=Array.isArray(i.children),d=Ol(i,{includeChildren:c});r.push(d),i.url||a.push(i.id),c&&o.push(...i.children)}return so(r),r.forEach(i=>{if(i.isFolder&&Ml(i.id,i.childrenIds,!0),i.parentId){const d=vn(dt).nodesById[i.parentId];if(d){const m=d.childrenIds?[...d.childrenIds]:[];m.push(i.id),Ml(i.parentId,m,d.childrenLoaded)}}}),{folderIds:a}}function Bl(n){const e=vn(dt),t=[];let l=e.nodesById[n];for(;l&&(l.title&&t.unshift(l.title),!!l.parentId);)l=e.nodesById[l.parentId];return t}function ys(n){const e=Ol(n,{includeChildren:!1});if(so([e]),e.parentId){const t=Er(e.parentId),l=t!=null&&t.childrenIds?[...t.childrenIds]:[];l.splice(e.index??l.length,0,e.id),Ml(e.parentId,l,t==null?void 0:t.childrenLoaded)}}function Ss(n,e){dt.update(t=>{const l=t.nodesById[n];if(!l)return t;const o={...t.nodesById,[n]:{...l,...e}};return{...t,nodesById:o}})}function vs(n,{parentId:e,oldParentId:t,index:l}){dt.update(o=>{const r={...o.nodesById},a=r[n];if(!a)return o;const i={...a,parentId:e,index:typeof l=="number"?l:a.index};if(r[n]=i,t&&r[t]){const c=r[t],d=(c.childrenIds??[]).filter(y=>y!==n),m=d.some(y=>{var b;return(b=r[y])==null?void 0:b.isFolder});r[t]={...c,childrenIds:d,hasChildren:m}}if(e&&r[e]){const c=r[e],d=[...c.childrenIds??[]];d.includes(n)||d.splice(l??d.length,0,n);const m=d.some(y=>{var b;return(b=r[y])==null?void 0:b.isFolder});r[e]={...c,childrenIds:d,hasChildren:m}}return{...o,nodesById:r}})}function Cs(n,{parentId:e}){dt.update(t=>{var i;const l={...t.nodesById},o=new Set([n]),r=[n];for(;r.length;){const c=r.pop(),d=l[c];d&&(i=d.childrenIds)!=null&&i.length&&d.childrenIds.forEach(m=>{o.has(m)||(o.add(m),r.push(m))})}o.forEach(c=>{delete l[c]});let a=t.rootIds;if(a.includes(n)&&(a=a.filter(c=>c!==n)),e&&l[e]){const c=l[e],d=(c.childrenIds??[]).filter(y=>y!==n),m=d.some(y=>{var b;return(b=l[y])==null?void 0:b.isFolder});l[e]={...c,childrenIds:d,hasChildren:m}}return{...t,nodesById:l,rootIds:a}})}function Sl(n){var o;const e=vn(dt),t=[],l=[n];for(;l.length;){const r=l.pop(),a=e.nodesById[r];a&&a.isFolder&&(t.push(r),(o=a.childrenIds)!=null&&o.length&&a.childrenIds.forEach(i=>{const c=e.nodesById[i];c!=null&&c.isFolder&&l.push(i)}))}return t}function Is(){const n=vn(dt);return Object.values(n.nodesById).filter(e=>e.isFolder).map(e=>({id:e.id,title:e.title??"",path:Bl(e.id)}))}function vo(n,e,t){const l=n.slice();return l[25]=e[t],l}function Co(n){let e,t,l,o,r,a,i,c,d,m,y,b,S,g=(n[11].title||"Untitled folder")+"",p,w,I,C,H,P,L,K=n[10]&&n[15]&&Io(n);return{c(){var O;e=_("li"),t=_("div"),l=_("button"),o=It("svg"),r=It("path"),d=A(),m=_("label"),y=_("input"),b=A(),S=_("span"),p=me(g),I=A(),K&&K.c(),u(r,"d","M6 4.5 10 8l-4 3.5"),u(r,"fill","none"),u(r,"stroke","currentColor"),u(r,"stroke-width","1.6"),u(r,"stroke-linecap","round"),u(r,"stroke-linejoin","round"),u(o,"viewBox","0 0 16 16"),u(o,"aria-hidden","true"),u(o,"focusable","false"),u(l,"type","button"),u(l,"class","folder-node__expander svelte-11g8b9y"),u(l,"aria-hidden",a=!n[10]),u(l,"aria-label",i=n[15]?"Collapse folder":"Expand folder"),l.disabled=c=!n[10],ye(l,"hidden",!n[10]),u(y,"type","checkbox"),u(y,"class","folder-node__checkbox svelte-11g8b9y"),u(S,"class","folder-node__title svelte-11g8b9y"),u(S,"title",w=n[11].title||"Untitled folder"),u(m,"class","folder-node__label svelte-11g8b9y"),u(t,"class","folder-node__row svelte-11g8b9y"),u(t,"style",n[16]),u(e,"class","folder-node svelte-11g8b9y"),u(e,"data-expanded",n[15]),u(e,"data-depth",n[1]),u(e,"data-match",C=((O=n[5])==null?void 0:O.has(n[0]))??!1)},m(O,D){G(O,e,D),f(e,t),f(t,l),f(l,o),f(o,r),f(t,d),f(t,m),f(m,y),n[24](y),f(m,b),f(m,S),f(S,p),f(e,I),K&&K.m(e,null),H=!0,P||(L=[W(l,"click",n[17]),W(y,"change",n[18])],P=!0)},p(O,D){var J;(!H||D&1024&&a!==(a=!O[10]))&&u(l,"aria-hidden",a),(!H||D&32768&&i!==(i=O[15]?"Collapse folder":"Expand folder"))&&u(l,"aria-label",i),(!H||D&1024&&c!==(c=!O[10]))&&(l.disabled=c),(!H||D&1024)&&ye(l,"hidden",!O[10]),(!H||D&2048)&&g!==(g=(O[11].title||"Untitled folder")+"")&&Le(p,g),(!H||D&2048&&w!==(w=O[11].title||"Untitled folder"))&&u(S,"title",w),O[10]&&O[15]?K?(K.p(O,D),D&33792&&X(K,1)):(K=Io(O),K.c(),X(K,1),K.m(e,null)):K&&(He(),ne(K,1,1,()=>{K=null}),Ge()),(!H||D&32768)&&u(e,"data-expanded",O[15]),(!H||D&2)&&u(e,"data-depth",O[1]),(!H||D&33&&C!==(C=((J=O[5])==null?void 0:J.has(O[0]))??!1))&&u(e,"data-match",C)},i(O){H||(X(K),H=!0)},o(O){ne(K),H=!1},d(O){O&&U(e),n[24](null),K&&K.d(),P=!1,Ne(L)}}}function Io(n){let e,t,l,o;const r=[Fs,Es,Bs],a=[];function i(c,d){return c[14]?0:c[12].length?1:2}return t=i(n),l=a[t]=r[t](n),{c(){e=_("ul"),l.c(),u(e,"class","folder-node__children svelte-11g8b9y")},m(c,d){G(c,e,d),a[t].m(e,null),o=!0},p(c,d){let m=t;t=i(c),t===m?a[t].p(c,d):(He(),ne(a[m],1,1,()=>{a[m]=null}),Ge(),l=a[t],l?l.p(c,d):(l=a[t]=r[t](c),l.c()),X(l,1),l.m(e,null))},i(c){o||(X(l),o=!0)},o(c){ne(l),o=!1},d(c){c&&U(e),a[t].d()}}}function Bs(n){let e;return{c(){e=_("li"),e.textContent="No subfolders",u(e,"class","folder-node__status svelte-11g8b9y")},m(t,l){G(t,e,l)},p:le,i:le,o:le,d(t){t&&U(e)}}}function Es(n){let e=[],t=new Map,l,o,r=Se(n[12]);const a=i=>i[25];for(let i=0;i<r.length;i+=1){let c=vo(n,r,i),d=a(c);t.set(d,e[i]=Bo(d,c))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=ut()},m(i,c){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(i,c);G(i,l,c),o=!0},p(i,c){c&4606&&(r=Se(i[12]),He(),e=nn(e,c,a,1,i,r,t,l.parentNode,Cn,Bo,l,vo),Ge())},i(i){if(!o){for(let c=0;c<r.length;c+=1)X(e[c]);o=!0}},o(i){for(let c=0;c<e.length;c+=1)ne(e[c]);o=!1},d(i){i&&U(l);for(let c=0;c<e.length;c+=1)e[c].d(i)}}}function Fs(n){let e;return{c(){e=_("li"),e.textContent="Loading‚Ä¶",u(e,"class","folder-node__status svelte-11g8b9y")},m(t,l){G(t,e,l)},p:le,i:le,o:le,d(t){t&&U(e)}}}function Bo(n,e){let t,l,o;return l=new Fr({props:{nodeId:e[25],depth:e[1]+1,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[5],toggleSelection:e[6],toggleExpansion:e[7],getCheckboxState:e[8]}}),{key:n,first:null,c(){t=ut(),Kt(l.$$.fragment),this.first=t},m(r,a){G(r,t,a),Pt(l,r,a),o=!0},p(r,a){e=r;const i={};a&4096&&(i.nodeId=e[25]),a&2&&(i.depth=e[1]+1),a&4&&(i.expandedIds=e[2]),a&8&&(i.loadingIds=e[3]),a&16&&(i.visibleIds=e[4]),a&32&&(i.searchMatches=e[5]),a&64&&(i.toggleSelection=e[6]),a&128&&(i.toggleExpansion=e[7]),a&256&&(i.getCheckboxState=e[8]),l.$set(i)},i(r){o||(X(l.$$.fragment,r),o=!0)},o(r){ne(l.$$.fragment,r),o=!1},d(r){r&&U(t),At(l,r)}}}function Ts(n){let e,t,l=n[13]&&Co(n);return{c(){l&&l.c(),e=ut()},m(o,r){l&&l.m(o,r),G(o,e,r),t=!0},p(o,[r]){o[13]?l?(l.p(o,r),r&8192&&X(l,1)):(l=Co(o),l.c(),X(l,1),l.m(e.parentNode,e)):l&&(He(),ne(l,1,1,()=>{l=null}),Ge())},i(o){t||(X(l),t=!0)},o(o){ne(l),t=!1},d(o){o&&U(e),l&&l.d(o)}}}function Ms(n,e,t){let l,o,r,a,i,c,d,m,y,b,S;mr(n,Br,Q=>t(23,S=Q));let{nodeId:g}=e,{depth:p=0}=e,{expandedIds:w}=e,{loadingIds:I}=e,{visibleIds:C}=e,{searchMatches:H}=e,{toggleSelection:P}=e,{toggleExpansion:L}=e,{getCheckboxState:K}=e,O;const D=`--depth: ${p}`;function J(Q){Q.stopPropagation(),i&&(L==null||L(g))}function Y(Q){Q.stopPropagation(),P==null||P(g)}function ee(Q){qt[Q?"unshift":"push"](()=>{O=Q,t(9,O),t(21,y),t(8,K),t(0,g)})}return n.$$set=Q=>{"nodeId"in Q&&t(0,g=Q.nodeId),"depth"in Q&&t(1,p=Q.depth),"expandedIds"in Q&&t(2,w=Q.expandedIds),"loadingIds"in Q&&t(3,I=Q.loadingIds),"visibleIds"in Q&&t(4,C=Q.visibleIds),"searchMatches"in Q&&t(5,H=Q.searchMatches),"toggleSelection"in Q&&t(6,P=Q.toggleSelection),"toggleExpansion"in Q&&t(7,L=Q.toggleExpansion),"getCheckboxState"in Q&&t(8,K=Q.getCheckboxState)},n.$$.update=()=>{var Q,Be;n.$$.dirty&8388608&&t(22,l=S),n.$$.dirty&4194305&&t(11,o=(Q=l==null?void 0:l.nodesById)==null?void 0:Q[g]),n.$$.dirty&2048&&t(20,r=(o==null?void 0:o.isFolder)??!1),n.$$.dirty&4196352&&t(12,a=((Be=o==null?void 0:o.childrenIds)==null?void 0:Be.filter(ve=>{var be;const Z=(be=l==null?void 0:l.nodesById)==null?void 0:be[ve];return Z==null?void 0:Z.isFolder}))??[]),n.$$.dirty&1054720&&t(10,i=r&&(o!=null&&o.childrenLoaded?a.length>0:o==null?void 0:o.hasChildren)),n.$$.dirty&1029&&t(15,c=i&&(w==null?void 0:w.has(g))),n.$$.dirty&9&&t(14,d=I==null?void 0:I.has(g)),n.$$.dirty&17&&t(19,m=!C||C.has(g)),n.$$.dirty&257&&t(21,y=K?K(g):"none"),n.$$.dirty&2097664&&O&&(t(9,O.indeterminate=y==="partial",O),t(9,O.checked=y==="selected",O)),n.$$.dirty&1574912&&t(13,b=!!(o&&r&&m))},[g,p,w,I,C,H,P,L,K,O,i,o,a,b,d,c,D,J,Y,m,r,y,l,S,ee]}class Fr extends dn{constructor(e){super(),un(this,e,Ms,Ts,tn,{nodeId:0,depth:1,expandedIds:2,loadingIds:3,visibleIds:4,searchMatches:5,toggleSelection:6,toggleExpansion:7,getCheckboxState:8})}}function Eo(n,e,t){const l=n.slice();return l[21]=e[t],l}function Fo(n,e,t){const l=n.slice();return l[24]=e[t],l}function To(n){let e,t,l,o,r,a,i,c,d,m,y,b,S,g,p,w,I,C,H,P,L,K,O,D,J,Y,ee=n[8]===1?"":"s",Q,Be,ve,Z,be,We,$e,ke,N=n[9]===1?"":"s",et,tt,nt,Ye,kt,ce,Je,Ee,Fe,_t,_e;const Bt=[Ds,Ls],lt=[];function Ze(Te,fe){return Te[1].length===0?0:1}S=Ze(n),g=lt[S]=Bt[S](n);let ge=n[8]>0&&Lo(n);function wt(Te,fe){return Te[7].length===0?As:Ps}let ie=wt(n),pe=ie(n);return{c(){e=_("div"),t=_("section"),l=_("header"),o=_("div"),o.innerHTML='<h2 id="folder-modal-title">Select bookmark folders</h2> <p class="folder-modal__hint svelte-gn1lpb">Choose one or more folders to show in your new tab. Selecting a folder includes all of its subfolders.</p>',r=A(),a=_("button"),a.textContent="√ó",i=A(),c=_("div"),d=_("input"),m=A(),y=_("div"),b=_("div"),g.c(),p=A(),w=_("aside"),I=_("header"),C=_("h3"),C.textContent="Selected folders",H=A(),ge&&ge.c(),P=A(),pe.c(),L=A(),K=_("footer"),O=_("div"),D=_("span"),J=me(n[8]),Y=me(" folder"),Q=me(ee),Be=me(" selected"),ve=A(),Z=_("span"),Z.textContent="‚Ä¢",be=A(),We=_("span"),$e=me(n[9]),ke=me(" bookmark"),et=me(N),tt=A(),nt=_("div"),Ye=_("button"),Ye.textContent="Cancel",kt=A(),ce=_("button"),Je=me("Confirm selection"),u(a,"type","button"),u(a,"class","folder-modal__close svelte-gn1lpb"),u(a,"aria-label","Close"),u(l,"class","folder-modal__header svelte-gn1lpb"),u(d,"type","search"),u(d,"placeholder","Search folders"),d.value=n[5],u(d,"class","svelte-gn1lpb"),u(c,"class","folder-modal__search svelte-gn1lpb"),u(b,"class","folder-modal__tree svelte-gn1lpb"),u(I,"class","svelte-gn1lpb"),u(w,"class","folder-modal__summary svelte-gn1lpb"),u(y,"class","folder-modal__body svelte-gn1lpb"),u(Z,"aria-hidden","true"),u(O,"class","folder-modal__totals svelte-gn1lpb"),u(Ye,"type","button"),u(Ye,"class","ghost-button svelte-gn1lpb"),u(ce,"type","button"),u(ce,"class","primary-button svelte-gn1lpb"),ce.disabled=Ee=n[8]===0,u(nt,"class","folder-modal__actions svelte-gn1lpb"),u(K,"class","folder-modal__footer svelte-gn1lpb"),u(t,"class","folder-modal svelte-gn1lpb"),u(t,"role","dialog"),u(t,"aria-modal","true"),u(t,"aria-labelledby","folder-modal-title"),u(e,"class","modal-overlay svelte-gn1lpb"),u(e,"role","presentation")},m(Te,fe){G(Te,e,fe),f(e,t),f(t,l),f(l,o),f(l,r),f(l,a),f(t,i),f(t,c),f(c,d),n[20](d),f(t,m),f(t,y),f(y,b),lt[S].m(b,null),f(y,p),f(y,w),f(w,I),f(I,C),f(I,H),ge&&ge.m(I,null),f(w,P),pe.m(w,null),f(t,L),f(t,K),f(K,O),f(O,D),f(D,J),f(D,Y),f(D,Q),f(D,Be),f(O,ve),f(O,Z),f(O,be),f(O,We),f(We,$e),f(We,ke),f(We,et),f(K,tt),f(K,nt),f(nt,Ye),f(nt,kt),f(nt,ce),f(ce,Je),Fe=!0,_t||(_e=[W(a,"click",function(){ct(n[13])&&n[13].apply(this,arguments)}),W(d,"input",n[18]),W(Ye,"click",function(){ct(n[13])&&n[13].apply(this,arguments)}),W(ce,"click",function(){ct(n[14])&&n[14].apply(this,arguments)}),W(e,"click",n[17])],_t=!0)},p(Te,fe){n=Te,(!Fe||fe&32&&d.value!==n[5])&&(d.value=n[5]);let F=S;S=Ze(n),S===F?lt[S].p(n,fe):(He(),ne(lt[F],1,1,()=>{lt[F]=null}),Ge(),g=lt[S],g?g.p(n,fe):(g=lt[S]=Bt[S](n),g.c()),X(g,1),g.m(b,null)),n[8]>0?ge?ge.p(n,fe):(ge=Lo(n),ge.c(),ge.m(I,null)):ge&&(ge.d(1),ge=null),ie===(ie=wt(n))&&pe?pe.p(n,fe):(pe.d(1),pe=ie(n),pe&&(pe.c(),pe.m(w,null))),(!Fe||fe&256)&&Le(J,n[8]),(!Fe||fe&256)&&ee!==(ee=n[8]===1?"":"s")&&Le(Q,ee),(!Fe||fe&512)&&Le($e,n[9]),(!Fe||fe&512)&&N!==(N=n[9]===1?"":"s")&&Le(et,N),(!Fe||fe&256&&Ee!==(Ee=n[8]===0))&&(ce.disabled=Ee)},i(Te){Fe||(X(g),Fe=!0)},o(Te){ne(g),Fe=!1},d(Te){Te&&U(e),n[20](null),lt[S].d(),ge&&ge.d(),pe.d(),_t=!1,Ne(_e)}}}function Ls(n){let e,t=[],l=new Map,o,r=Se(n[1]);const a=i=>i[24];for(let i=0;i<r.length;i+=1){let c=Fo(n,r,i),d=a(c);l.set(d,t[i]=Mo(d,c))}return{c(){e=_("ul");for(let i=0;i<t.length;i+=1)t[i].c();u(e,"class","folder-tree svelte-gn1lpb")},m(i,c){G(i,e,c);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(i,c){c&7262&&(r=Se(i[1]),He(),t=nn(t,c,a,1,i,r,l,e,Cn,Mo,null,Fo),Ge())},i(i){if(!o){for(let c=0;c<r.length;c+=1)X(t[c]);o=!0}},o(i){for(let c=0;c<t.length;c+=1)ne(t[c]);o=!1},d(i){i&&U(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function Ds(n){let e;return{c(){e=_("p"),e.textContent="No bookmark folders available.",u(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,l){G(t,e,l)},p:le,i:le,o:le,d(t){t&&U(e)}}}function Mo(n,e){let t,l,o;return l=new Fr({props:{nodeId:e[24],depth:0,expandedIds:e[2],loadingIds:e[3],visibleIds:e[4],searchMatches:e[6],toggleSelection:e[10],toggleExpansion:e[11],getCheckboxState:e[12]}}),{key:n,first:null,c(){t=ut(),Kt(l.$$.fragment),this.first=t},m(r,a){G(r,t,a),Pt(l,r,a),o=!0},p(r,a){e=r;const i={};a&2&&(i.nodeId=e[24]),a&4&&(i.expandedIds=e[2]),a&8&&(i.loadingIds=e[3]),a&16&&(i.visibleIds=e[4]),a&64&&(i.searchMatches=e[6]),a&1024&&(i.toggleSelection=e[10]),a&2048&&(i.toggleExpansion=e[11]),a&4096&&(i.getCheckboxState=e[12]),l.$set(i)},i(r){o||(X(l.$$.fragment,r),o=!0)},o(r){ne(l.$$.fragment,r),o=!1},d(r){r&&U(t),At(l,r)}}}function Lo(n){let e,t,l;return{c(){e=_("button"),e.textContent="Clear all",u(e,"type","button"),u(e,"class","summary-clear svelte-gn1lpb")},m(o,r){G(o,e,r),t||(l=W(e,"click",function(){ct(n[15])&&n[15].apply(this,arguments)}),t=!0)},p(o,r){n=o},d(o){o&&U(e),t=!1,l()}}}function Ps(n){let e,t=[],l=new Map,o=Se(n[7]);const r=a=>a[21].id;for(let a=0;a<o.length;a+=1){let i=Eo(n,o,a),c=r(i);l.set(c,t[a]=Po(c,i))}return{c(){e=_("ul");for(let a=0;a<t.length;a+=1)t[a].c();u(e,"class","folder-modal__selection-list svelte-gn1lpb")},m(a,i){G(a,e,i);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null)},p(a,i){i&128&&(o=Se(a[7]),t=nn(t,i,r,1,a,o,l,e,Ir,Po,null,Eo))},d(a){a&&U(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function As(n){let e;return{c(){e=_("p"),e.textContent="Pick folders to see them here.",u(e,"class","folder-modal__empty svelte-gn1lpb")},m(t,l){G(t,e,l)},p:le,d(t){t&&U(e)}}}function Do(n){let e,t=n[21].count+"",l;return{c(){e=_("span"),l=me(t),u(e,"class","selection-chip__count svelte-gn1lpb")},m(o,r){G(o,e,r),f(e,l)},p(o,r){r&128&&t!==(t=o[21].count+"")&&Le(l,t)},d(o){o&&U(e)}}}function Po(n,e){let t,l,o,r=e[21].label+"",a,i,c,d,m=typeof e[21].count=="number"&&Do(e);return{key:n,first:null,c(){t=_("li"),l=_("span"),o=_("span"),a=me(r),i=A(),m&&m.c(),d=A(),u(o,"class","selection-chip__label svelte-gn1lpb"),u(l,"class","selection-chip svelte-gn1lpb"),u(l,"title",c=e[21].fullPath),this.first=t},m(y,b){G(y,t,b),f(t,l),f(l,o),f(o,a),f(l,i),m&&m.m(l,null),f(t,d)},p(y,b){e=y,b&128&&r!==(r=e[21].label+"")&&Le(a,r),typeof e[21].count=="number"?m?m.p(e,b):(m=Do(e),m.c(),m.m(l,null)):m&&(m.d(1),m=null),b&128&&c!==(c=e[21].fullPath)&&u(l,"title",c)},d(y){y&&U(t),m&&m.d()}}}function Os(n){let e,t,l=n[0]&&To(n);return{c(){l&&l.c(),e=ut()},m(o,r){l&&l.m(o,r),G(o,e,r),t=!0},p(o,[r]){o[0]?l?(l.p(o,r),r&1&&X(l,1)):(l=To(o),l.c(),X(l,1),l.m(e.parentNode,e)):l&&(He(),ne(l,1,1,()=>{l=null}),Ge())},i(o){t||(X(l),t=!0)},o(o){ne(l),t=!1},d(o){o&&U(e),l&&l.d(o)}}}function Ns(n,e,t){let{open:l=!1}=e,{rootIds:o=[]}=e,{expandedIds:r}=e,{loadingIds:a}=e,{visibleIds:i}=e,{searchQuery:c=""}=e,{searchMatches:d}=e,{summary:m=[]}=e,{selectedFolderCount:y=0}=e,{totalBookmarkCount:b=0}=e,{toggleSelection:S}=e,{toggleExpansion:g}=e,{getCheckboxState:p}=e,{onSearchChange:w}=e,{onRequestClose:I}=e,{onConfirmSelection:C}=e,{onClearSelection:H}=e,P;function L(D){D.target===D.currentTarget&&(D.preventDefault(),I==null||I())}function K(D){w==null||w(D.target.value)}function O(D){qt[D?"unshift":"push"](()=>{P=D,t(16,P)})}return n.$$set=D=>{"open"in D&&t(0,l=D.open),"rootIds"in D&&t(1,o=D.rootIds),"expandedIds"in D&&t(2,r=D.expandedIds),"loadingIds"in D&&t(3,a=D.loadingIds),"visibleIds"in D&&t(4,i=D.visibleIds),"searchQuery"in D&&t(5,c=D.searchQuery),"searchMatches"in D&&t(6,d=D.searchMatches),"summary"in D&&t(7,m=D.summary),"selectedFolderCount"in D&&t(8,y=D.selectedFolderCount),"totalBookmarkCount"in D&&t(9,b=D.totalBookmarkCount),"toggleSelection"in D&&t(10,S=D.toggleSelection),"toggleExpansion"in D&&t(11,g=D.toggleExpansion),"getCheckboxState"in D&&t(12,p=D.getCheckboxState),"onSearchChange"in D&&t(19,w=D.onSearchChange),"onRequestClose"in D&&t(13,I=D.onRequestClose),"onConfirmSelection"in D&&t(14,C=D.onConfirmSelection),"onClearSelection"in D&&t(15,H=D.onClearSelection)},n.$$.update=()=>{if(n.$$.dirty&73729&&l){eo().then(()=>{P==null||P.focus(),P==null||P.select()});const D=J=>{J.key==="Escape"&&(J.preventDefault(),I==null||I())};document.addEventListener("keydown",D,{once:!0})}},[l,o,r,a,i,c,d,m,y,b,S,g,p,I,C,H,P,L,K,w,O]}class js extends dn{constructor(e){super(),un(this,e,Ns,Os,tn,{open:0,rootIds:1,expandedIds:2,loadingIds:3,visibleIds:4,searchQuery:5,searchMatches:6,summary:7,selectedFolderCount:8,totalBookmarkCount:9,toggleSelection:10,toggleExpansion:11,getCheckboxState:12,onSearchChange:19,onRequestClose:13,onConfirmSelection:14,onClearSelection:15})}}function Rs(n){let e,t,l,o;return{c(){e=_("img"),wo(e.src,t=n[8])||u(e,"src",t),u(e,"alt",""),u(e,"loading","lazy")},m(r,a){G(r,e,a),l||(o=W(e,"error",n[13]),l=!0)},p(r,a){a[0]&256&&!wo(e.src,t=r[8])&&u(e,"src",t)},d(r){r&&U(e),l=!1,o()}}}function zs(n){let e=n[0].initials+"",t;return{c(){t=me(e)},m(l,o){G(l,t,o)},p(l,o){o[0]&1&&e!==(e=l[0].initials+"")&&Le(t,e)},d(l){l&&U(t)}}}function Ao(n){let e,t,l,o,r,a;return{c(){e=_("div"),t=_("button"),t.textContent="Edit",l=A(),o=_("button"),o.textContent="Remove",u(t,"type","button"),u(t,"role","menuitem"),u(t,"class","tile-menu__item"),u(o,"type","button"),u(o,"role","menuitem"),u(o,"class","tile-menu__item tile-menu__item--danger"),u(e,"class","tile-menu"),u(e,"role","menu")},m(i,c){G(i,e,c),f(e,t),f(e,l),f(e,o),r||(a=[W(t,"click",n[11]),W(o,"click",n[12])],r=!0)},p:le,d(i){i&&U(e),r=!1,Ne(a)}}}function Us(n){let e,t,l,o,r,a,i=n[0].displayTitle+"",c,d,m,y,b,S,g,p,w,I,C,H,P,L;function K(Y,ee){return Y[0].fallback?zs:Rs}let O=K(n),D=O(n),J=n[2]&&Ao(n);return{c(){e=_("article"),t=_("a"),l=_("div"),D.c(),r=A(),a=_("div"),c=me(i),y=A(),b=_("div"),S=_("button"),g=It("svg"),p=It("circle"),w=It("circle"),I=It("circle"),H=A(),J&&J.c(),u(l,"class","tile-icon"),u(l,"style",o=`--dial-color: ${n[0].palette.background}; --dial-text: ${n[0].palette.text};`),u(l,"aria-hidden","true"),u(a,"class","tile-title"),ye(a,"tile-title--pill",n[1]),u(t,"class","tile-link"),u(t,"href",d=n[0].url||"#!"),u(t,"title",m=n[0].title||n[0].url||"Shortcut"),u(t,"draggable","false"),u(p,"cx","8"),u(p,"cy","3.5"),u(p,"r","1.25"),u(w,"cx","8"),u(w,"cy","8"),u(w,"r","1.25"),u(I,"cx","8"),u(I,"cy","12.5"),u(I,"r","1.25"),u(g,"viewBox","0 0 16 16"),u(g,"aria-hidden","true"),u(g,"focusable","false"),u(S,"class","tile-menu-button"),u(S,"type","button"),u(S,"aria-haspopup","true"),u(S,"aria-expanded",n[2]),u(S,"aria-label",C=`Open options for ${n[7]}`),ye(S,"tile-menu-button--active",n[2]),u(b,"class","tile-actions"),u(e,"class","tile"),u(e,"draggable",n[9]),ye(e,"tile--focused",n[3]),ye(e,"tile--dragging",n[4]),ye(e,"tile--drag-over",n[5]),ye(e,"tile--top-site",n[6])},m(Y,ee){G(Y,e,ee),f(e,t),f(t,l),D.m(l,null),f(t,r),f(t,a),f(a,c),f(e,y),f(e,b),f(b,S),f(S,g),f(g,p),f(g,w),f(g,I),f(b,H),J&&J.m(b,null),P||(L=[W(t,"focus",n[15]),W(S,"click",n[10]),W(e,"contextmenu",n[14]),W(e,"dragstart",n[16]),W(e,"dragover",n[17]),W(e,"dragleave",n[18]),W(e,"drop",n[19]),W(e,"dragend",n[20])],P=!0)},p(Y,ee){O===(O=K(Y))&&D?D.p(Y,ee):(D.d(1),D=O(Y),D&&(D.c(),D.m(l,null))),ee[0]&1&&o!==(o=`--dial-color: ${Y[0].palette.background}; --dial-text: ${Y[0].palette.text};`)&&u(l,"style",o),ee[0]&1&&i!==(i=Y[0].displayTitle+"")&&Le(c,i),ee[0]&2&&ye(a,"tile-title--pill",Y[1]),ee[0]&1&&d!==(d=Y[0].url||"#!")&&u(t,"href",d),ee[0]&1&&m!==(m=Y[0].title||Y[0].url||"Shortcut")&&u(t,"title",m),ee[0]&4&&u(S,"aria-expanded",Y[2]),ee[0]&128&&C!==(C=`Open options for ${Y[7]}`)&&u(S,"aria-label",C),ee[0]&4&&ye(S,"tile-menu-button--active",Y[2]),Y[2]?J?J.p(Y,ee):(J=Ao(Y),J.c(),J.m(b,null)):J&&(J.d(1),J=null),ee[0]&512&&u(e,"draggable",Y[9]),ee[0]&8&&ye(e,"tile--focused",Y[3]),ee[0]&16&&ye(e,"tile--dragging",Y[4]),ee[0]&32&&ye(e,"tile--drag-over",Y[5]),ee[0]&64&&ye(e,"tile--top-site",Y[6])},i:le,o:le,d(Y){Y&&U(e),D.d(),J&&J.d(),P=!1,Ne(L)}}}function Hs(n,e,t){let l,{bookmark:o}=e,{titleBackdrop:r=!1}=e,{menuOpen:a=!1}=e,{focused:i=!1}=e,{dragging:c=!1}=e,{dragOver:d=!1}=e,{isTopSite:m=!1}=e,{onToggleMenu:y=()=>{}}=e,{onEdit:b=()=>{}}=e,{onRemove:S=()=>{}}=e,{onFallback:g=()=>{}}=e,{onContextMenu:p=()=>{}}=e,{onFocus:w=()=>{}}=e,{onDragStart:I=()=>{}}=e,{onDragOver:C=()=>{}}=e,{onDragLeave:H=()=>{}}=e,{onDrop:P=()=>{}}=e,{onDragEnd:L=()=>{}}=e,{getFaviconUrl:K=()=>""}=e,O="Shortcut",D="";function J(N){N.preventDefault(),N.stopPropagation(),y==null||y()}function Y(N){N.preventDefault(),N.stopPropagation(),b==null||b()}function ee(N){N.preventDefault(),N.stopPropagation(),S==null||S()}function Q(){g==null||g()}function Be(N){N.preventDefault(),p==null||p(N)}function ve(){w==null||w()}function Z(N){if(!l){N.preventDefault();return}I==null||I(N)}function be(N){l&&(N.preventDefault(),C==null||C(N))}function We(N){l&&(H==null||H(N))}function $e(N){l&&(N.preventDefault(),P==null||P(N))}function ke(N){l&&(L==null||L(N))}return n.$$set=N=>{"bookmark"in N&&t(0,o=N.bookmark),"titleBackdrop"in N&&t(1,r=N.titleBackdrop),"menuOpen"in N&&t(2,a=N.menuOpen),"focused"in N&&t(3,i=N.focused),"dragging"in N&&t(4,c=N.dragging),"dragOver"in N&&t(5,d=N.dragOver),"isTopSite"in N&&t(6,m=N.isTopSite),"onToggleMenu"in N&&t(21,y=N.onToggleMenu),"onEdit"in N&&t(22,b=N.onEdit),"onRemove"in N&&t(23,S=N.onRemove),"onFallback"in N&&t(24,g=N.onFallback),"onContextMenu"in N&&t(25,p=N.onContextMenu),"onFocus"in N&&t(26,w=N.onFocus),"onDragStart"in N&&t(27,I=N.onDragStart),"onDragOver"in N&&t(28,C=N.onDragOver),"onDragLeave"in N&&t(29,H=N.onDragLeave),"onDrop"in N&&t(30,P=N.onDrop),"onDragEnd"in N&&t(31,L=N.onDragEnd),"getFaviconUrl"in N&&t(32,K=N.getFaviconUrl)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(7,O=(o==null?void 0:o.displayTitle)||(o==null?void 0:o.title)||(o==null?void 0:o.url)||"Shortcut"),n.$$.dirty[0]&1|n.$$.dirty[1]&2&&o!=null&&o.url&&!o.fallback&&(t(8,D=""),K(o.url).then(N=>{N?t(8,D=N):Q()}).catch(()=>{Q()})),n.$$.dirty[0]&64&&t(9,l=!m)},[o,r,a,i,c,d,m,O,D,l,J,Y,ee,Q,Be,ve,Z,be,We,$e,ke,y,b,S,g,p,w,I,C,H,P,L,K]}class ao extends dn{constructor(e){super(),un(this,e,Hs,Us,tn,{bookmark:0,titleBackdrop:1,menuOpen:2,focused:3,dragging:4,dragOver:5,isTopSite:6,onToggleMenu:21,onEdit:22,onRemove:23,onFallback:24,onContextMenu:25,onFocus:26,onDragStart:27,onDragOver:28,onDragLeave:29,onDrop:30,onDragEnd:31,getFaviconUrl:32},null,[-1,-1])}}function Tr(n){const e=n-1;return e*e*e+1}function to(n,{delay:e=0,duration:t=400,easing:l=sl}={}){const o=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:l,css:r=>`opacity: ${r*o}`}}function no(n,{delay:e=0,duration:t=400,easing:l=Tr,x:o=0,y:r=0,opacity:a=0}={}){const i=getComputedStyle(n),c=+i.opacity,d=i.transform==="none"?"":i.transform,m=c*(1-a),[y,b]=yo(o),[S,g]=yo(r);return{delay:e,duration:t,easing:l,css:(p,w)=>`
			transform: ${d} translate(${(1-p)*y}${b}, ${(1-p)*S}${g});
			opacity: ${c-m*w}`}}function Gs(n,{from:e,to:t},l={}){const o=getComputedStyle(n),r=o.transform==="none"?"":o.transform,[a,i]=o.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*a/t.width-(t.left+a),d=e.top+e.height*i/t.height-(t.top+i),{delay:m=0,duration:y=S=>Math.sqrt(S)*120,easing:b=Tr}=l;return{delay:m,duration:ct(y)?y(Math.sqrt(c*c+d*d)):y,easing:b,css:(S,g)=>{const p=g*c,w=g*d,I=S+g*e.width/t.width,C=S+g*e.height/t.height;return`transform: ${r} translate(${p}px, ${w}px) scale(${I}, ${C});`}}}function Oo(n,e,t){const l=n.slice();return l[7]=e[t],l}function No(n){let e,t,l;function o(){return n[5](n[7])}return{c(){e=_("button"),e.textContent="Undo",u(e,"type","button"),u(e,"class","toast__undo svelte-f4o70y")},m(r,a){G(r,e,a),t||(l=W(e,"click",o),t=!0)},p(r,a){n=r},d(r){r&&U(e),t=!1,l()}}}function jo(n,e){let t,l,o=e[7].message+"",r,a,i,c,d,m,y,b,S,g=le,p,w,I,C=e[7].undoData&&No(e);function H(){return e[6](e[7])}return{key:n,first:null,c(){t=_("div"),l=_("span"),r=me(o),a=A(),i=_("div"),C&&C.c(),c=A(),d=_("button"),d.textContent="√ó",m=A(),u(l,"class","toast__message svelte-f4o70y"),u(d,"type","button"),u(d,"class","toast__dismiss svelte-f4o70y"),u(d,"aria-label","Dismiss notification"),u(i,"class","toast__actions svelte-f4o70y"),u(t,"class","toast svelte-f4o70y"),u(t,"role","alert"),ye(t,"toast--success",e[7].type==="success"),ye(t,"toast--error",e[7].type==="error"),ye(t,"toast--info",e[7].type==="info"),this.first=t},m(P,L){G(P,t,L),f(t,l),f(l,r),f(t,a),f(t,i),C&&C.m(i,null),f(i,c),f(i,d),f(t,m),p=!0,w||(I=W(d,"click",H),w=!0)},p(P,L){e=P,(!p||L&1)&&o!==(o=e[7].message+"")&&Le(r,o),e[7].undoData?C?C.p(e,L):(C=No(e),C.c(),C.m(i,c)):C&&(C.d(1),C=null),(!p||L&1)&&ye(t,"toast--success",e[7].type==="success"),(!p||L&1)&&ye(t,"toast--error",e[7].type==="error"),(!p||L&1)&&ye(t,"toast--info",e[7].type==="info")},r(){S=t.getBoundingClientRect()},f(){is(t),g(),wr(t,S)},a(){g(),g=rs(t,S,Gs,{duration:250})},i(P){p||(P&&en(()=>{p&&(b&&b.end(1),y=fs(t,no,{y:50,duration:250}),y.start())}),p=!0)},o(P){y&&y.invalidate(),P&&(b=hs(t,to,{duration:150})),p=!1},d(P){P&&U(t),C&&C.d(),P&&b&&b.end(),w=!1,I()}}}function Ws(n){let e,t=[],l=new Map,o,r=Se(n[0]);const a=i=>i[7].id;for(let i=0;i<r.length;i+=1){let c=Oo(n,r,i),d=a(c);l.set(d,t[i]=jo(d,c))}return{c(){e=_("div");for(let i=0;i<t.length;i+=1)t[i].c();u(e,"class","toast-container svelte-f4o70y"),u(e,"aria-live","polite"),u(e,"aria-label","Notifications")},m(i,c){G(i,e,c);for(let d=0;d<t.length;d+=1)t[d]&&t[d].m(e,null);o=!0},p(i,[c]){if(c&7){r=Se(i[0]),He();for(let d=0;d<t.length;d+=1)t[d].r();t=nn(t,c,a,1,i,r,l,e,gs,jo,null,Oo);for(let d=0;d<t.length;d+=1)t[d].a();Ge()}},i(i){if(!o){for(let c=0;c<r.length;c+=1)X(t[c]);o=!0}},o(i){for(let c=0;c<t.length;c+=1)ne(t[c]);o=!1},d(i){i&&U(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function qs(n,e,t){let{toasts:l=[]}=e,{onDismiss:o=()=>{}}=e,{onUndo:r=()=>{}}=e;function a(m){o==null||o(m)}function i(m){r==null||r(m)}const c=m=>i(m),d=m=>a(m.id);return n.$$set=m=>{"toasts"in m&&t(0,l=m.toasts),"onDismiss"in m&&t(3,o=m.onDismiss),"onUndo"in m&&t(4,r=m.onUndo)},[l,a,i,o,r,c,d]}class Vs extends dn{constructor(e){super(),un(this,e,qs,Ws,tn,{toasts:0,onDismiss:3,onUndo:4})}}function Ro(n){let e,t,l,o,r,a,i,c,d,m,y,b,S;return{c(){e=_("div"),t=_("article"),l=_("header"),l.innerHTML='<h2 id="welcome-title" class="svelte-1g41oro">Welcome to Bookmark Dial</h2> <p class="welcome-subtitle svelte-1g41oro">Your new tab, reimagined.</p>',o=A(),r=_("div"),r.innerHTML='<section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üìÅ</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Select Your Folders</h3> <p class="svelte-1g41oro">Open <strong class="svelte-1g41oro">Settings</strong> (gear icon) and click <strong class="svelte-1g41oro">Manage folders</strong> to choose which bookmark folders appear on your new tab.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚ûï</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Add Shortcuts</h3> <p class="svelte-1g41oro">Click the <strong class="svelte-1g41oro">+ Add shortcut</strong> tile to quickly add new bookmarks directly from this page.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">üé®</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Customize Your Theme</h3> <p class="svelte-1g41oro">Choose from multiple themes, accent colors, and gradient backgrounds to personalize your experience.</p></div></section> <section class="welcome-step svelte-1g41oro"><div class="welcome-step__icon svelte-1g41oro" aria-hidden="true">‚å®Ô∏è</div> <div class="welcome-step__text svelte-1g41oro"><h3 class="svelte-1g41oro">Keyboard Shortcuts</h3> <p class="svelte-1g41oro">Use <kbd class="svelte-1g41oro">Arrow keys</kbd> to navigate, <kbd class="svelte-1g41oro">Enter</kbd> to open, and <kbd class="svelte-1g41oro">Delete</kbd> or <kbd class="svelte-1g41oro">Backspace</kbd> to remove bookmarks.</p></div></section>',a=A(),i=_("footer"),c=_("button"),c.textContent="Get Started",u(l,"class","welcome-header svelte-1g41oro"),u(r,"class","welcome-content svelte-1g41oro"),u(c,"type","button"),u(c,"class","welcome-button svelte-1g41oro"),u(i,"class","welcome-footer svelte-1g41oro"),u(t,"class","welcome-modal svelte-1g41oro"),u(t,"role","dialog"),u(t,"aria-modal","true"),u(t,"aria-labelledby","welcome-title"),u(e,"class","welcome-overlay svelte-1g41oro"),u(e,"role","presentation")},m(g,p){G(g,e,p),f(e,t),f(t,l),f(t,o),f(t,r),f(t,a),f(t,i),f(i,c),y=!0,b||(S=[W(c,"click",function(){ct(n[1])&&n[1].apply(this,arguments)}),W(e,"click",n[2])],b=!0)},p(g,p){n=g},i(g){y||(g&&en(()=>{y&&(d||(d=yl(t,no,{y:30,duration:300},!0)),d.run(1))}),g&&en(()=>{y&&(m||(m=yl(e,to,{duration:200},!0)),m.run(1))}),y=!0)},o(g){g&&(d||(d=yl(t,no,{y:30,duration:300},!1)),d.run(0)),g&&(m||(m=yl(e,to,{duration:200},!1)),m.run(0)),y=!1},d(g){g&&U(e),g&&d&&d.end(),g&&m&&m.end(),b=!1,Ne(S)}}}function Ks(n){let e,t,l,o=n[0]&&Ro(n);return{c(){o&&o.c(),e=ut()},m(r,a){o&&o.m(r,a),G(r,e,a),t||(l=W(window,"keydown",function(){ct(n[0]?n[3]:null)&&(n[0]?n[3]:null).apply(this,arguments)}),t=!0)},p(r,[a]){n=r,n[0]?o?(o.p(n,a),a&1&&X(o,1)):(o=Ro(n),o.c(),X(o,1),o.m(e.parentNode,e)):o&&(He(),ne(o,1,1,()=>{o=null}),Ge())},i(r){X(o)},o(r){ne(o)},d(r){r&&U(e),o&&o.d(r),t=!1,l()}}}function Qs(n,e,t){let{open:l=!1}=e,{onDismiss:o=()=>{}}=e,{onGetStarted:r=()=>{}}=e;function a(c){c.target===c.currentTarget&&(o==null||o())}function i(c){c.key==="Escape"&&(c.preventDefault(),o==null||o())}return n.$$set=c=>{"open"in c&&t(0,l=c.open),"onDismiss"in c&&t(4,o=c.onDismiss),"onGetStarted"in c&&t(1,r=c.onGetStarted)},[l,r,a,i,o]}class Ys extends dn{constructor(e){super(),un(this,e,Qs,Ks,tn,{open:0,onDismiss:4,onGetStarted:1})}}function zo(n){let e,t,l,o,r,a,i,c,d,m,y,b,S,g,p,w,I,C,H;return{c(){e=_("div"),t=A(),l=_("menu"),o=_("li"),r=_("button"),r.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M9 2h5v5M14 2L7 9M6 4H3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Open in new tab`,a=A(),i=_("li"),c=_("button"),c.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><rect x="5" y="5" width="8" height="9" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"></rect><path d="M11 5V3a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg>
        Copy URL`,d=A(),m=_("li"),y=A(),b=_("li"),S=_("button"),S.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M11.5 2.5l2 2L5 13H3v-2l8.5-8.5z" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Edit bookmark`,g=A(),p=_("li"),w=_("button"),w.innerHTML=`<svg class="context-menu__icon svelte-6dpg3b" viewBox="0 0 16 16" aria-hidden="true"><path d="M3 4h10M6 4V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v1M5 4v9a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg>
        Remove`,u(e,"class","context-menu-overlay svelte-6dpg3b"),u(e,"role","presentation"),u(r,"type","button"),u(r,"class","context-menu__item svelte-6dpg3b"),u(r,"role","menuitem"),u(o,"class","svelte-6dpg3b"),u(c,"type","button"),u(c,"class","context-menu__item svelte-6dpg3b"),u(c,"role","menuitem"),u(i,"class","svelte-6dpg3b"),u(m,"class","context-menu__divider svelte-6dpg3b"),u(m,"role","separator"),u(S,"type","button"),u(S,"class","context-menu__item svelte-6dpg3b"),u(S,"role","menuitem"),u(b,"class","svelte-6dpg3b"),u(w,"type","button"),u(w,"class","context-menu__item context-menu__item--danger svelte-6dpg3b"),u(w,"role","menuitem"),u(p,"class","svelte-6dpg3b"),u(l,"class","context-menu svelte-6dpg3b"),u(l,"style",n[1]),u(l,"aria-label",I="Actions for "+n[2])},m(P,L){G(P,e,L),G(P,t,L),G(P,l,L),f(l,o),f(o,r),f(l,a),f(l,i),f(i,c),f(l,d),f(l,m),f(l,y),f(l,b),f(b,S),f(l,g),f(l,p),f(p,w),C||(H=[W(e,"click",n[7]),W(e,"contextmenu",xl(n[7])),W(r,"click",n[5]),W(c,"click",n[6]),W(S,"click",n[3]),W(w,"click",n[4])],C=!0)},p(P,L){L&2&&u(l,"style",P[1]),L&4&&I!==(I="Actions for "+P[2])&&u(l,"aria-label",I)},d(P){P&&(U(e),U(t),U(l)),C=!1,Ne(H)}}}function Js(n){let e,t,l,o=n[0]&&zo(n);return{c(){o&&o.c(),e=ut()},m(r,a){o&&o.m(r,a),G(r,e,a),t||(l=W(window,"keydown",function(){ct(n[0]?n[8]:null)&&(n[0]?n[8]:null).apply(this,arguments)}),t=!0)},p(r,[a]){n=r,n[0]?o?o.p(n,a):(o=zo(n),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:le,o:le,d(r){r&&U(e),o&&o.d(r),t=!1,l()}}}function Uo(n){var r;const e=document.querySelectorAll(".context-menu__item"),t=document.activeElement;let o=Array.from(e).indexOf(t)+n;o<0&&(o=e.length-1),o>=e.length&&(o=0),(r=e[o])==null||r.focus()}function Zs(n,e,t){let l,o,{bookmark:r=null}=e,{position:a={x:0,y:0}}=e,{visible:i=!1}=e;const c=as();function d(){c("edit")}function m(){c("remove")}function y(){c("opennewtab")}function b(){c("copyurl")}function S(){c("close")}function g(p){p.key==="Escape"?(p.preventDefault(),S()):p.key==="ArrowDown"?(p.preventDefault(),Uo(1)):p.key==="ArrowUp"&&(p.preventDefault(),Uo(-1))}return n.$$set=p=>{"bookmark"in p&&t(9,r=p.bookmark),"position"in p&&t(10,a=p.position),"visible"in p&&t(0,i=p.visible)},n.$$.update=()=>{n.$$.dirty&512&&t(2,l=(r==null?void 0:r.title)||(r==null?void 0:r.url)||"bookmark"),n.$$.dirty&1024&&t(1,o=`left: ${a.x}px; top: ${a.y}px;`)},[i,o,l,d,m,y,b,S,g,r,a]}class Xs extends dn{constructor(e){super(),un(this,e,Zs,Js,tn,{bookmark:9,position:10,visible:0})}}function Ho(n){let e,t,l,o,r,a,i,c,d,m,y,b=n[1]&&Go(n);return{c(){e=_("div"),t=It("svg"),l=It("circle"),o=It("path"),r=A(),a=_("input"),i=A(),b&&b.c(),c=A(),d=_("button"),d.innerHTML='<svg viewBox="0 0 16 16" aria-hidden="true" class="svelte-qypsdi"><path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>',u(l,"cx","6.5"),u(l,"cy","6.5"),u(l,"r","5"),u(l,"stroke","currentColor"),u(l,"stroke-width","1.5"),u(l,"fill","none"),u(o,"d","M10.5 10.5L14 14"),u(o,"stroke","currentColor"),u(o,"stroke-width","1.5"),u(o,"stroke-linecap","round"),u(t,"class","search-bar__icon svelte-qypsdi"),u(t,"viewBox","0 0 16 16"),u(t,"aria-hidden","true"),u(a,"type","search"),u(a,"class","search-bar__input svelte-qypsdi"),u(a,"placeholder","Search bookmarks‚Ä¶"),a.value=n[1],u(a,"aria-label","Search bookmarks"),u(d,"type","button"),u(d,"class","search-bar__close svelte-qypsdi"),u(d,"aria-label","Close search"),u(e,"class","search-bar svelte-qypsdi"),u(e,"role","search")},m(S,g){G(S,e,g),f(e,t),f(t,l),f(t,o),f(e,r),f(e,a),n[8](a),f(e,i),b&&b.m(e,null),f(e,c),f(e,d),m||(y=[W(a,"input",n[4]),W(a,"keydown",n[6]),W(d,"click",function(){ct(n[2])&&n[2].apply(this,arguments)})],m=!0)},p(S,g){n=S,g&2&&a.value!==n[1]&&(a.value=n[1]),n[1]?b?b.p(n,g):(b=Go(n),b.c(),b.m(e,c)):b&&(b.d(1),b=null)},d(S){S&&U(e),n[8](null),b&&b.d(),m=!1,Ne(y)}}}function Go(n){let e,t,l;return{c(){e=_("button"),e.textContent="√ó",u(e,"type","button"),u(e,"class","search-bar__clear svelte-qypsdi"),u(e,"aria-label","Clear search")},m(o,r){G(o,e,r),t||(l=W(e,"click",n[5]),t=!0)},p:le,d(o){o&&U(e),t=!1,l()}}}function xs(n){let e,t=n[0]&&Ho(n);return{c(){t&&t.c(),e=ut()},m(l,o){t&&t.m(l,o),G(l,e,o)},p(l,[o]){l[0]?t?t.p(l,o):(t=Ho(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:le,o:le,d(l){l&&U(e),t&&t.d(l)}}}function $s(n,e,t){let{visible:l=!1}=e,{query:o=""}=e,{onSearchChange:r=()=>{}}=e,{onClose:a=()=>{}}=e,i;function c(b){r==null||r(b.target.value)}function d(){r==null||r(""),i==null||i.focus()}function m(b){b.key==="Escape"&&(b.preventDefault(),o?r==null||r(""):a==null||a())}function y(b){qt[b?"unshift":"push"](()=>{i=b,t(3,i)})}return n.$$set=b=>{"visible"in b&&t(0,l=b.visible),"query"in b&&t(1,o=b.query),"onSearchChange"in b&&t(7,r=b.onSearchChange),"onClose"in b&&t(2,a=b.onClose)},n.$$.update=()=>{n.$$.dirty&9&&l&&i&&i.focus()},[l,o,a,i,c,d,m,r,y]}class ea extends dn{constructor(e){super(),un(this,e,$s,xs,tn,{visible:0,query:1,onSearchChange:7,onClose:2})}}const ta=[{title:"ESLint",url:"https://eslint.org"},{title:"Prettier",url:"https://prettier.io"},{title:"Parcel",url:"https://parceljs.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"Visual Studio Code",url:"https://code.visualstudio.com"},{title:"npm",url:"https://www.npmjs.com"},{title:"Docker",url:"https://www.docker.com"},{title:"Kubernetes",url:"https://kubernetes.io"},{title:"Postman",url:"https://www.postman.com"},{title:"GitLab",url:"https://gitlab.com"},{title:"Bitbucket",url:"https://bitbucket.org"},{title:"Jest",url:"https://jestjs.io"},{title:"Webpack",url:"https://webpack.js.org"},{title:"Vite",url:"https://vitejs.dev"},{title:"TypeScript",url:"https://www.typescriptlang.org"},{title:"Babel",url:"https://babeljs.io"},{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Svelte",url:"https://svelte.dev"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt",url:"https://nuxt.com"},{title:"Tailwind CSS",url:"https://tailwindcss.com"},{title:"Bootstrap",url:"https://getbootstrap.com"},{title:"Sass",url:"https://sass-lang.com"},{title:"Node.js",url:"https://nodejs.org"},{title:"Deno",url:"https://deno.com"},{title:"Express",url:"https://expressjs.com"},{title:"Fastify",url:"https://www.fastify.io"},{title:"MongoDB",url:"https://www.mongodb.com"},{title:"PostgreSQL",url:"https://www.postgresql.org"},{title:"Redis",url:"https://redis.io"},{title:"MySQL",url:"https://www.mysql.com"},{title:"Vercel",url:"https://vercel.com"},{title:"Netlify",url:"https://www.netlify.com"},{title:"Heroku",url:"https://www.heroku.com"},{title:"AWS",url:"https://aws.amazon.com"},{title:"Firebase",url:"https://firebase.google.com"},{title:"Supabase",url:"https://supabase.com"},{title:"Figma",url:"https://www.figma.com"},{title:"Canva",url:"https://www.canva.com"},{title:"VS Code Extensions",url:"https://marketplace.visualstudio.com"},{title:"Chrome DevTools",url:"https://developer.chrome.com/docs/devtools"},{title:"Can I Use",url:"https://caniuse.com"},{title:"RegExr",url:"https://regexr.com"},{title:"JSON Formatter",url:"https://jsonformatter.org"},{title:"CodePen",url:"https://codepen.io"},{title:"JSFiddle",url:"https://jsfiddle.net"},{title:"Replit",url:"https://replit.com"},{title:"StackBlitz",url:"https://stackblitz.com"},{title:"GraphQL",url:"https://graphql.org"},{title:"Prisma",url:"https://www.prisma.io"},{title:"Cypress",url:"https://www.cypress.io"},{title:"Playwright",url:"https://playwright.dev"},{title:"Testing Library",url:"https://testing-library.com"},{title:"Storybook",url:"https://storybook.js.org"},{title:"Lodash",url:"https://lodash.com"},{title:"Axios",url:"https://axios-http.com"},{title:"Day.js",url:"https://day.js.org"},{title:"Chart.js",url:"https://www.chartjs.org"},{title:"Three.js",url:"https://threejs.org"}],Ct={fiction:{classicNovels:[{title:"Project Gutenberg",url:"https://www.gutenberg.org"},{title:"The Literature Network",url:"http://www.online-literature.com"},{title:"Classic Reader",url:"http://www.classicreader.com"},{title:"Read Print",url:"http://www.readprint.com"},{title:"Free Classic Literature",url:"https://www.freeclassicebooks.com"},{title:"Classic Literature Library",url:"https://classiclit.about.com"}],modernFiction:[{title:"Electric Literature",url:"https://electricliterature.com"},{title:"The Paris Review",url:"https://www.theparisreview.org"},{title:"Granta",url:"https://granta.com"},{title:"LitHub",url:"https://lithub.com"},{title:"The Rumpus",url:"https://therumpus.net"},{title:"The Millions",url:"https://themillions.com"}],shortStories:[{title:"Daily Science Fiction",url:"https://dailysciencefiction.com"},{title:"Narrative Magazine",url:"https://www.narrativemagazine.com"},{title:"One Story",url:"https://www.one-story.com"},{title:"Flash Fiction Online",url:"https://flashfictiononline.com"},{title:"Smokelong Quarterly",url:"http://www.smokelong.com"},{title:"Zoetrope All-Story",url:"https://www.all-story.com"}]},nonFiction:{essays:[{title:"The New Yorker Essays",url:"https://www.newyorker.com/culture/personal-history"},{title:"The Atlantic Essays",url:"https://www.theatlantic.com/ideas/"},{title:"Harper's Magazine",url:"https://harpers.org"},{title:"The Believer",url:"https://believermag.com"},{title:"n+1 Magazine",url:"https://www.nplusonemag.com"},{title:"Aeon Essays",url:"https://aeon.co/essays"}],biography:[{title:"Biography.com",url:"https://www.biography.com"},{title:"Famous People",url:"https://www.thefamouspeople.com"},{title:"Britannica Biographies",url:"https://www.britannica.com/biography"},{title:"Stanford Encyclopedia",url:"https://plato.stanford.edu"},{title:"Internet Biography",url:"https://www.notablebiographies.com"},{title:"Lives of the Great",url:"https://www.famousscientists.org"}],history:[{title:"History.com",url:"https://www.history.com"},{title:"Smithsonian Magazine",url:"https://www.smithsonianmag.com/history/"},{title:"History Today",url:"https://www.historytoday.com"},{title:"BBC History",url:"https://www.bbc.co.uk/history"},{title:"American Historical",url:"https://www.historians.org"},{title:"Ancient History",url:"https://www.ancient.eu"}]},poetry:{classicPoetry:[{title:"Poetry Foundation",url:"https://www.poetryfoundation.org"},{title:"Poets.org",url:"https://poets.org"},{title:"Poetry Archive",url:"https://www.poetryarchive.org"},{title:"Famous Poets",url:"https://www.famouspoetsandpoems.com"},{title:"All Poetry",url:"https://allpoetry.com"},{title:"Classic Poetry Aloud",url:"https://www.poetryoutloud.org"}],contemporaryPoetry:[{title:"Poetry Magazine",url:"https://www.poetrymagazine.org"},{title:"The Adroit Journal",url:"https://theadroitjournal.org"},{title:"Rattle",url:"https://www.rattle.com"},{title:"Poem-a-Day",url:"https://www.poets.org/poetsorg/poem-day"},{title:"Button Poetry",url:"https://buttonpoetry.com"},{title:"Split This Rock",url:"https://www.splitthisrock.org"}],spokenWord:[{title:"TED Poetry",url:"https://www.ted.com/topics/poetry"},{title:"Poetry Slam Inc",url:"https://www.poetryslam.com"},{title:"Def Poetry",url:"https://www.hbo.com/def-poetry"},{title:"Write About Now",url:"https://www.writeaboutnow.com"},{title:"Brave New Voices",url:"https://youthspeaks.org"},{title:"Individual World",url:"https://www.iwps.org"}]},academic:{literaryCriticism:[{title:"JSTOR",url:"https://www.jstor.org"},{title:"Project MUSE",url:"https://muse.jhu.edu"},{title:"Oxford Academic",url:"https://academic.oup.com"},{title:"Cambridge Core",url:"https://www.cambridge.org/core"},{title:"Taylor & Francis",url:"https://www.tandfonline.com"},{title:"SAGE Journals",url:"https://journals.sagepub.com"}],literaryTheory:[{title:"Critical Theory",url:"https://criticalthoery.web.unc.edu"},{title:"Theory.org",url:"https://www.theory.org.uk"},{title:"Yale Theory",url:"https://theory.yale.edu"},{title:"Johns Hopkins Guide",url:"https://litguide.press.jhu.edu"},{title:"Internet Encyclopedia",url:"https://iep.utm.edu"},{title:"Stanford Literary Lab",url:"https://litlab.stanford.edu"}],journals:[{title:"PMLA",url:"https://www.mla.org/Publications/Journals/PMLA"},{title:"New Literary History",url:"https://muse.jhu.edu/journal/96"},{title:"Modern Fiction Studies",url:"https://muse.jhu.edu/journal/122"},{title:"Contemporary Literature",url:"https://muse.jhu.edu/journal/92"},{title:"Modernism/modernity",url:"https://muse.jhu.edu/journal/186"},{title:"American Literature",url:"https://read.dukeupress.edu/american-literature"}]}},{Map:al}=Xi;function Wo(n,e,t){const l=n.slice();return l[222]=e[t],l}function qo(n,e,t){const l=n.slice();return l[219]=e[t],l}function Vo(n,e,t){const l=n.slice();return l[216]=e[t],l[218]=t,l}function Ko(n,e,t){const l=n.slice();return l[219]=e[t],l[221]=t,l}function Qo(n,e,t){const l=n.slice();return l[227]=e[t],l}function Yo(n,e,t){const l=n.slice();return l[230]=e[t],l}function Jo(n,e,t){const l=n.slice();return l[230]=e[t],l}function Zo(n,e,t){const l=n.slice();return l[230]=e[t],l}function Xo(n){let e,t=n[230].label+"",l,o,r,a,i;function c(){return n[108](n[230])}return{c(){e=_("button"),l=me(t),o=A(),u(e,"type","button"),u(e,"class","choice-button"),u(e,"data-active",r=n[3].theme===n[230].id)},m(d,m){G(d,e,m),f(e,l),f(e,o),a||(i=W(e,"click",c),a=!0)},p(d,m){n=d,m[0]&8&&r!==(r=n[3].theme===n[230].id)&&u(e,"data-active",r)},d(d){d&&U(e),a=!1,i()}}}function xo(n){let e,t,l,o,r,a,i;function c(){return n[109](n[230])}return{c(){e=_("button"),u(e,"type","button"),u(e,"class","accent-swatch"),u(e,"style",t=`--swatch-color: ${n[230].colors.base};`),u(e,"data-active",l=n[3].accent===n[230].id),u(e,"aria-label",o=n[230].label),u(e,"title",r=n[230].label)},m(d,m){G(d,e,m),a||(i=W(e,"click",c),a=!0)},p(d,m){n=d,m[1]&128&&t!==(t=`--swatch-color: ${n[230].colors.base};`)&&u(e,"style",t),m[0]&8|m[1]&128&&l!==(l=n[3].accent===n[230].id)&&u(e,"data-active",l),m[1]&128&&o!==(o=n[230].label)&&u(e,"aria-label",o),m[1]&128&&r!==(r=n[230].label)&&u(e,"title",r)},d(d){d&&U(e),a=!1,i()}}}function na(n){let e,t,l=n[6]?"Show fewer accent colors":"More accent colors",o,r,a;return{c(){e=_("div"),t=_("button"),o=me(l),u(t,"type","button"),u(t,"class","swatch-toggle-button"),u(t,"aria-expanded",n[6]),u(e,"class","swatch-toggle-row")},m(i,c){G(i,e,c),f(e,t),f(t,o),r||(a=W(t,"click",n[44]),r=!0)},p(i,c){c[0]&64&&l!==(l=i[6]?"Show fewer accent colors":"More accent colors")&&Le(o,l),c[0]&64&&u(t,"aria-expanded",i[6])},d(i){i&&U(e),r=!1,a()}}}function $o(n){let e,t,l=n[230].label+"",o,r,a,i,c,d;function m(){return n[111](n[230])}return{c(){e=_("button"),t=_("span"),o=me(l),r=A(),u(e,"type","button"),u(e,"class","gradient-option"),u(e,"style",a=`--gradient-sample-light: ${n[230].gradients.light}; --gradient-sample-dark: ${n[230].gradients.dark};`),u(e,"data-active",i=n[3].background.mode==="gradient"&&n[3].background.gradientId===n[230].id)},m(y,b){G(y,e,b),f(e,t),f(t,o),f(e,r),c||(d=W(e,"click",m),c=!0)},p(y,b){n=y,b[1]&256&&l!==(l=n[230].label+"")&&Le(o,l),b[1]&256&&a!==(a=`--gradient-sample-light: ${n[230].gradients.light}; --gradient-sample-dark: ${n[230].gradients.dark};`)&&u(e,"style",a),b[0]&8|b[1]&256&&i!==(i=n[3].background.mode==="gradient"&&n[3].background.gradientId===n[230].id)&&u(e,"data-active",i)},d(y){y&&U(e),c=!1,d()}}}function la(n){let e,t,l=n[5]?"Show fewer gradients":"More gradients",o,r,a;return{c(){e=_("div"),t=_("button"),o=me(l),u(t,"type","button"),u(t,"class","swatch-toggle-button"),u(t,"aria-expanded",n[5]),u(e,"class","swatch-toggle-row")},m(i,c){G(i,e,c),f(e,t),f(t,o),r||(a=W(t,"click",n[45]),r=!0)},p(i,c){c[0]&32&&l!==(l=i[5]?"Show fewer gradients":"More gradients")&&Le(o,l),c[0]&32&&u(t,"aria-expanded",i[5])},d(i){i&&U(e),r=!1,a()}}}function oa(n){let e=[],t=new al,l,o=Se(n[14]);const r=a=>a[227].id;for(let a=0;a<o.length;a+=1){let i=Qo(n,o,a),c=r(i);t.set(c,e[a]=er(c,i))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=ut()},m(a,i){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,i);G(a,l,i)},p(a,i){i[0]&16384&&(o=Se(a[14]),e=nn(e,i,r,1,a,o,t,l.parentNode,Ir,er,l,Qo))},d(a){a&&U(l);for(let i=0;i<e.length;i+=1)e[i].d(a)}}}function ra(n){let e;return{c(){e=_("span"),e.textContent="Default folder",u(e,"class","folder-chip folder-chip--empty"),u(e,"title","Default Bookmark Dial folder")},m(t,l){G(t,e,l)},p:le,d(t){t&&U(e)}}}function er(n,e){let t,l,o=e[227].label+"",r,a,i,c=e[227].count+"",d,m,y;return{key:n,first:null,c(){t=_("span"),l=_("span"),r=me(o),a=A(),i=_("span"),d=me(c),m=A(),u(l,"class","folder-chip__label"),u(i,"class","folder-chip__count"),u(t,"class","folder-chip"),u(t,"title",y=e[227].fullPath),this.first=t},m(b,S){G(b,t,S),f(t,l),f(l,r),f(t,a),f(t,i),f(i,d),f(t,m)},p(b,S){e=b,S[0]&16384&&o!==(o=e[227].label+"")&&Le(r,o),S[0]&16384&&c!==(c=e[227].count+"")&&Le(d,c),S[0]&16384&&y!==(y=e[227].fullPath)&&u(t,"title",y)},d(b){b&&U(t)}}}function tr(n){let e,t,l,o,r,a,i,c,d,m,y,b,S,g;return{c(){e=_("div"),t=_("label"),l=_("span"),l.textContent="Folder width",o=A(),r=_("input"),i=A(),c=_("label"),d=_("input"),y=A(),b=_("div"),b.innerHTML='<span class="settings-toggle__label">Compact header</span> <span class="settings-toggle__description">Hide folder path to save space.</span>',u(l,"class","settings-control__label"),u(r,"type","range"),u(r,"min","480"),u(r,"max","1860"),u(r,"step","20"),r.value=a=n[3].folderColumnWidth,u(t,"class","settings-control"),u(d,"type","checkbox"),d.checked=m=n[3].compactFolderHeader,u(b,"class","settings-toggle__body"),u(c,"class","settings-toggle"),u(e,"class","ungrouped-settings")},m(p,w){G(p,e,w),f(e,t),f(t,l),f(t,o),f(t,r),f(e,i),f(e,c),f(c,d),f(c,y),f(c,b),S||(g=[W(r,"input",n[113]),W(d,"change",n[114])],S=!0)},p(p,w){w[0]&8&&a!==(a=p[3].folderColumnWidth)&&(r.value=a),w[0]&8&&m!==(m=p[3].compactFolderHeader)&&(d.checked=m)},d(p){p&&U(e),S=!1,Ne(g)}}}function nr(n){let e,t;return e=new ea({props:{visible:n[30],query:n[7],onSearchChange:n[77],onClose:n[78]}}),{c(){Kt(e.$$.fragment)},m(l,o){Pt(e,l,o),t=!0},p(l,o){const r={};o[0]&1073741824&&(r.visible=l[30]),o[0]&128&&(r.query=l[7]),e.$set(r)},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){ne(e.$$.fragment,l),t=!1},d(l){At(e,l)}}}function ia(n){let e,t=[],l=new al,o=`${n[3].folderColumnWidth}px`,r,a=Se(n[37]);const i=c=>c[222].id;for(let c=0;c<a.length;c+=1){let d=Wo(n,a,c),m=i(d);l.set(m,t[c]=rr(m,d))}return{c(){e=_("div");for(let c=0;c<t.length;c+=1)t[c].c();u(e,"class","folder-grid-list"),u(e,"aria-label","Bookmark folders"),El(e,"max-width",o)},m(c,d){G(c,e,d);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);r=!0},p(c,d){d[0]&1048584|d[1]&88|d[2]&133694e3&&(a=Se(c[37]),He(),t=nn(t,d,i,1,c,a,l,e,Cn,rr,null,Wo),Ge()),d[0]&8&&o!==(o=`${c[3].folderColumnWidth}px`)&&El(e,"max-width",o)},i(c){if(!r){for(let d=0;d<a.length;d+=1)X(t[d]);r=!0}},o(c){for(let d=0;d<t.length;d+=1)ne(t[d]);r=!1},d(c){c&&U(e);for(let d=0;d<t.length;d+=1)t[d].d()}}}function sa(n){let e,t=[],l=new al,o,r,a,i,c,d,m,y=Se(n[36]);const b=g=>g[219].id;for(let g=0;g<y.length;g+=1){let p=Ko(n,y,g),w=b(p);l.set(w,t[g]=ir(w,p))}let S=n[3].enableTopSites&&n[31].length>0&&sr(n);return{c(){e=_("div");for(let g=0;g<t.length;g+=1)t[g].c();o=A(),S&&S.c(),r=A(),a=_("article"),i=_("button"),i.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',u(i,"class","add-button"),u(i,"type","button"),u(i,"aria-label","Add new bookmark shortcut"),u(a,"class","tile add-tile"),u(a,"draggable","false"),u(e,"id","dial-grid"),u(e,"class","grid"),u(e,"aria-label","Bookmark Dial links"),u(e,"tabindex","0"),u(e,"role","group")},m(g,p){G(g,e,p);for(let w=0;w<t.length;w+=1)t[w]&&t[w].m(e,null);f(e,o),S&&S.m(e,null),f(e,r),f(e,a),f(a,i),n[128](e),c=!0,d||(m=[W(i,"click",n[86]),W(e,"keydown",n[79])],d=!0)},p(g,p){p[0]&1048584|p[1]&58|p[2]&117178928&&(y=Se(g[36]),He(),t=nn(t,p,b,1,g,y,l,e,Cn,ir,o,Ko),Ge()),g[3].enableTopSites&&g[31].length>0?S?(S.p(g,p),p[0]&8|p[1]&1&&X(S,1)):(S=sr(g),S.c(),X(S,1),S.m(e,r)):S&&(He(),ne(S,1,1,()=>{S=null}),Ge())},i(g){if(!c){for(let p=0;p<y.length;p+=1)X(t[p]);X(S),c=!0}},o(g){for(let p=0;p<t.length;p+=1)ne(t[p]);ne(S),c=!1},d(g){g&&U(e);for(let p=0;p<t.length;p+=1)t[p].d();S&&S.d(),n[128](null),d=!1,Ne(m)}}}function aa(n){let e,t=n[222].label+"",l,o,r,a=n[222].fullPath&&n[222].fullPath!==n[222].label&&lr(n);return{c(){e=_("h4"),l=me(t),o=A(),a&&a.c(),r=ut(),u(e,"class","folder-section__title")},m(i,c){G(i,e,c),f(e,l),G(i,o,c),a&&a.m(i,c),G(i,r,c)},p(i,c){c[1]&64&&t!==(t=i[222].label+"")&&Le(l,t),i[222].fullPath&&i[222].fullPath!==i[222].label?a?a.p(i,c):(a=lr(i),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(i){i&&(U(e),U(o),U(r)),a&&a.d(i)}}}function ca(n){let e,t=n[222].label+"",l,o;return{c(){e=_("h4"),l=me(t),u(e,"class","folder-section__title"),u(e,"title",o=n[222].fullPath)},m(r,a){G(r,e,a),f(e,l)},p(r,a){a[1]&64&&t!==(t=r[222].label+"")&&Le(l,t),a[1]&64&&o!==(o=r[222].fullPath)&&u(e,"title",o)},d(r){r&&U(e)}}}function lr(n){let e,t=n[222].fullPath+"",l;return{c(){e=_("p"),l=me(t),u(e,"class","folder-section__path")},m(o,r){G(o,e,r),f(e,l)},p(o,r){r[1]&64&&t!==(t=o[222].fullPath+"")&&Le(l,t)},d(o){o&&U(e)}}}function ua(n){let e,t,l,o,r,a;function i(){return n[138](n[222])}return{c(){e=_("div"),t=_("article"),l=_("button"),l.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',u(l,"class","add-button"),u(l,"type","button"),u(t,"class","tile add-tile"),u(t,"draggable","false"),u(e,"class","grid folder-section__grid"),u(e,"role","group"),u(e,"aria-label",o=`Shortcuts in ${n[222].fullPath||n[222].label}`)},m(c,d){G(c,e,d),f(e,t),f(t,l),r||(a=W(l,"click",i),r=!0)},p(c,d){n=c,d[1]&64&&o!==(o=`Shortcuts in ${n[222].fullPath||n[222].label}`)&&u(e,"aria-label",o)},i:le,o:le,d(c){c&&U(e),r=!1,a()}}}function da(n){let e,t=[],l=new al,o,r,a,i,c,d,m,y=Se(n[222].items);const b=g=>g[219].id;for(let g=0;g<y.length;g+=1){let p=qo(n,y,g),w=b(p);l.set(w,t[g]=or(w,p))}function S(){return n[137](n[222])}return{c(){e=_("div");for(let g=0;g<t.length;g+=1)t[g].c();o=A(),r=_("article"),a=_("button"),a.innerHTML='<span aria-hidden="true">+</span> <div>Add shortcut</div>',u(a,"class","add-button"),u(a,"type","button"),u(r,"class","tile add-tile"),u(r,"draggable","false"),u(e,"class","grid folder-section__grid"),u(e,"role","group"),u(e,"aria-label",i=`Shortcuts in ${n[222].fullPath||n[222].label}`)},m(g,p){G(g,e,p);for(let w=0;w<t.length;w+=1)t[w]&&t[w].m(e,null);f(e,o),f(e,r),f(r,a),c=!0,d||(m=W(a,"click",S),d=!0)},p(g,p){n=g,p[0]&1048584|p[1]&88|p[2]&116916784&&(y=Se(n[222].items),He(),t=nn(t,p,b,1,n,y,l,e,Cn,or,o,qo),Ge()),(!c||p[1]&64&&i!==(i=`Shortcuts in ${n[222].fullPath||n[222].label}`))&&u(e,"aria-label",i)},i(g){if(!c){for(let p=0;p<y.length;p+=1)X(t[p]);c=!0}},o(g){for(let p=0;p<t.length;p+=1)ne(t[p]);c=!1},d(g){g&&U(e);for(let p=0;p<t.length;p+=1)t[p].d();d=!1,m()}}}function or(n,e){var S,g;let t,l,o;function r(){return e[129](e[219])}function a(){return e[130](e[219])}function i(){return e[131](e[219])}function c(){return e[132](e[219])}function d(...p){return e[133](e[219],...p)}function m(...p){return e[134](e[219],e[222],...p)}function y(...p){return e[135](e[219],...p)}function b(...p){return e[136](e[219],...p)}return l=new ao({props:{bookmark:e[219],titleBackdrop:e[3].titleBackdrop,menuOpen:e[20]===e[219].id,focused:!1,dragging:((S=e[34])==null?void 0:S.id)===e[219].id,dragOver:((g=e[35])==null?void 0:g.id)===e[219].id,onToggleMenu:r,onEdit:a,onRemove:i,onFallback:c,onContextMenu:d,onFocus:Fa,onDragStart:m,onDragOver:y,onDragLeave:e[83],onDrop:b,onDragEnd:e[85],getFaviconUrl:co}}),{key:n,first:null,c(){t=ut(),Kt(l.$$.fragment),this.first=t},m(p,w){G(p,t,w),Pt(l,p,w),o=!0},p(p,w){var C,H;e=p;const I={};w[1]&64&&(I.bookmark=e[219]),w[0]&8&&(I.titleBackdrop=e[3].titleBackdrop),w[0]&1048576|w[1]&64&&(I.menuOpen=e[20]===e[219].id),w[1]&72&&(I.dragging=((C=e[34])==null?void 0:C.id)===e[219].id),w[1]&80&&(I.dragOver=((H=e[35])==null?void 0:H.id)===e[219].id),w[1]&64&&(I.onToggleMenu=r),w[1]&64&&(I.onEdit=a),w[1]&64&&(I.onRemove=i),w[1]&64&&(I.onFallback=c),w[1]&64&&(I.onContextMenu=d),w[1]&64&&(I.onDragStart=m),w[1]&64&&(I.onDragOver=y),w[1]&64&&(I.onDrop=b),l.$set(I)},i(p){o||(X(l.$$.fragment,p),o=!0)},o(p){ne(l.$$.fragment,p),o=!1},d(p){p&&U(t),At(l,p)}}}function rr(n,e){let t,l,o,r,a,i,c,d;function m(w,I){return w[3].compactFolderHeader?ca:aa}let y=m(e),b=y(e);const S=[da,ua],g=[];function p(w,I){return w[222].items.length?0:1}return a=p(e),i=g[a]=S[a](e),{key:n,first:null,c(){t=_("section"),l=_("header"),o=_("div"),b.c(),r=A(),i.c(),c=A(),u(o,"class","folder-section__titles"),u(l,"class","folder-section__header"),u(t,"class","folder-section"),this.first=t},m(w,I){G(w,t,I),f(t,l),f(l,o),b.m(o,null),f(t,r),g[a].m(t,null),f(t,c),d=!0},p(w,I){e=w,y===(y=m(e))&&b?b.p(e,I):(b.d(1),b=y(e),b&&(b.c(),b.m(o,null)));let C=a;a=p(e),a===C?g[a].p(e,I):(He(),ne(g[C],1,1,()=>{g[C]=null}),Ge(),i=g[a],i?i.p(e,I):(i=g[a]=S[a](e),i.c()),X(i,1),i.m(t,c))},i(w){d||(X(i),d=!0)},o(w){ne(i),d=!1},d(w){w&&U(t),b.d(),g[a].d()}}}function ir(n,e){var g,p;let t,l,o;function r(){return e[118](e[219])}function a(){return e[119](e[219])}function i(){return e[120](e[219])}function c(){return e[121](e[219])}function d(...w){return e[122](e[219],...w)}function m(){return e[123](e[221])}function y(...w){return e[124](e[219],...w)}function b(...w){return e[125](e[219],...w)}function S(...w){return e[126](e[219],...w)}return l=new ao({props:{bookmark:e[219],titleBackdrop:e[3].titleBackdrop,menuOpen:e[20]===e[219].id,focused:e[32]===e[221],dragging:((g=e[34])==null?void 0:g.id)===e[219].id,dragOver:((p=e[35])==null?void 0:p.id)===e[219].id,onToggleMenu:r,onEdit:a,onRemove:i,onFallback:c,onContextMenu:d,onFocus:m,onDragStart:y,onDragOver:b,onDragLeave:e[83],onDrop:S,onDragEnd:e[85],getFaviconUrl:co}}),{key:n,first:null,c(){t=ut(),Kt(l.$$.fragment),this.first=t},m(w,I){G(w,t,I),Pt(l,w,I),o=!0},p(w,I){var H,P;e=w;const C={};I[1]&32&&(C.bookmark=e[219]),I[0]&8&&(C.titleBackdrop=e[3].titleBackdrop),I[0]&1048576|I[1]&32&&(C.menuOpen=e[20]===e[219].id),I[1]&34&&(C.focused=e[32]===e[221]),I[1]&40&&(C.dragging=((H=e[34])==null?void 0:H.id)===e[219].id),I[1]&48&&(C.dragOver=((P=e[35])==null?void 0:P.id)===e[219].id),I[1]&32&&(C.onToggleMenu=r),I[1]&32&&(C.onEdit=a),I[1]&32&&(C.onRemove=i),I[1]&32&&(C.onFallback=c),I[1]&32&&(C.onContextMenu=d),I[1]&32&&(C.onFocus=m),I[1]&32&&(C.onDragStart=y),I[1]&32&&(C.onDragOver=b),I[1]&32&&(C.onDrop=S),l.$set(C)},i(w){o||(X(l.$$.fragment,w),o=!0)},o(w){ne(l.$$.fragment,w),o=!1},d(w){w&&U(t),At(l,w)}}}function sr(n){let e=[],t=new al,l,o,r=Se(n[31]);const a=i=>i[216].id;for(let i=0;i<r.length;i+=1){let c=Vo(n,r,i),d=a(c);t.set(d,e[i]=ar(d,c))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=ut()},m(i,c){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(i,c);G(i,l,c),o=!0},p(i,c){c[0]&8|c[1]&35|c[2]&262144&&(r=Se(i[31]),He(),e=nn(e,c,a,1,i,r,t,l.parentNode,Cn,ar,l,Vo),Ge())},i(i){if(!o){for(let c=0;c<r.length;c+=1)X(e[c]);o=!0}},o(i){for(let c=0;c<e.length;c+=1)ne(e[c]);o=!1},d(i){i&&U(l);for(let c=0;c<e.length;c+=1)e[c].d(i)}}}function ar(n,e){let t,l,o;function r(){return e[127](e[218])}return l=new ao({props:{bookmark:e[216],titleBackdrop:e[3].titleBackdrop,menuOpen:!1,focused:e[32]===e[36].length+e[218],dragging:!1,dragOver:!1,onToggleMenu:ka,onEdit:_a,onRemove:wa,onFallback:ya,onContextMenu:Sa,onFocus:r,onDragStart:va,onDragOver:Ca,onDragLeave:Ia,onDrop:Ba,onDragEnd:Ea,getFaviconUrl:co,isTopSite:!0}}),{key:n,first:null,c(){t=ut(),Kt(l.$$.fragment),this.first=t},m(a,i){G(a,t,i),Pt(l,a,i),o=!0},p(a,i){e=a;const c={};i[1]&1&&(c.bookmark=e[216]),i[0]&8&&(c.titleBackdrop=e[3].titleBackdrop),i[1]&35&&(c.focused=e[32]===e[36].length+e[218]),i[1]&33&&(c.onFocus=r),l.$set(c)},i(a){o||(X(l.$$.fragment,a),o=!0)},o(a){ne(l.$$.fragment,a),o=!1},d(a){a&&U(t),At(l,a)}}}function fa(n){var $n;let e,t,l,o,r,a,i,c,d,m,y,b,S,g,p,w,I,C,H,P,L,K,O,D,J,Y,ee,Q,Be,ve,Z,be,We,$e,ke,N,et,tt,nt,Ye,kt,ce,Je,Ee,Fe,_t,_e,Bt,lt,Ze,ge,wt,ie,pe,Te,fe,F,Et,yt,ln,Ot,ot,rt,Nt,on,jt,cl,Ft,St,fn,De,ft,Tt,In,qe,we,rn,Pe,sn,Xe,hn,it,Qt,Ve,xe,Bn,Rt,qn,Yt,Vn,st,ul,Jt,Kn,gn,vt,Qn,mn,Mt,Lt,Dt,En,pn,Yn,bn,Jn,ht,zt,Zn,Fn,Xn,Zt,dl,kn,Ae,xn,an,gt=Se(n[41]),je=[];for(let B=0;B<gt.length;B+=1)je[B]=Xo(Zo(n,gt,B));let cn=Se(n[38]),Re=[];for(let B=0;B<cn.length;B+=1)Re[B]=xo(Jo(n,cn,B));let Ut=n[42].length>Dl&&na(n),Ke=Se(n[39]),ze=[];for(let B=0;B<Ke.length;B+=1)ze[B]=$o(Yo(n,Ke,B));let Ht=n[43].length>Ll&&la(n);function fl(B,q){return B[14].length===0?ra:oa}let Gt=fl(n),mt=Gt(n),Qe=!n[3].mergeAllBookmarks&&tr(n),Me=n[3].enableBookmarkSearch&&nr(n);const hl=[sa,ia],Wt=[];function gl(B,q){return B[3].mergeAllBookmarks?0:1}return Ve=gl(n),xe=Wt[Ve]=hl[Ve](n),Rt=new js({props:{open:n[0],rootIds:n[40].rootIds??[],expandedIds:n[19],loadingIds:n[11],visibleIds:n[13],searchQuery:n[12],searchMatches:n[1],summary:n[0]?n[17]:n[14],selectedFolderCount:n[0]?(($n=n[16])==null?void 0:$n.size)??0:n[10].size,totalBookmarkCount:n[0]?n[18]:n[15],toggleSelection:n[58],toggleExpansion:n[59],getCheckboxState:n[64],onSearchChange:n[65],onRequestClose:n[63],onConfirmSelection:n[61],onClearSelection:n[60]}}),Yt=new Ys({props:{open:n[26],onDismiss:n[70],onGetStarted:n[70]}}),st=new Xs({props:{bookmark:n[29],position:n[28],visible:n[27]}}),st.$on("edit",n[75]),st.$on("remove",n[76]),st.$on("opennewtab",n[73]),st.$on("copyurl",n[74]),st.$on("close",n[72]),Jt=new Vs({props:{toasts:n[25],onDismiss:n[68],onUndo:n[69]}}),{c(){e=_("div"),t=A(),l=_("div"),o=_("button"),r=It("svg"),a=It("path"),i=It("path"),c=A(),d=_("aside"),m=_("header"),y=_("h2"),y.textContent="Settings",b=A(),S=_("button"),S.textContent="√ó",g=A(),p=_("section"),w=_("h3"),w.textContent="Theme",I=A(),C=_("div");for(let B=0;B<je.length;B+=1)je[B].c();H=A(),P=_("section"),L=_("h3"),L.textContent="Accent color",K=A(),O=_("div");for(let B=0;B<Re.length;B+=1)Re[B].c();D=A(),Ut&&Ut.c(),J=A(),Y=_("section"),ee=_("h3"),ee.textContent="Tile titles",Q=A(),Be=_("label"),ve=_("input"),be=A(),We=_("div"),We.innerHTML='<span class="settings-toggle__label">Rounded backdrop</span>',$e=A(),ke=_("section"),N=_("h3"),N.textContent="Gradient background",et=A(),tt=_("div");for(let B=0;B<ze.length;B+=1)ze[B].c();nt=A(),Ht&&Ht.c(),Ye=A(),kt=_("section"),ce=_("button"),ce.textContent="Custom background‚Ä¶",Je=A(),Ee=_("section"),Fe=_("h3"),Fe.textContent="Folders",_t=A(),_e=_("div"),Bt=_("div"),mt.c(),lt=A(),Ze=_("button"),Ze.textContent="Manage folders",ge=A(),wt=_("label"),ie=_("input"),Te=A(),fe=_("div"),fe.innerHTML='<span class="settings-toggle__label">Merge bookmarks from all folders</span> <span class="settings-toggle__description">Display all bookmarks in a single deduplicated grid.</span>',F=A(),Qe&&Qe.c(),Et=A(),yt=_("section"),ln=_("h3"),ln.textContent="Experimental",Ot=A(),ot=_("label"),rt=_("input"),on=A(),jt=_("div"),jt.innerHTML='<span class="settings-toggle__label">Bookmark search</span> <span class="settings-toggle__description">Press <kbd>/</kbd> to search bookmarks.</span>',cl=A(),Ft=_("label"),St=_("input"),De=A(),ft=_("div"),ft.innerHTML='<span class="settings-toggle__label">Show frequently visited</span> <span class="settings-toggle__description">Include your most visited sites alongside bookmarks.</span>',In=A(),qe=_("div"),rn=A(),Pe=_("main"),Me&&Me.c(),sn=A(),Xe=_("section"),hn=me(n[8]),Qt=A(),xe.c(),Bn=A(),Kt(Rt.$$.fragment),qn=A(),Kt(Yt.$$.fragment),Vn=A(),Kt(st.$$.fragment),ul=A(),Kt(Jt.$$.fragment),Kn=A(),gn=_("dialog"),vt=_("form"),Qn=_("header"),Qn.innerHTML="<h2>Custom background</h2>",mn=A(),Mt=_("div"),Lt=_("label"),Dt=_("span"),Dt.textContent="Choose an image (JPEG/PNG, up to 4¬†MB)",En=A(),pn=_("input"),Yn=A(),bn=_("p"),bn.textContent="The selected image is stored locally on this device only.",Jn=A(),ht=_("footer"),zt=_("button"),zt.textContent="Remove",Zn=A(),Fn=_("span"),Xn=A(),Zt=_("button"),Zt.textContent="Cancel",dl=A(),kn=_("button"),kn.textContent="Save",u(e,"id","background-layer"),ye(e,"visible",n[3].background.mode==="custom"&&!!n[21]),El(e,"background-image",n[3].background.mode==="custom"&&n[21]?`url(${n[21]})`:null),u(a,"d","M12 8.75a3.25 3.25 0 1 1 0 6.5 3.25 3.25 0 0 1 0-6.5Z"),u(a,"fill","none"),u(a,"stroke","currentColor"),u(a,"stroke-width","1.6"),u(i,"d","M21 12l-2.938 3.5-1.562 4.294L12 19l-4.5.794L5.938 15.5 3 12l2.938-3.5L7.5 4.206 12 5l4.5-.794L18.062 8.5 21 12Z"),u(i,"fill","none"),u(i,"stroke","currentColor"),u(i,"stroke-width","1.6"),u(i,"stroke-linecap","round"),u(i,"stroke-linejoin","round"),u(r,"class","icon-button__glyph"),u(r,"viewBox","0 0 24 24"),u(r,"aria-hidden","true"),u(r,"focusable","false"),u(r,"role","img"),u(o,"class","icon-button"),u(o,"type","button"),u(o,"title","Settings"),u(o,"aria-label","Open settings"),u(o,"aria-expanded",n[4]),u(o,"aria-controls","settings-drawer"),u(S,"type","button"),u(S,"class","settings-drawer__close"),u(S,"aria-label","Close settings"),u(m,"class","settings-drawer__header"),u(C,"class","choice-row"),u(p,"class","settings-group"),u(O,"class","accent-grid"),u(P,"class","settings-group"),u(ve,"type","checkbox"),ve.checked=Z=n[3].titleBackdrop,u(We,"class","settings-toggle__body"),u(Be,"class","settings-toggle"),u(Be,"title","Adds a soft highlight behind each title for contrast."),u(Y,"class","settings-group"),u(tt,"class","gradient-grid"),u(ke,"class","settings-group"),u(ce,"type","button"),u(ce,"class","custom-background-button"),u(kt,"class","settings-group"),u(Bt,"class","folder-bar__summary"),u(Ze,"type","button"),u(Ze,"class","ghost-button folder-bar__action"),u(_e,"class","folder-bar"),u(ie,"type","checkbox"),ie.checked=pe=n[3].mergeAllBookmarks,u(fe,"class","settings-toggle__body"),u(wt,"class","settings-toggle folder-group-toggle"),u(Ee,"class","settings-group settings-group--folders"),u(rt,"type","checkbox"),rt.checked=Nt=n[3].enableBookmarkSearch,u(jt,"class","settings-toggle__body"),u(ot,"class","settings-toggle"),u(St,"type","checkbox"),St.checked=fn=n[3].enableTopSites,u(ft,"class","settings-toggle__body"),u(Ft,"class","settings-toggle"),u(yt,"class","settings-group"),u(d,"id","settings-drawer"),u(d,"class","settings-drawer"),u(d,"data-open",n[4]),u(d,"aria-hidden",Tt=!n[4]),u(d,"tabindex","-1"),u(qe,"class","settings-overlay"),u(qe,"aria-hidden",we=!n[4]),ye(qe,"visible",n[4]),u(Xe,"id","status"),u(Xe,"role","status"),u(Xe,"aria-live","polite"),u(Xe,"data-tone",it=n[8]?n[9]:null),u(l,"class","page"),u(pn,"type","file"),u(pn,"accept","image/png,image/jpeg,image/jpg"),u(Lt,"class","file-picker"),u(bn,"class","hint"),u(Mt,"class","dialog-body"),u(zt,"type","button"),u(zt,"id","clear-background"),u(zt,"class","ghost-button"),u(Fn,"class","spacer"),u(Zt,"type","button"),u(Zt,"id","cancel-background"),u(kn,"type","submit"),u(kn,"id","save-background"),u(ht,"class","dialog-footer"),u(vt,"id","background-form"),u(vt,"method","dialog")},m(B,q){G(B,e,q),G(B,t,q),G(B,l,q),f(l,o),f(o,r),f(r,a),f(r,i),n[107](o),f(l,c),f(l,d),f(d,m),f(m,y),f(m,b),f(m,S),f(d,g),f(d,p),f(p,w),f(p,I),f(p,C);for(let he=0;he<je.length;he+=1)je[he]&&je[he].m(C,null);f(d,H),f(d,P),f(P,L),f(P,K),f(P,O);for(let he=0;he<Re.length;he+=1)Re[he]&&Re[he].m(O,null);f(P,D),Ut&&Ut.m(P,null),f(d,J),f(d,Y),f(Y,ee),f(Y,Q),f(Y,Be),f(Be,ve),f(Be,be),f(Be,We),f(d,$e),f(d,ke),f(ke,N),f(ke,et),f(ke,tt);for(let he=0;he<ze.length;he+=1)ze[he]&&ze[he].m(tt,null);f(ke,nt),Ht&&Ht.m(ke,null),f(d,Ye),f(d,kt),f(kt,ce),f(d,Je),f(d,Ee),f(Ee,Fe),f(Ee,_t),f(Ee,_e),f(_e,Bt),mt.m(Bt,null),f(_e,lt),f(_e,Ze),f(Ee,ge),f(Ee,wt),f(wt,ie),f(wt,Te),f(wt,fe),f(Ee,F),Qe&&Qe.m(Ee,null),f(d,Et),f(d,yt),f(yt,ln),f(yt,Ot),f(yt,ot),f(ot,rt),f(ot,on),f(ot,jt),f(yt,cl),f(yt,Ft),f(Ft,St),f(Ft,De),f(Ft,ft),n[117](d),f(l,In),f(l,qe),f(l,rn),f(l,Pe),Me&&Me.m(Pe,null),f(Pe,sn),f(Pe,Xe),f(Xe,hn),f(Pe,Qt),Wt[Ve].m(Pe,null),f(l,Bn),Pt(Rt,l,null),f(l,qn),Pt(Yt,l,null),f(l,Vn),Pt(st,l,null),f(l,ul),Pt(Jt,l,null),G(B,Kn,q),G(B,gn,q),f(gn,vt),f(vt,Qn),f(vt,mn),f(vt,Mt),f(Mt,Lt),f(Lt,Dt),f(Lt,En),f(Lt,pn),n[139](pn),f(Mt,Yn),f(Mt,bn),f(vt,Jn),f(vt,ht),f(ht,zt),f(ht,Zn),f(ht,Fn),f(ht,Xn),f(ht,Zt),f(ht,dl),f(ht,kn),n[140](gn),Ae=!0,xn||(an=[W(o,"click",n[47]),W(S,"click",n[46]),W(ve,"change",n[110]),W(ce,"click",n[57]),W(Ze,"click",n[62]),W(ie,"change",n[112]),W(rt,"change",n[115]),W(St,"change",n[116]),W(d,"click",es(n[106])),W(qe,"pointerdown",n[46]),W(zt,"click",xl(n[90])),W(Zt,"click",xl(n[91])),W(vt,"submit",n[89])],xn=!0)},p(B,q){var Ln;if((!Ae||q[0]&2097160)&&ye(e,"visible",B[3].background.mode==="custom"&&!!B[21]),q[0]&2097160&&El(e,"background-image",B[3].background.mode==="custom"&&B[21]?`url(${B[21]})`:null),(!Ae||q[0]&16)&&u(o,"aria-expanded",B[4]),q[0]&8|q[1]&132096){gt=Se(B[41]);let x;for(x=0;x<gt.length;x+=1){const Ue=Zo(B,gt,x);je[x]?je[x].p(Ue,q):(je[x]=Xo(Ue),je[x].c(),je[x].m(C,null))}for(;x<je.length;x+=1)je[x].d(1);je.length=gt.length}if(q[0]&8|q[1]&262272){cn=Se(B[38]);let x;for(x=0;x<cn.length;x+=1){const Ue=Jo(B,cn,x);Re[x]?Re[x].p(Ue,q):(Re[x]=xo(Ue),Re[x].c(),Re[x].m(O,null))}for(;x<Re.length;x+=1)Re[x].d(1);Re.length=cn.length}if(B[42].length>Dl&&Ut.p(B,q),(!Ae||q[0]&8&&Z!==(Z=B[3].titleBackdrop))&&(ve.checked=Z),q[0]&8|q[1]&33554688){Ke=Se(B[39]);let x;for(x=0;x<Ke.length;x+=1){const Ue=Yo(B,Ke,x);ze[x]?ze[x].p(Ue,q):(ze[x]=$o(Ue),ze[x].c(),ze[x].m(tt,null))}for(;x<ze.length;x+=1)ze[x].d(1);ze.length=Ke.length}B[43].length>Ll&&Ht.p(B,q),Gt===(Gt=fl(B))&&mt?mt.p(B,q):(mt.d(1),mt=Gt(B),mt&&(mt.c(),mt.m(Bt,null))),(!Ae||q[0]&8&&pe!==(pe=B[3].mergeAllBookmarks))&&(ie.checked=pe),B[3].mergeAllBookmarks?Qe&&(Qe.d(1),Qe=null):Qe?Qe.p(B,q):(Qe=tr(B),Qe.c(),Qe.m(Ee,null)),(!Ae||q[0]&8&&Nt!==(Nt=B[3].enableBookmarkSearch))&&(rt.checked=Nt),(!Ae||q[0]&8&&fn!==(fn=B[3].enableTopSites))&&(St.checked=fn),(!Ae||q[0]&16)&&u(d,"data-open",B[4]),(!Ae||q[0]&16&&Tt!==(Tt=!B[4]))&&u(d,"aria-hidden",Tt),(!Ae||q[0]&16&&we!==(we=!B[4]))&&u(qe,"aria-hidden",we),(!Ae||q[0]&16)&&ye(qe,"visible",B[4]),B[3].enableBookmarkSearch?Me?(Me.p(B,q),q[0]&8&&X(Me,1)):(Me=nr(B),Me.c(),X(Me,1),Me.m(Pe,sn)):Me&&(He(),ne(Me,1,1,()=>{Me=null}),Ge()),(!Ae||q[0]&256)&&Le(hn,B[8]),(!Ae||q[0]&768&&it!==(it=B[8]?B[9]:null))&&u(Xe,"data-tone",it);let he=Ve;Ve=gl(B),Ve===he?Wt[Ve].p(B,q):(He(),ne(Wt[he],1,1,()=>{Wt[he]=null}),Ge(),xe=Wt[Ve],xe?xe.p(B,q):(xe=Wt[Ve]=hl[Ve](B),xe.c()),X(xe,1),xe.m(Pe,null));const pt={};q[0]&1&&(pt.open=B[0]),q[1]&512&&(pt.rootIds=B[40].rootIds??[]),q[0]&524288&&(pt.expandedIds=B[19]),q[0]&2048&&(pt.loadingIds=B[11]),q[0]&8192&&(pt.visibleIds=B[13]),q[0]&4096&&(pt.searchQuery=B[12]),q[0]&2&&(pt.searchMatches=B[1]),q[0]&147457&&(pt.summary=B[0]?B[17]:B[14]),q[0]&66561&&(pt.selectedFolderCount=B[0]?((Ln=B[16])==null?void 0:Ln.size)??0:B[10].size),q[0]&294913&&(pt.totalBookmarkCount=B[0]?B[18]:B[15]),Rt.$set(pt);const ml={};q[0]&67108864&&(ml.open=B[26]),Yt.$set(ml);const Tn={};q[0]&536870912&&(Tn.bookmark=B[29]),q[0]&268435456&&(Tn.position=B[28]),q[0]&134217728&&(Tn.visible=B[27]),st.$set(Tn);const Mn={};q[0]&33554432&&(Mn.toasts=B[25]),Jt.$set(Mn)},i(B){Ae||(X(Me),X(xe),X(Rt.$$.fragment,B),X(Yt.$$.fragment,B),X(st.$$.fragment,B),X(Jt.$$.fragment,B),Ae=!0)},o(B){ne(Me),ne(xe),ne(Rt.$$.fragment,B),ne(Yt.$$.fragment,B),ne(st.$$.fragment,B),ne(Jt.$$.fragment,B),Ae=!1},d(B){B&&(U(e),U(t),U(l),U(Kn),U(gn)),n[107](null),Yl(je,B),Yl(Re,B),Ut&&Ut.d(),Yl(ze,B),Ht&&Ht.d(),mt.d(),Qe&&Qe.d(),n[117](null),Me&&Me.d(),Wt[Ve].d(),At(Rt),At(Yt),At(st),At(Jt),n[139](null),n[140](null),xn=!1,Ne(an)}}}const ha=64,vl="customBackgroundImage",nl="uiPreferences",Rn="dialPreferences",zn=2,Zl="hasSeenWelcome",Ll=6,Dl=10;function cr(n=[],e=[]){return n.length!==e.length?!1:n.every((t,l)=>t===e[l])}function ga(n={}){const e=Array.isArray(n.selectedIds)?n.selectedIds.filter(Boolean):[],t=Array.isArray(n.expandedIds)?n.expandedIds.filter(Boolean):[];return{selectedIds:Array.from(new Set(e)),expandedIds:Array.from(new Set(t))}}function yn(n,e){if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0}function ur(n,e){const t=[...n];if(!e)return t;const l=t.findIndex(r=>r.id===e);if(l<=0)return t;const[o]=t.splice(l,1);return[o,...t]}function lo(n,e,t=[],l=!0){const o=n.nodesById[e];return!o||!o.isFolder||(o.childrenIds??[]).forEach(a=>{const i=n.nodesById[a];i&&(i.url?t.push(i):l&&lo(n,a,t,!0))}),t}function dr(n){const e=n.title||n.url;return{...n,displayTitle:e,initials:Mr(e),palette:Lr(e),fallback:!1}}async function co(n){try{const e=new URL(chrome.runtime.getURL("/_favicon/"));e.searchParams.set("pageUrl",n),e.searchParams.set("size",ha.toString());const t=await fetch(e.toString());if(!t.ok)return"";const l=await t.blob();return new Promise(o=>{const r=new FileReader;r.onloadend=()=>o(r.result),r.onerror=()=>o(""),r.readAsDataURL(l)})}catch{return""}}function fr(n=[],e){let t=!1;return{next:n.map(o=>o.id!==e||o.fallback?o:(t=!0,{...o,fallback:!0})),changed:t}}function ma(n){const e=n.map((o,r)=>`${r+1}. ${o.fullPath||o.label||"Untitled folder"}`).join(`
`),t=prompt(`Select a folder for the new shortcut by entering its number:

${e}
`);if(t===null)return null;const l=Number.parseInt(t.trim(),10);return Number.isNaN(l)||l<1||l>n.length?(alert("Please enter one of the numbers shown in the list."),null):n[l-1].id}function Cl(n){try{return new URL(n).href}catch{try{return new URL(`https://${n}`).href}catch{return null}}}function Un(n){try{return new URL(n).hostname.replace(/^www\./i,"")}catch{return n}}function Mr(n){return n?n.trim().split(/\s+/)[0].slice(0,2).toUpperCase():"‚Ä¢"}function pa(n,e){let t;return(...l)=>{clearTimeout(t),t=setTimeout(()=>n(...l),e)}}function Lr(n){const e=(n||"").trim().toLowerCase();if(!e)return{background:"linear-gradient(145deg, #fde68a, #fbbf24)",text:"rgba(15, 23, 42, 0.85)"};let t=0,l=0,o=0;for(let p=0;p<e.length;p++){const w=e.charCodeAt(p),I=p+1;t+=w*I,l+=w*(I+1.5),o+=w*(I+2.5)}const r=Xl(t,360),a=Xl(l,36)-18,i=Xl(r+24+a,360),c=52+Math.abs(l)%30,d=42+Math.abs(o)%20,m=Math.min(96,c+8),y=Math.min(78,d+12),b=`hsl(${r}, ${c}%, ${d}%)`,S=`hsl(${i}, ${m}%, ${y}%)`,g=d>54?"rgba(30, 41, 59, 0.85)":"rgba(255, 255, 255, 0.88)";return{background:`linear-gradient(140deg, ${b}, ${S})`,text:g}}function Xl(n,e){return(n%e+e)%e}function ba(n,e){return new Promise((t,l)=>{if(n.size>e){l(new Error("File exceeds size limit"));return}const o=new FileReader;o.onload=()=>t(o.result),o.onerror=()=>l(o.error||new Error("Failed to read file")),o.readAsDataURL(n)})}const ka=()=>{},_a=()=>{},wa=()=>{},ya=()=>{},Sa=()=>{},va=()=>{},Ca=()=>{},Ia=()=>{},Ba=()=>{},Ea=()=>{},Fa=()=>{};function Ta(n,e,t){var ho,go,mo,po;let l,o,r,a,i,c,d;mr(n,Br,s=>t(40,d=s));const m={loading:"Loading Bookmark Dial‚Ä¶",empty:"No bookmarks yet. Add shortcuts from this page or the bookmark manager.",error:"Bookmark Dial folder is unavailable. Try reopening the tab or reinstalling the extension."},y={selectedIds:[],expandedIds:[]},b=4*1024*1024,S=[{id:"dark",label:"Dark"},{id:"light",label:"Light"},{id:"system",label:"System"}],g=[{id:"cobalt",label:"Cobalt",colors:{base:"#2563eb",contrast:"#f8fafc",soft:"rgba(37, 99, 235, 0.14)",border:"rgba(37, 99, 235, 0.45)"}},{id:"violet",label:"Violet",colors:{base:"#8b5cf6",contrast:"#faf5ff",soft:"rgba(139, 92, 246, 0.16)",border:"rgba(139, 92, 246, 0.45)"}},{id:"emerald",label:"Emerald",colors:{base:"#059669",contrast:"#ecfdf5",soft:"rgba(5, 150, 105, 0.14)",border:"rgba(5, 150, 105, 0.45)"}},{id:"amber",label:"Amber",colors:{base:"#d97706",contrast:"#fffbeb",soft:"rgba(217, 119, 6, 0.18)",border:"rgba(217, 119, 6, 0.5)"}},{id:"rose",label:"Rose",colors:{base:"#e11d48",contrast:"#fff1f2",soft:"rgba(225, 29, 72, 0.16)",border:"rgba(225, 29, 72, 0.45)"}},{id:"slate",label:"Slate",colors:{base:"#475569",contrast:"#f8fafc",soft:"rgba(71, 85, 105, 0.18)",border:"rgba(71, 85, 105, 0.5)"}},{id:"sky",label:"Sky",colors:{base:"#0284c7",contrast:"#e0f2fe",soft:"rgba(2, 132, 199, 0.16)",border:"rgba(2, 132, 199, 0.45)"}},{id:"blush",label:"Blush",colors:{base:"#ec4899",contrast:"#fff0f6",soft:"rgba(236, 72, 153, 0.18)",border:"rgba(236, 72, 153, 0.5)"}},{id:"moss",label:"Moss",colors:{base:"#4d7c0f",contrast:"#ecfccb",soft:"rgba(77, 124, 15, 0.18)",border:"rgba(77, 124, 15, 0.5)"}},{id:"bronze",label:"Bronze",colors:{base:"#b45309",contrast:"#fff7ed",soft:"rgba(180, 83, 9, 0.2)",border:"rgba(180, 83, 9, 0.55)"}},{id:"orchid",label:"Orchid",colors:{base:"#c026d3",contrast:"#fdf4ff",soft:"rgba(192, 38, 211, 0.18)",border:"rgba(192, 38, 211, 0.5)"}},{id:"mint",label:"Mint",colors:{base:"#14b8a6",contrast:"#e0fefa",soft:"rgba(20, 184, 166, 0.16)",border:"rgba(20, 184, 166, 0.46)"}},{id:"graphite",label:"Graphite",colors:{base:"#1f2937",contrast:"#f8fafc",soft:"rgba(31, 41, 55, 0.22)",border:"rgba(31, 41, 55, 0.6)"}},{id:"sunset",label:"Sunset",colors:{base:"#ea580c",contrast:"#fff7ed",soft:"rgba(234, 88, 12, 0.18)",border:"rgba(234, 88, 12, 0.52)"}},{id:"glacier",label:"Glacier",colors:{base:"#0ea5e9",contrast:"#f0f9ff",soft:"rgba(14, 165, 233, 0.16)",border:"rgba(14, 165, 233, 0.45)"}},{id:"amethyst",label:"Amethyst",colors:{base:"#6d28d9",contrast:"#f5f3ff",soft:"rgba(109, 40, 217, 0.18)",border:"rgba(109, 40, 217, 0.5)"}},{id:"sand",label:"Sand",colors:{base:"#ca8a04",contrast:"#fffbeb",soft:"rgba(202, 138, 4, 0.2)",border:"rgba(202, 138, 4, 0.5)"}},{id:"cranberry",label:"Cranberry",colors:{base:"#be123c",contrast:"#fff1f5",soft:"rgba(190, 18, 60, 0.18)",border:"rgba(190, 18, 60, 0.5)"}}],p=[{id:"aurora",label:"Aurora",gradients:{light:"linear-gradient(135deg, #d8b4fe 0%, #6366f1 50%, #22d3ee 100%)",dark:"linear-gradient(135deg, #312e81 0%, #1e3a8a 50%, #0f172a 100%)"},accent:"violet"},{id:"sunrise",label:"Sunrise",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 50%, #f97316 100%)",dark:"linear-gradient(135deg, #7c2d12 0%, #c2410c 45%, #ea580c 100%)"},accent:"amber"},{id:"forest",label:"Forest",gradients:{light:"linear-gradient(135deg, #bbf7d0 0%, #34d399 50%, #0f766e 100%)",dark:"linear-gradient(135deg, #064e3b 0%, #059669 50%, #0f172a 100%)"},accent:"emerald"},{id:"ocean",label:"Ocean",gradients:{light:"linear-gradient(135deg, #bae6fd 0%, #38bdf8 50%, #0ea5e9 100%)",dark:"linear-gradient(135deg, #0c4a6e 0%, #0369a1 50%, #082f49 100%)"},accent:"sky"},{id:"twilight",label:"Twilight",gradients:{light:"linear-gradient(135deg, #fecdd3 0%, #fda4af 50%, #fb7185 100%)",dark:"linear-gradient(135deg, #7f1d1d 0%, #be123c 50%, #9f1239 100%)"},accent:"orchid"},{id:"slate",label:"Slate",gradients:{light:"linear-gradient(135deg, #e2e8f0 0%, #cbd5f5 50%, #94a3b8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #0f172a 50%, #020617 100%)"},accent:"slate"},{id:"blossom",label:"Blossom",gradients:{light:"linear-gradient(135deg, #ffe4e6 0%, #fbcfe8 45%, #f472b6 100%)",dark:"linear-gradient(135deg, #831843 0%, #9d174d 50%, #701a75 100%)"},accent:"blush"},{id:"lagoon",label:"Lagoon",gradients:{light:"linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 40%, #5eead4 100%)",dark:"linear-gradient(135deg, #022c22 0%, #0d9488 45%, #14b8a6 100%)"},accent:"mint"},{id:"ember",label:"Ember",gradients:{light:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 40%, #fb7185 100%)",dark:"linear-gradient(135deg, #450a0a 0%, #9f1239 50%, #be123c 100%)"},accent:"rose"},{id:"lilac",label:"Lilac",gradients:{light:"linear-gradient(135deg, #f5f3ff 0%, #ede9fe 45%, #d8b4fe 100%)",dark:"linear-gradient(135deg, #312e81 0%, #5b21b6 50%, #7c3aed 100%)"},accent:"violet"},{id:"zenith",label:"Zenith",gradients:{light:"linear-gradient(135deg, #e0f2fe 0%, #dbeafe 45%, #818cf8 100%)",dark:"linear-gradient(135deg, #1e293b 0%, #1f3b8a 45%, #3730a3 100%)"},accent:"cobalt"},{id:"sage",label:"Sage",gradients:{light:"linear-gradient(135deg, #ecfccb 0%, #bbf7d0 45%, #84cc16 100%)",dark:"linear-gradient(135deg, #052e16 0%, #166534 45%, #15803d 100%)"},accent:"moss"},{id:"velvet",label:"Velvet",gradients:{light:"linear-gradient(135deg, #fdf4ff 0%, #f5d0fe 45%, #f0abfc 100%)",dark:"linear-gradient(135deg, #4a044e 0%, #6b21a8 45%, #86198f 100%)"},accent:"orchid"},{id:"citrus",label:"Citrus",gradients:{light:"linear-gradient(135deg, #fefce8 0%, #fef08a 45%, #facc15 100%)",dark:"linear-gradient(135deg, #422006 0%, #854d0e 50%, #b45309 100%)"},accent:"amber"},{id:"glacier",label:"Glacier",gradients:{light:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 45%, #bae6fd 100%)",dark:"linear-gradient(135deg, #082f49 0%, #0c4a6e 45%, #0284c7 100%)"},accent:"sky"},{id:"terracotta",label:"Terracotta",gradients:{light:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 45%, #f97316 100%)",dark:"linear-gradient(135deg, #431407 0%, #7c2d12 45%, #9a3412 100%)"},accent:"bronze"},{id:"nocturne",label:"Nocturne",gradients:{light:"linear-gradient(135deg, #ede9fe 0%, #c7d2fe 45%, #4338ca 100%)",dark:"linear-gradient(135deg, #020617 0%, #111827 45%, #312e81 100%)"},accent:"slate"},{id:"horizon",label:"Horizon",gradients:{light:"linear-gradient(135deg, #fef3c7 0%, #fdba74 40%, #60a5fa 100%)",dark:"linear-gradient(135deg, #451a03 0%, #9a3412 45%, #1d4ed8 100%)"},accent:"cobalt"}],w=p[0],C={theme:"system",accent:w!=null&&w.accent&&g.some(s=>s.id===w.accent)?w.accent:g[0].id,background:{mode:"gradient",gradientId:(w==null?void 0:w.id)??p[0].id},titleBackdrop:!1,mergeAllBookmarks:!0,folderColumnWidth:1170,compactFolderHeader:!0,enableBookmarkSearch:!1,enableTopSites:!1},H={...C,folderSelection:{...y},version:zn},P=typeof chrome<"u"?chrome:null,L=(ho=P==null?void 0:P.runtime)!=null&&ho.sendMessage?P:xr(),K=!!((go=P==null?void 0:P.runtime)!=null&&go.id),O=!!((mo=P==null?void 0:P.storage)!=null&&mo.local)&&K,D=!!((po=P==null?void 0:P.storage)!=null&&po.sync)&&K;let J=m.loading,Y="info",ee=[],Q=[],Be=new Set,ve=null,Z=new Set,be=new Set,We=new Set,$e=!1,ke=!1,N="",et=new Set,tt=null,nt=[],Ye=new Map,kt=0,ce=null,Je=null,Ee=[],Fe=new Map,_t=0,_e=!1,Bt=new Set,lt=0,Ze=0,ge=null,wt="",ie,pe,Te,fe,F=Ve(),Et=!1,yt=!0,ln=!1,Ot=!1,ot=!1,rt=!1,Nt=[...g],on=[...p],jt=[],cl=0,Ft=!1,St=!1,fn={x:0,y:0},De=null,ft="",Tt=!1,In=[],qe=!1,we=-1,rn=null,Pe=null,sn=null,Xe=null,hn=null,it=null;const Qt=[];ss(()=>{var s,h;if((async()=>{try{await kn()}catch(k){console.error("Bookmark Dial: failed to load settings",k),t(3,F=Ve()),t(100,Ot=O),mn(F.theme),Mt(F.accent),Lt(F.background.gradientId)}try{await Zr()}catch(k){console.error("Bookmark Dial: failed to load background",k)}t(98,yt=!1),await Pr(),Ae()})(),typeof window<"u"){const k=E=>{if(St&&E.key==="Escape"){Xt(),E.stopPropagation();return}if(E.key==="Escape"){if(ge!==null){t(20,ge=null),E.stopPropagation();return}if(Tt){uo(),E.stopPropagation();return}Et&&En()}if(E.key==="/"&&F.enableBookmarkSearch&&!E.ctrlKey&&!E.metaKey){const j=E.target;if(j instanceof HTMLInputElement||j instanceof HTMLTextAreaElement)return;E.preventDefault(),t(30,Tt=!0)}},M=E=>{if(St){const z=E.target;z instanceof Element&&!z.closest(".context-menu")&&Xt()}if(ge===null)return;const j=E.target;j instanceof Element&&j.closest(".tile-actions")||t(20,ge=null)};window.addEventListener("keydown",k),window.addEventListener("pointerdown",M),Qt.push(()=>window.removeEventListener("keydown",k)),Qt.push(()=>window.removeEventListener("pointerdown",M))}if((h=(s=L==null?void 0:L.storage)==null?void 0:s.onChanged)!=null&&h.addListener){const k=(M,E)=>{if(E!=="sync"&&E!=="local")return;const z=M[E==="sync"?Rn:nl];!z||!z.newValue||Tn(z.newValue)};L.storage.onChanged.addListener(k),Qt.push(()=>L.storage.onChanged.removeListener(k))}return()=>{Xe&&clearTimeout(Xe),typeof document<"u"&&document.body.classList.remove("settings-open"),Qt.forEach(k=>k==null?void 0:k())}});function Ve(){return{theme:C.theme,accent:C.accent,background:{...C.background},titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,folderColumnWidth:C.folderColumnWidth,compactFolderHeader:C.compactFolderHeader,enableBookmarkSearch:C.enableBookmarkSearch,enableTopSites:C.enableTopSites}}function xe(s){return S.some(h=>h.id===s)?s:C.theme}function Bn(s){return g.some(h=>h.id===s)?s:C.accent}function Rt(s){return p.some(h=>h.id===s)?s:C.background.gradientId}function qn(s={}){var Ie,bt,Dn,Pn;const h=xe(s.theme),k=Bn(s.accent),M=s.background??{},E=M.mode==="custom"?"custom":"gradient",j=Rt(M.gradientId),z=typeof s.titleBackdrop=="boolean",oe=z?s.titleBackdrop:C.titleBackdrop,ue=typeof s.mergeAllBookmarks=="boolean"||typeof s.groupFoldersTogether=="boolean",$=ue?s.mergeAllBookmarks??s.groupFoldersTogether:C.mergeAllBookmarks,te=typeof s.folderColumnWidth=="number"?s.folderColumnWidth:C.folderColumnWidth,de=typeof s.compactFolderHeader=="boolean"?s.compactFolderHeader:C.compactFolderHeader,Oe=typeof s.enableBookmarkSearch=="boolean"?s.enableBookmarkSearch:C.enableBookmarkSearch,Ce=typeof s.enableTopSites=="boolean"?s.enableTopSites:C.enableTopSites,se=ga(s.folderSelection),_n=!cr(se.selectedIds,((Ie=s.folderSelection)==null?void 0:Ie.selectedIds)??[])||!cr(se.expandedIds,((bt=s.folderSelection)==null?void 0:bt.expandedIds)??[]),re=h!==s.theme||k!==s.accent||E!==(((Dn=s.background)==null?void 0:Dn.mode)??C.background.mode)||j!==(((Pn=s.background)==null?void 0:Pn.gradientId)??C.background.gradientId)||!z||!ue||te!==s.folderColumnWidth||de!==s.compactFolderHeader||Oe!==s.enableBookmarkSearch||Ce!==s.enableTopSites;return{settings:{theme:h,accent:k,background:{mode:E,gradientId:j},titleBackdrop:oe,mergeAllBookmarks:$,folderColumnWidth:te,compactFolderHeader:de,enableBookmarkSearch:Oe,enableTopSites:Ce},folderSelection:se,changed:re||_n||(s.version??zn)!==zn}}function Yt(s){return g.find(h=>h.id===s)??g[0]}function Vn(s){return p.find(h=>h.id===s)??p[0]}function st(){t(101,Nt=ur(g,F==null?void 0:F.accent)),t(6,rt=!1)}function ul(){t(6,rt=!0)}function Jt(){rt?st():ul()}function Kn(){var s,h;t(102,on=ur(p,((s=F==null?void 0:F.background)==null?void 0:s.mode)==="gradient"?(h=F==null?void 0:F.background)==null?void 0:h.gradientId:null)),t(5,ot=!1)}function gn(){t(5,ot=!0)}function vt(){ot?Kn():gn()}function Qn(){return!hn&&typeof window<"u"&&typeof window.matchMedia=="function"&&(hn=window.matchMedia("(prefers-color-scheme: dark)")),hn}function mn(s){if(typeof document>"u")return;const h=xe(s),k=Qn();if(h==="system"&&k){if(document.body.classList.toggle("dark",k.matches),!it){const M=E=>{document.body.classList.toggle("dark",E.matches)};typeof k.addEventListener=="function"?(k.addEventListener("change",M),it=()=>k.removeEventListener("change",M)):typeof k.addListener=="function"?(k.addListener(M),it=()=>k.removeListener(M)):it=null,it&&Qt.push(it)}}else it&&(it(),it=null),document.body.classList.toggle("dark",h==="dark");document.body.dataset.theme=h}function Mt(s){if(typeof document>"u")return;const h=Yt(s),k=document.documentElement;k.style.setProperty("--accent-color",h.colors.base),k.style.setProperty("--accent-color-contrast",h.colors.contrast),k.style.setProperty("--accent-color-soft",h.colors.soft),k.style.setProperty("--accent-color-border",h.colors.border)}function Lt(s){if(typeof document>"u")return;const h=Vn(s),k=document.documentElement;k.style.setProperty("--page-background-light",h.gradients.light),k.style.setProperty("--page-background-dark",h.gradients.dark)}function Dt(){if(!O||!ln||!$e)return;Xe&&clearTimeout(Xe);const s={theme:F.theme,accent:F.accent,titleBackdrop:F.titleBackdrop,mergeAllBookmarks:F.mergeAllBookmarks,folderColumnWidth:F.folderColumnWidth,compactFolderHeader:F.compactFolderHeader,enableBookmarkSearch:F.enableBookmarkSearch,enableTopSites:F.enableTopSites,background:{...F.background},folderSelection:{selectedIds:Array.from(Z),expandedIds:Array.from(be)},version:zn};Xe=setTimeout(async()=>{Xe=null;try{const h=[L.storage.local.set({[nl]:s})];D&&h.push(L.storage.sync.set({[Rn]:s})),await Promise.all(h)}catch(h){console.error("Bookmark Dial: failed to store preferences",h)}},120)}function En(){if(Et&&(t(4,Et=!1),typeof document<"u"&&fe)){const s=document.activeElement;s&&fe.contains(s)&&(Te==null||Te.focus())}}function pn(){t(4,Et=!Et)}function Yn(s){const h=xe(s);F.theme!==h&&t(3,F={...F,theme:h})}function bn(s){const h=Bn(s);F.accent!==h&&t(3,F={...F,accent:h})}function Jn(s){const h=!!s;F.titleBackdrop!==h&&t(3,F={...F,titleBackdrop:h})}function ht(s){const h=!!s;F.mergeAllBookmarks!==h&&t(3,F={...F,mergeAllBookmarks:h})}function zt(s){const h=Number(s);F.folderColumnWidth!==h&&t(3,F={...F,folderColumnWidth:h})}function Zn(s){const h=!!s;F.compactFolderHeader!==h&&t(3,F={...F,compactFolderHeader:h})}function Fn(s){const h=!!s;F.enableBookmarkSearch!==h&&(t(3,F={...F,enableBookmarkSearch:h}),h||(t(30,Tt=!1),t(7,ft="")))}function Xn(s){const h=!!s;F.enableTopSites!==h&&(t(3,F={...F,enableTopSites:h}),h&&!qe&&fo())}function Zt(s){const h=Rt(s),k=Vn(h),M=k.accent&&g.some(oe=>oe.id===k.accent)?k.accent:null,E=F.background.mode!=="gradient"||F.background.gradientId!==h,j=M?Bn(M):F.accent,z=!!M&&j!==F.accent;!E&&!z||t(3,F={...F,accent:z?j:F.accent,background:{...F.background,mode:"gradient",gradientId:h}})}async function dl(){En(),await eo(),Kr()}async function kn(){if(t(100,Ot=!1),t(97,_e=!1),!O){t(3,F=Ve()),t(10,Z=new Set(y.selectedIds)),t(94,be=new Set(y.expandedIds)),t(95,$e=!0),mn(F.theme),Mt(F.accent),Lt(F.background.gradientId),he();return}let s={},h={};if(D)try{s=await L.storage.sync.get(Rn)}catch(j){console.warn("Bookmark Dial: failed to read sync preferences",j)}try{h=await L.storage.local.get(nl)}catch(j){console.warn("Bookmark Dial: failed to read local preferences",j)}let k=s==null?void 0:s[Rn],M=!1;!k&&(h!=null&&h[nl])&&(k=h[nl],M=!0);const E=qn(k??H);t(3,F=E.settings),t(10,Z=new Set(E.folderSelection.selectedIds.length?E.folderSelection.selectedIds:y.selectedIds)),t(94,be=new Set(E.folderSelection.expandedIds)),t(95,$e=!0),t(100,Ot=E.changed||M),t(97,_e=E.changed||M),mn(F.theme),Mt(F.accent),Lt(F.background.gradientId),he()}async function Ae(){try{await _s(L),ve=await xn(),await an(),await gt(),je(),await Ke()}catch(s){console.error("Bookmark Dial: initialization failed",s),xt(m.error,"error")}}async function xn(){const s=await L.runtime.sendMessage({type:"getFolderId"});if(!(s!=null&&s.folderId))throw new Error((s==null?void 0:s.error)||"Missing folder");return s.folderId}async function an(){Z.size===0&&ve&&(t(10,Z=new Set([ve])),t(97,_e=!0))}async function gt(){const s=Array.from(Z);s.length&&(await Promise.allSettled(s.map(h=>jn(L,h))),he())}function je(){var oe,ue;const s=pa(()=>Ke(),150),h=($,te)=>{ys(te),!te.url&&fl(te)&&mt(te.id),te.url?Gt(te.parentId)&&s():Z.has(te.id)&&s()};L.bookmarks.onCreated.addListener(h);const k=($,te)=>{Ss($,te),Be.has($)&&s()};L.bookmarks.onChanged.addListener(k);const M=($,te)=>{vs($,te),(Be.has($)||Gt(te.parentId)||Gt(te.oldParentId))&&s()};L.bookmarks.onMoved.addListener(M);const E=($,te)=>{const de=Er($);de&&cn($,{...te,node:de}),Cs($,te),(Be.has($)||Gt(te.parentId))&&(Be.delete($),s())};L.bookmarks.onRemoved.addListener(E);const j=()=>s(),z=()=>xt("Importing bookmarks‚Ä¶");(oe=L.bookmarks.onImportEnded)==null||oe.addListener(j),(ue=L.bookmarks.onImportBegan)==null||ue.addListener(z),Qt.push(()=>{var $,te;L.bookmarks.onCreated.removeListener(h),L.bookmarks.onChanged.removeListener(k),L.bookmarks.onMoved.removeListener(M),L.bookmarks.onRemoved.removeListener(E),($=L.bookmarks.onImportEnded)==null||$.removeListener(j),(te=L.bookmarks.onImportBegan)==null||te.removeListener(z)})}function cn(s,h={}){if(h!=null&&h.node&&!h.node.url){const k=new Set(Sl(s));if(k.size){const M=new Set(Z);let E=!1;k.forEach(j=>{M.has(j)&&(M.delete(j),E=!0)}),E&&(t(10,Z=M),t(97,_e=!0),he(),Dt(),Z.size||Promise.resolve().then(()=>an()).then(()=>gt()).then(()=>Ke()))}s===ve&&Re()}}async function Re(){xt("Default folder was removed. Recreating‚Ä¶");try{const s=await L.runtime.sendMessage({type:"resetFolderCache"});if(s!=null&&s.folderId)ve=s.folderId,await mt(ve),await Ke(),xt("Default folder restored.","success");else throw new Error((s==null?void 0:s.error)||"Unable to recreate folder")}catch(s){console.error("Bookmark Dial: missing folder recovery failed",s),xt(m.error,"error")}}async function Ut(s){const h=s instanceof Set?new Set(s):new Set(s??[]);if(!h.size)return{items:[],counts:new Map,total:0,groups:[]};await Promise.all(Array.from(h).map(ue=>jn(L,ue)));const k=$t(),M=new Map,E=new Map,j=[],z=[];h.forEach(ue=>{const $=lo(k,ue,[],!0),te=lo(k,ue,[],!1),de=Bl(ue),Oe=de[de.length-1]||"Untitled folder";$.forEach(se=>{const re=(Cl(se.url)||se.url||se.url||se.id).toLowerCase();M.has(re)||(M.set(re,se.id),j.push({...se,sourceFolderId:ue,sourcePath:de}))});const Ce=te.map(se=>{const re=(Cl(se.url)||se.url||se.url||se.id).toLowerCase(),Ie=E.get(ue)??new Set;return Ie.add(re),E.set(ue,Ie),{...se,sourceFolderId:ue,sourcePath:de}});z.push({id:ue,label:Oe,path:de,fullPath:de.join(" ‚Ä∫ "),items:Ce})}),z.sort((ue,$)=>ue.fullPath.localeCompare($.fullPath));const oe=new Map(Array.from(E.entries()).map(([ue,$])=>[ue,$.size]));return{items:j,counts:oe,total:j.length,groups:z}}async function Ke(){const s=++lt;if(!Z.size){t(92,ee=[]),t(93,Q=[]),Be=new Set,Ye=new Map,t(15,kt=0),he(),xt("Select folders to populate this page.","info");return}try{const h=await Ut(Z);if(s!==lt)return;Ye=h.counts,t(15,kt=h.total),ze(h.items),t(93,Q=h.groups.map(k=>({id:k.id,label:k.label,path:k.path,fullPath:k.fullPath,items:k.items.map(M=>dr(M))}))),he(),h.items.length===0?xt(m.empty):xt("","info")}catch(h){console.error("Bookmark Dial: failed to load bookmarks",h),xt(m.error,"error")}}function ze(s){Be=new Set(s.map(h=>h.id)),t(92,ee=s.map(h=>dr(h)))}function Ht(s,h){const k=new Set(We);h?k.add(s):k.delete(s),t(11,We=k)}function fl(s){return!s||s.url?!1:Gt(s.parentId)}function Gt(s){if(!s)return!1;const h=$t();let k=s;for(;k;){if(Z.has(k))return!0;const M=h.nodesById[k];k=(M==null?void 0:M.parentId)??null}return!1}async function mt(s){if(!s)return;await jn(L,s);const h=Sl(s),k=new Set(Z);let M=!1;h.forEach(E=>{k.has(E)||(k.add(E),M=!0)}),M&&(t(10,Z=k),t(97,_e=!0),await gt(),await Ke(),Dt())}async function Qe(s){if(!s)return;await jn(L,s);const h=Sl(s);if(!h.length)return;const k=ke,M=k&&ce?ce:k?new Set(Z):Z,E=new Set(M);if(h.every(z=>E.has(z))?h.forEach(z=>E.delete(z)):h.forEach(z=>E.add(z)),k){t(16,ce=E);const z=++Ze,oe=await Ut(ce);if(z!==Ze)return;Fe=oe.counts,t(18,_t=oe.total),t(17,Ee=q(ce,Fe))}else yn(Z,E)||(t(10,Z=E),t(97,_e=!0),await an(),await gt(),await Ke(),Dt())}async function Me(s){var Oe;if(!s)return;const k=$t().nodesById[s];if(!(k!=null&&k.isFolder))return;const M=ke,E=M&&Je?Je:M?new Set(be):be,j=new Set(E??[]),z=new Set(j),oe=(Ce,{persist:se=!1}={})=>{M?t(96,Je=Ce):(t(94,be=Ce),se&&(t(97,_e=!0),Dt()))};if(j.has(s)){j.delete(s);const Ce=!yn(z,j);oe(j,{persist:Ce});return}if(j.add(s),oe(j),!k.childrenLoaded){Ht(s,!0);try{await ws(L,s)}catch(Ce){console.warn("Bookmark Dial: failed to load child folders",Ce)}finally{Ht(s,!1)}}const ue=$t(),$=ue.nodesById[s];((Oe=$==null?void 0:$.childrenIds)==null?void 0:Oe.some(Ce=>{const se=ue.nodesById[Ce];return se==null?void 0:se.isFolder}))||j.delete(s);const de=!yn(z,j);oe(j,{persist:de})}async function hl(){if(ke){t(16,ce=new Set),Ze++,Fe=new Map,t(18,_t=0),t(17,Ee=[]);return}t(10,Z=new Set),t(97,_e=!0),await an(),await gt(),await Ke(),Dt()}async function Wt(){if(!ke)return;const s=new Set(ce??[]),h=new Set(Je??[]),k=!yn(Z,s),M=!yn(be,h);t(0,ke=!1),$n(),k&&(t(10,Z=s),t(97,_e=!0),await an(),await gt(),await Ke()),M&&(t(94,be=h),t(97,_e=!0)),k||M?Dt():he()}function gl(){t(16,ce=new Set(Z)),t(96,Je=new Set(be)),Fe=new Map(Ye),t(18,_t=kt),t(17,Ee=q(ce,Fe)),Ze=0,t(12,N=""),t(1,et=new Set),t(13,tt=null),t(0,ke=!0)}function $n(){t(16,ce=null),t(96,Je=null),t(17,Ee=[]),Fe=new Map,t(18,_t=0),Ze=0,t(12,N=""),t(1,et=new Set),t(13,tt=null)}function B(){t(0,ke=!1),$n()}function q(s,h){$t();const k=Array.from(s??[]).map(M=>{const E=Bl(M),j=E[E.length-1]||"Untitled folder";return{id:M,path:E,label:j,fullPath:E.join(" ‚Ä∫ "),count:(h==null?void 0:h.get(M))??0}});return k.sort((M,E)=>M.fullPath.localeCompare(E.fullPath)),k}function he(){t(14,nt=q(Z,Ye))}function pt(s){const k=$t().nodesById[s],M=ke&&ce?ce:Z;if(!(k!=null&&k.isFolder))return M.has(s)?"selected":"none";const E=Sl(s);if(!E.length)return M.has(s)?"selected":"none";const j=E.filter(z=>M.has(z)).length;return j===0?"none":j===E.length?"selected":"partial"}async function ml(s){var ue;t(12,N=s);const h=s.trim();if(!h){t(1,et=new Set),t(13,tt=null);return}if((ue=L==null?void 0:L.bookmarks)!=null&&ue.search)try{const te=(await L.bookmarks.search({query:h})).filter(de=>!de.url);for(const de of te){await jn(L,de.id);let Oe=de.parentId;for(;Oe;){await jn(L,Oe);const Ce=$t().nodesById[Oe];Oe=(Ce==null?void 0:Ce.parentId)??null}}}catch($){console.warn("Bookmark Dial: folder search failed",$)}const k=Is(),M=h.toLowerCase(),j=k.filter($=>{const te=$.title.toLowerCase().includes(M),de=$.path.join(" ").toLowerCase().includes(M);return te||de}).map($=>$.id);t(1,et=new Set(j));const z=new Set,oe=$t();j.forEach($=>{var Oe;let te=oe.nodesById[$];for(;te&&(z.add(te.id),!!te.parentId);)te=oe.nodesById[te.parentId];const de=oe.nodesById[$];(Oe=de==null?void 0:de.childrenIds)==null||Oe.forEach(Ce=>{const se=oe.nodesById[Ce];se!=null&&se.isFolder&&z.add(Ce)})}),t(13,tt=z)}function Tn(s){const h=qn(s),k=h.settings;(k.theme!==F.theme||k.accent!==F.accent||k.background.mode!==F.background.mode||k.background.gradientId!==F.background.gradientId||k.titleBackdrop!==F.titleBackdrop||k.mergeAllBookmarks!==F.mergeAllBookmarks||k.folderColumnWidth!==F.folderColumnWidth||k.compactFolderHeader!==F.compactFolderHeader||k.enableBookmarkSearch!==F.enableBookmarkSearch||k.enableTopSites!==F.enableTopSites)&&t(3,F={...F,...k,background:{...k.background}});const E=new Set(h.folderSelection.selectedIds),j=new Set(h.folderSelection.expandedIds),z=!yn(E,Z),oe=!yn(j,be);z&&(t(10,Z=E),he(),Ke()),oe&&t(94,be=j),(z||oe)&&t(97,_e=!1)}function Mn(s){const{next:h,changed:k}=fr(ee,s);if(!k)return;t(92,ee=h);let M=!1;const E=Q.map(j=>{const{next:z,changed:oe}=fr(j.items,s);return oe?(M=!0,{...j,items:z}):j});M&&t(93,Q=E)}function Ln(s){t(20,ge=ge===s?null:s)}function x(){t(20,ge=null)}function Ue(s,h="info",k=null,M=5e3){const E=++cl,j={id:E,message:s,type:h,undoData:k};return t(25,jt=[...jt,j]),M>0&&setTimeout(()=>Nl(E),M),E}function Nl(s){t(25,jt=jt.filter(h=>h.id!==s))}async function Dr(s){if(!(s!=null&&s.undoData))return;const{action:h,data:k}=s.undoData;try{h==="removeBookmark"&&k&&(await L.bookmarks.create({parentId:k.parentId,title:k.title,url:k.url,index:k.index}),Ue("Bookmark restored","success"))}catch(M){console.error("Bookmark Dial: undo failed",M),Ue("Failed to undo","error")}Nl(s.id)}async function Pr(){if(!O){t(26,Ft=!0);return}try{const s=await L.storage.local.get(Zl);s!=null&&s[Zl]||t(26,Ft=!0)}catch(s){console.warn("Bookmark Dial: failed to check welcome state",s)}}async function Ar(){if(t(26,Ft=!1),O)try{await L.storage.local.set({[Zl]:!0})}catch(s){console.warn("Bookmark Dial: failed to save welcome state",s)}}function jl(s,h){s.preventDefault(),x(),t(29,De=h);const k=180,M=180;let E=s.clientX,j=s.clientY;E+k>window.innerWidth&&(E=window.innerWidth-k-8),j+M>window.innerHeight&&(j=window.innerHeight-M-8),t(28,fn={x:E,y:j}),t(27,St=!0)}function Xt(){t(27,St=!1),t(29,De=null)}async function Or(){De!=null&&De.url&&window.open(De.url,"_blank"),Xt()}async function Nr(){if(De!=null&&De.url)try{await navigator.clipboard.writeText(De.url),Ue("URL copied to clipboard","success")}catch(s){console.error("Bookmark Dial: copy failed",s),Ue("Failed to copy URL","error")}Xt()}function jr(){De&&bl(De),Xt()}function Rr(){De&&el(De.id),Xt()}function zr(s){t(7,ft=s)}function uo(){t(30,Tt=!1),t(7,ft="")}async function fo(){var s;if(!qe){if(!((s=L==null?void 0:L.topSites)!=null&&s.get)){t(103,qe=!0);return}try{const h=await L.topSites.get();t(31,In=(h||[]).map((k,M)=>({id:`topsite-${M}`,title:k.title||Un(k.url),url:k.url,displayTitle:k.title||Un(k.url),initials:Mr(k.title||Un(k.url)),palette:Lr(k.title||Un(k.url)),fallback:!1,isTopSite:!0}))),t(103,qe=!0)}catch(h){console.warn("Bookmark Dial: failed to load top sites",h),t(103,qe=!0)}}}function Ur(s){const h=F.mergeAllBookmarks?F.enableTopSites?[...i,...In]:i:[];if(!h.length)return;const k=Hr(),M=h.length;if(s.key==="ArrowRight")s.preventDefault(),t(32,we=Math.min(we+1,M-1)),we<0&&t(32,we=0);else if(s.key==="ArrowLeft")s.preventDefault(),t(32,we=Math.max(we-1,0));else if(s.key==="ArrowDown"){s.preventDefault();const E=we+k;t(32,we=E<M?E:we)}else if(s.key==="ArrowUp"){s.preventDefault();const E=we-k;t(32,we=E>=0?E:we)}else if(s.key==="Enter"&&we>=0){s.preventDefault();const E=h[we];E!=null&&E.url&&(window.location.href=E.url)}else if((s.key==="Delete"||s.key==="Backspace")&&we>=0){s.preventDefault();const E=h[we];E&&!E.isTopSite&&el(E.id)}else s.key==="/"&&F.enableBookmarkSearch?(s.preventDefault(),t(30,Tt=!0)):s.key==="Escape"&&(t(32,we=-1),Xt())}function Hr(){return rn&&getComputedStyle(rn).getPropertyValue("grid-template-columns").split(" ").length||4}function Rl(s){t(32,we=s)}function zl(s,h,k=null){if(h.isTopSite){s.preventDefault();return}t(34,Pe=h),k||h.parentId,s.dataTransfer.effectAllowed="move",s.dataTransfer.setData("text/plain",h.id)}function Ul(s,h){!Pe||Pe.id===h.id||h.isTopSite||(s.preventDefault(),s.dataTransfer.dropEffect="move",t(35,sn=h))}function Gr(s){s.currentTarget.contains(s.relatedTarget)||t(35,sn=null)}async function Hl(s,h){if(s.preventDefault(),!Pe||Pe.id===h.id){pl();return}if(h.isTopSite){pl();return}try{await L.bookmarks.move(Pe.id,{parentId:h.parentId,index:h.index}),Ue("Bookmark moved","success")}catch(k){console.error("Bookmark Dial: move failed",k),Ue("Failed to move bookmark","error")}pl()}function Wr(){pl()}function pl(){t(34,Pe=null),t(35,sn=null)}async function Gl(s=null){const h=await Vr(s);if(!h)return;const k=prompt("Enter the URL for the new shortcut:");if(!k)return;const M=Cl(k.trim());if(!M){alert("That does not appear to be a valid URL.");return}const E=Un(M),j=prompt("Enter a title for the shortcut:",E),z=j?j.trim():E;try{await L.bookmarks.create({parentId:h,title:z,url:M})}catch(oe){console.error("Bookmark Dial: failed to create bookmark",oe),alert("Unable to add shortcut. Please try again.")}}function qr(){if(nt.length)return nt;const s=q(Z,Ye);if(s.length)return s;if(ve){const h=Bl(ve),k=h[h.length-1]||"Bookmark Dial";return[{id:ve,path:h,label:k,fullPath:h.join(" ‚Ä∫ "),count:0}]}return[]}async function Vr(s=null){if(s)return s;const h=qr();return h.length?h.length===1?h[0].id:ma(h):(alert("No folders are available for new shortcuts right now."),null)}async function bl(s){var z;if(!(s!=null&&s.id))return;x();const h=prompt("Update the shortcut URL:",s.url??"");if(h===null)return;const k=Cl(h.trim());if(!k){alert("That does not appear to be a valid URL.");return}const M=(z=s.title)!=null&&z.trim()?s.title:s.displayTitle||Un(k),E=prompt("Update the shortcut title:",M),j=E?E.trim():M;try{await L.bookmarks.update(s.id,{title:j,url:k})}catch(oe){console.error("Bookmark Dial: failed to update bookmark",oe),alert("Unable to update shortcut. Please try again.")}}async function el(s){x(),Xt();const h=ee.find(k=>k.id===s)||Q.flatMap(k=>k.items).find(k=>k.id===s);if(h)try{const[k]=await L.bookmarks.get(s);await L.bookmarks.remove(s),Ue(`"${h.displayTitle||h.title}" removed`,"info",{action:"removeBookmark",data:{parentId:k.parentId,title:k.title,url:k.url,index:k.index}},8e3)}catch(k){console.error("Bookmark Dial: failed to remove bookmark",k),Ue("Failed to remove bookmark","error")}}function Kr(){pe&&t(23,pe.value="",pe),ie==null||ie.showModal()}async function Qr(s){var k;s.preventDefault();const h=(k=pe==null?void 0:pe.files)==null?void 0:k[0];if(!h){ie==null||ie.close();return}if(!Xr(h)){alert("Please choose a JPEG or PNG image under 4 MB.");return}try{const M=await ba(h,b);O&&await L.storage.local.set({[vl]:M}),kl(M),t(3,F={...F,background:{...F.background,mode:"custom"}}),ie==null||ie.close()}catch(M){console.error("Bookmark Dial: failed to save background",M),alert("Unable to store the background image. Try a smaller file.")}}async function Yr(){try{O&&await L.storage.local.remove(vl)}catch(s){console.error("Bookmark Dial: failed to clear background",s)}kl(null),t(3,F={...F,background:{...F.background,mode:"gradient"}}),ie==null||ie.close()}function Jr(){ie==null||ie.close()}async function Zr(){if(!O){kl(null),F.background.mode==="custom"&&t(3,F={...F,background:{...F.background,mode:"gradient"}});return}try{const s=await L.storage.local.get(vl),h=(s==null?void 0:s[vl])||"";kl(h),!h&&F.background.mode==="custom"&&(t(3,F={...F,background:{...F.background,mode:"gradient"}}),t(100,Ot=!0))}catch(s){console.error("Bookmark Dial: failed to load background",s)}}function kl(s){t(21,wt=s||"")}function xt(s,h="info"){t(8,J=s),t(9,Y=h)}function Xr(s){return["image/jpeg","image/png"].includes(s.type)&&s.size<=b}function xr(){console.info("Bookmark Dial: using mock Chrome APIs for development");let s="mock-folder",h=1;const k={onCreated:new Set,onChanged:new Set,onMoved:new Set,onRemoved:new Set,onImportBegan:new Set,onImportEnded:new Set},M=new Set,E=new Map,j=new Map([["speedDialFolderId",s],[Rn,{version:zn,theme:C.theme,accent:C.accent,titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,background:{...C.background},folderSelection:{selectedIds:[s],expandedIds:[]}}]]),z=new Map;function oe(v,...T){const R=k[v];R&&R.forEach(V=>{try{V(...T)}catch(ae){console.error(`Mock chrome ${v} handler failed`,ae)}})}function ue(v,T){!T||Object.keys(T).length===0||M.forEach(R=>{try{R(T,v)}catch(V){console.error("Mock chrome storage listener failed",V)}})}function $(v){return v===void 0?void 0:JSON.parse(JSON.stringify(v))}function te(v,T){if(Array.isArray(T)){const R={};return T.forEach(V=>R[V]=v.get(V)),R}if(typeof T=="object"&&T!==null){const R={...T};for(const V of Object.keys(T))v.has(V)&&(R[V]=v.get(V));return R}return{[T]:v.get(T)}}function de(v,T,R){const V={};Object.entries(R||{}).forEach(([ae,at])=>{const wn=v.get(ae);v.set(ae,at),V[ae]={oldValue:$(wn),newValue:$(at)}}),ue(T,V)}function Oe(v,T,R){const V=Array.isArray(R)?R:[R],ae={};V.forEach(at=>{if(!v.has(at))return;const wn=v.get(at);v.delete(at),ae[at]={oldValue:$(wn),newValue:void 0}}),ue(T,ae)}function Ce(v){v!=null&&v.children&&(v.children.forEach((T,R)=>{T.index=R}),v.hasChildren=v.children.some(T=>!T.url))}function se(v,T,R){const V=z.get(v);if(!V)throw new Error(`Parent ${v} not found`);Array.isArray(V.children)||(V.children=[]);const ae=typeof R=="number"?Math.max(0,Math.min(R,V.children.length)):V.children.length;V.children.splice(ae,0,T),T.parentId=v,Ce(V)}function _n(v,T){const R=z.get(v);if(!(R!=null&&R.children))return;const V=R.children.findIndex(ae=>ae.id===T);V!==-1&&(R.children.splice(V,1),Ce(R))}function re({id:v,parentId:T=null,title:R="Untitled folder",index:V}){const ae=v??`mock-folder-${h++}`,at={id:ae,parentId:T,title:R,index:typeof V=="number"?V:0,children:[]};return z.set(ae,at),T&&se(T,at,V),at}function Ie({id:v,parentId:T,title:R,url:V,index:ae}){if(!T)throw new Error("Bookmarks require a parent folder");const at=v??`mock-bookmark-${h++}`,wn={id:at,parentId:T,title:R??V??"Untitled",url:V,index:typeof ae=="number"?ae:0};return z.set(at,wn),se(T,wn,ae),wn}function bt(v,T=!1){if(!v)return null;const R={id:v.id,parentId:v.parentId??void 0,title:v.title,index:v.index};return v.url&&(R.url=v.url),T&&Array.isArray(v.children)&&(R.children=v.children.map(V=>bt(V,!0))),R}function Dn(v){v&&(Array.isArray(v.children)&&[...v.children].forEach(T=>Dn(T)),z.delete(v.id))}const Pn=re({id:"0",parentId:null,title:""}),bo=re({id:"1",parentId:Pn.id,title:"Bookmarks Bar"});re({id:"2",parentId:Pn.id,title:"Other Bookmarks"}),re({id:"3",parentId:Pn.id,title:"Mobile Bookmarks"});const _l=re({id:"1-reading",parentId:"1",title:"Reading List"}),Ai=re({id:"2-inspiration",parentId:"2",title:"Inspiration"});function ko(v){[{title:"Svelte",url:"https://svelte.dev"},{title:"MDN Web Docs",url:"https://developer.mozilla.org"},{title:"GitHub",url:"https://github.com"},{title:"Stack Overflow",url:"https://stackoverflow.com"},{title:"Vite",url:"https://vitejs.dev"}].forEach((V,ae)=>{Ie({parentId:v,title:V.title,url:V.url,index:ae})});const R=re({id:`${v}-frameworks`,parentId:v,title:"Frameworks"});[{title:"React",url:"https://react.dev"},{title:"Vue.js",url:"https://vuejs.org"},{title:"Angular",url:"https://angular.io"},{title:"Ember.js",url:"https://emberjs.com"},{title:"Lit",url:"https://lit.dev"},{title:"Solid",url:"https://www.solidjs.com"},{title:"Alpine.js",url:"https://alpinejs.dev"},{title:"Preact",url:"https://preact.dev"},{title:"Backbone.js",url:"https://backbonejs.org"},{title:"jQuery",url:"https://jquery.com"},{title:"Next.js",url:"https://nextjs.org"},{title:"Nuxt.js",url:"https://nuxt.com"}].forEach((V,ae)=>{Ie({parentId:R.id,title:V.title,url:V.url,index:ae})})}re({id:s,parentId:bo.id,title:"Bookmark Dial"}),ko(s);const Oi=re({id:"bookmarks-bar-tooling",parentId:bo.id,title:"Developer Tools"});ta.forEach((v,T)=>{Ie({parentId:Oi.id,title:v.title,url:v.url,index:T})});const Wl=re({id:"reading-fiction",parentId:_l.id,title:"Fiction"}),Ni=re({id:"reading-fiction-classic",parentId:Wl.id,title:"Classic Novels"});Ct.fiction.classicNovels.forEach((v,T)=>{Ie({parentId:Ni.id,title:v.title,url:v.url,index:T})});const ji=re({id:"reading-fiction-modern",parentId:Wl.id,title:"Modern Fiction"});Ct.fiction.modernFiction.forEach((v,T)=>{Ie({parentId:ji.id,title:v.title,url:v.url,index:T})});const Ri=re({id:"reading-fiction-short",parentId:Wl.id,title:"Short Stories"});Ct.fiction.shortStories.forEach((v,T)=>{Ie({parentId:Ri.id,title:v.title,url:v.url,index:T})});const ql=re({id:"reading-nonfiction",parentId:_l.id,title:"Non-Fiction"}),zi=re({id:"reading-nonfiction-essays",parentId:ql.id,title:"Essays"});Ct.nonFiction.essays.forEach((v,T)=>{Ie({parentId:zi.id,title:v.title,url:v.url,index:T})});const Ui=re({id:"reading-nonfiction-bio",parentId:ql.id,title:"Biography"});Ct.nonFiction.biography.forEach((v,T)=>{Ie({parentId:Ui.id,title:v.title,url:v.url,index:T})});const Hi=re({id:"reading-nonfiction-history",parentId:ql.id,title:"History"});Ct.nonFiction.history.forEach((v,T)=>{Ie({parentId:Hi.id,title:v.title,url:v.url,index:T})});const Vl=re({id:"reading-poetry",parentId:_l.id,title:"Poetry"}),Gi=re({id:"reading-poetry-classic",parentId:Vl.id,title:"Classic Poetry"});Ct.poetry.classicPoetry.forEach((v,T)=>{Ie({parentId:Gi.id,title:v.title,url:v.url,index:T})});const Wi=re({id:"reading-poetry-contemporary",parentId:Vl.id,title:"Contemporary Poetry"});Ct.poetry.contemporaryPoetry.forEach((v,T)=>{Ie({parentId:Wi.id,title:v.title,url:v.url,index:T})});const qi=re({id:"reading-poetry-spoken",parentId:Vl.id,title:"Spoken Word"});Ct.poetry.spokenWord.forEach((v,T)=>{Ie({parentId:qi.id,title:v.title,url:v.url,index:T})});const Kl=re({id:"reading-academic",parentId:_l.id,title:"Academic"}),Vi=re({id:"reading-academic-criticism",parentId:Kl.id,title:"Literary Criticism"});Ct.academic.literaryCriticism.forEach((v,T)=>{Ie({parentId:Vi.id,title:v.title,url:v.url,index:T})});const Ki=re({id:"reading-academic-theory",parentId:Kl.id,title:"Literary Theory"});Ct.academic.literaryTheory.forEach((v,T)=>{Ie({parentId:Ki.id,title:v.title,url:v.url,index:T})});const Qi=re({id:"reading-academic-journals",parentId:Kl.id,title:"Academic Journals"});Ct.academic.journals.forEach((v,T)=>{Ie({parentId:Qi.id,title:v.title,url:v.url,index:T})}),[{title:"Muz.li",url:"https://muz.li"},{title:"Awwwards",url:"https://www.awwwards.com"},{title:"Dribbble",url:"https://dribbble.com"}].forEach((v,T)=>{Ie({parentId:Ai.id,title:v.title,url:v.url,index:T})});function An(v){const T=k[v];return{addListener:R=>T.add(R),removeListener:R=>T.delete(R)}}return{runtime:{sendMessage:async v=>{if((v==null?void 0:v.type)==="getFolderId")return{folderId:s};if((v==null?void 0:v.type)==="resetFolderCache"){const T=`mock-folder-${Date.now().toString(36)}`,R=z.get(s);if(R){const ae=R.parentId;ae&&_n(ae,R.id),Dn(R)}s=T;const V=re({id:s,parentId:"1",title:"Bookmark Dial"});return ko(V.id),de(j,"sync",{speedDialFolderId:s,[Rn]:{version:zn,theme:C.theme,accent:C.accent,titleBackdrop:C.titleBackdrop,mergeAllBookmarks:C.mergeAllBookmarks,background:{...C.background},folderSelection:{selectedIds:[s],expandedIds:[]}}}),{folderId:s}}return{}}},bookmarks:{onCreated:An("onCreated"),onChanged:An("onChanged"),onMoved:An("onMoved"),onRemoved:An("onRemoved"),onImportBegan:An("onImportBegan"),onImportEnded:An("onImportEnded"),async getTree(){return[bt(z.get("0"),!0)]},async getChildren(v){const T=z.get(v);return T!=null&&T.children?T.children.map(R=>bt(R,!1)):[]},async getSubTree(v){const T=z.get(v);return T?[bt(T,!0)]:[]},async search(v){const T=String((v==null?void 0:v.query)??"").trim().toLowerCase();return T?Array.from(z.values()).filter(R=>!R.url&&(R.title||"").toLowerCase().includes(T)).map(R=>bt(R,!1)):[]},async create({parentId:v,title:T,url:R}){const V=R?Ie({parentId:v,title:T,url:R}):re({parentId:v,title:T});return oe("onCreated",V.id,bt(V,!0)),bt(V,!0)},async update(v,T={}){const R=z.get(v);if(!R)throw new Error("Bookmark not found");const V={};return typeof T.title=="string"&&(R.title=T.title,V.title=T.title),typeof T.url=="string"&&(R.url=T.url,V.url=T.url),oe("onChanged",v,V),bt(R,!1)},async remove(v){const T=z.get(v);if(!T)throw new Error("Bookmark not found");const R=bt(T,!0);T.parentId&&_n(T.parentId,v),Dn(T),oe("onRemoved",v,{parentId:R.parentId??null,node:R})},async move(v,{parentId:T,index:R}){const V=z.get(v);if(!V)throw new Error("Bookmark not found");const ae=V.parentId??null;return ae&&_n(ae,v),se(T,V,R),oe("onMoved",v,{parentId:T,oldParentId:ae,index:R}),bt(V,!1)}},storage:{local:{async get(v){return te(E,v)},async set(v){de(E,"local",v)},async remove(v){Oe(E,"local",v)}},sync:{async get(v){return te(j,v)},async set(v){de(j,"sync",v)},async remove(v){Oe(j,"sync",v)}},onChanged:{addListener(v){M.add(v)},removeListener(v){M.delete(v)}}},topSites:{async get(){return[{title:"Google",url:"https://www.google.com"},{title:"YouTube",url:"https://www.youtube.com"},{title:"Facebook",url:"https://www.facebook.com"},{title:"Twitter",url:"https://twitter.com"},{title:"Reddit",url:"https://www.reddit.com"},{title:"Wikipedia",url:"https://www.wikipedia.org"},{title:"Amazon",url:"https://www.amazon.com"},{title:"Netflix",url:"https://www.netflix.com"}]}}}}function $r(s){cs.call(this,n,s)}function ei(s){qt[s?"unshift":"push"](()=>{Te=s,t(24,Te)})}const ti=s=>Yn(s.id),ni=s=>bn(s.id),li=s=>Jn(s.currentTarget.checked),oi=s=>Zt(s.id),ri=s=>ht(s.currentTarget.checked),ii=s=>zt(s.currentTarget.value),si=s=>Zn(s.currentTarget.checked),ai=s=>Fn(s.currentTarget.checked),ci=s=>Xn(s.currentTarget.checked);function ui(s){qt[s?"unshift":"push"](()=>{fe=s,t(2,fe)})}const di=s=>Ln(s.id),fi=s=>bl(s),hi=s=>el(s.id),gi=s=>Mn(s.id),mi=(s,h)=>jl(h,s),pi=s=>Rl(s),bi=(s,h)=>zl(h,s),ki=(s,h)=>Ul(h,s),_i=(s,h)=>Hl(h,s),wi=s=>Rl(i.length+s);function yi(s){qt[s?"unshift":"push"](()=>{rn=s,t(33,rn)})}const Si=s=>Ln(s.id),vi=s=>bl(s),Ci=s=>el(s.id),Ii=s=>Mn(s.id),Bi=(s,h)=>jl(h,s),Ei=(s,h,k)=>zl(k,s,h.id),Fi=(s,h)=>Ul(h,s),Ti=(s,h)=>Hl(h,s),Mi=s=>Gl(s.id),Li=s=>Gl(s.id);function Di(s){qt[s?"unshift":"push"](()=>{pe=s,t(23,pe)})}function Pi(s){qt[s?"unshift":"push"](()=>{ie=s,t(22,ie)})}return n.$$.update=()=>{n.$$.dirty[3]&512&&t(104,l=new Set(on.slice(0,Ll).map(s=>s.id))),n.$$.dirty[3]&256&&t(105,o=new Set(Nt.slice(0,Dl).map(s=>s.id))),n.$$.dirty[0]&40|n.$$.dirty[3]&2048&&!ot&&F.background.mode==="gradient"&&F.background.gradientId&&!l.has(F.background.gradientId)&&t(5,ot=!0),n.$$.dirty[0]&32|n.$$.dirty[3]&512&&t(39,r=ot?on:on.slice(0,Ll)),n.$$.dirty[0]&72|n.$$.dirty[3]&4096&&!rt&&F.accent&&!o.has(F.accent)&&t(6,rt=!0),n.$$.dirty[0]&64|n.$$.dirty[3]&256&&t(38,a=rt?Nt:Nt.slice(0,Dl)),n.$$.dirty[0]&8|n.$$.dirty[3]&244&&!yt&&$e&&(mn(F.theme),Mt(F.accent),Lt(F.background.gradientId),(Ot||_e||ln)&&Dt(),t(99,ln=!0),t(100,Ot=!1),t(97,_e=!1)),n.$$.dirty[0]&16&&typeof document<"u"&&document.body.classList.toggle("settings-open",Et),n.$$.dirty[0]&20&&Et&&eo().then(()=>{fe==null||fe.focus()}),n.$$.dirty[0]&3|n.$$.dirty[3]&10&&t(19,Bt=(()=>{const s=ke&&Je?Je:be,h=new Set(s??[]);if(et.size){const k=$t();et.forEach(M=>{var j,z;let E=((j=k.nodesById[M])==null?void 0:j.parentId)??null;for(;E;)h.add(E),E=((z=k.nodesById[E])==null?void 0:z.parentId)??null})}return h})()),n.$$.dirty[0]&128|n.$$.dirty[2]&1073741824&&t(36,i=(()=>{if(!ft.trim())return ee;const s=ft.toLowerCase().trim();return ee.filter(h=>{var k,M,E;return((k=h.title)==null?void 0:k.toLowerCase().includes(s))||((M=h.url)==null?void 0:M.toLowerCase().includes(s))||((E=h.displayTitle)==null?void 0:E.toLowerCase().includes(s))})})()),n.$$.dirty[0]&128|n.$$.dirty[3]&1&&t(37,c=(()=>{if(!ft.trim())return Q;const s=ft.toLowerCase().trim();return Q.map(h=>({...h,items:h.items.filter(k=>{var M,E,j;return((M=k.title)==null?void 0:M.toLowerCase().includes(s))||((E=k.url)==null?void 0:E.toLowerCase().includes(s))||((j=k.displayTitle)==null?void 0:j.toLowerCase().includes(s))})})).filter(h=>h.items.length>0)})()),n.$$.dirty[0]&8|n.$$.dirty[3]&1024&&F.enableTopSites&&!qe&&fo()},[ke,et,fe,F,Et,ot,rt,ft,J,Y,Z,We,N,tt,nt,kt,ce,Ee,_t,Bt,ge,wt,ie,pe,Te,jt,Ft,St,fn,De,Tt,In,we,rn,Pe,sn,i,c,a,r,d,S,g,p,Jt,vt,En,pn,Yn,bn,Jn,ht,zt,Zn,Fn,Xn,Zt,dl,Qe,Me,hl,Wt,gl,B,pt,ml,Mn,Ln,Nl,Dr,Ar,jl,Xt,Or,Nr,jr,Rr,zr,uo,Ur,Rl,zl,Ul,Gr,Hl,Wr,Gl,bl,el,Qr,Yr,Jr,ee,Q,be,$e,Je,_e,yt,ln,Ot,Nt,on,qe,l,o,$r,ei,ti,ni,li,oi,ri,ii,si,ai,ci,ui,di,fi,hi,gi,mi,pi,bi,ki,_i,wi,yi,Si,vi,Ci,Ii,Bi,Ei,Fi,Ti,Mi,Li,Di,Pi]}class Ma extends dn{constructor(e){super(),un(this,e,Ta,fa,tn,{},null,[-1,-1,-1,-1,-1,-1,-1,-1])}}new Ma({target:document.getElementById("app")});
